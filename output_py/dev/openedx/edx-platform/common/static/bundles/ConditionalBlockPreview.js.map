{"version":3,"sources":["webpack:///./common/static/xmodule/modules/js/001-879b5ca9f0c8ae80045af7486d8d310d.js","webpack:///./common/static/xmodule/modules/js/002-3918b2d4f383c04fed8227cc9f523d6e.js?93bc***","webpack:///./common/static/xmodule/modules/js/003-b3206f2283964743c4772b9d72c67d64.js?f7fe****","webpack:///./~/scriptjs/dist/script.js?7154****"],"names":["Conditional","element","runtime","callerElId","dependencies","el","$","find","data","length","indexOf","url","render","prototype","postWithPrefix","_this","response","i","len","parentEl","parentId","ref","renderedFragments","html","fragments","push","renderXBlockFragment","console","log","parent","attr","message","hasClass","hide","show","when","apply","done","XBlock","initializeBlocks","fragment","content","resources","addXBlockFragmentResources","append","e","error","stack","Deferred","resolve","self","applyResource","numResources","deferred","index","hash","resource","value","promise","window","loadedXBlockResources","_","loadResource","fail","reject","$head","mimetype","kind","placement","loaded","$script","call","JavascriptLoader","executeModuleScripts","callback","callbackCalled","completed","completionHandlerGenerator","placeholders","results","allComplete","flag","undefined","each","placeholder","s","src","document","createElement","setAttribute","onload","appendChild","remove","Collapsible","setCollapsibles","toggleFull","toggleHint","linkBottom","linkTop","short_custom","elt","close_text","open_text","edx","joinHtml","HTML","gettext","click","event","$el","new_text","preventDefault","target","siblings","slideToggle","toggleClass","text"],"mappings":"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ACDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,IAAyC,EAAE,oCAAO,UAAU;AAAA;AAAA;AAAA;AAAA,oGAAC;AACxE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC,OAAO;AACzC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,6EAA6E,sBAAsB;AACnG;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,iCAAiC,iBAAiB;AACvD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC","file":"ConditionalBlockPreview.js","sourcesContent":["/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n// Once generated by CoffeeScript 1.9.3, but now lives as pure JS\n/* eslint-disable */\n(function() {\n  this.Conditional = (function() {\n    function Conditional(element, runtime, callerElId) {\n      var dependencies;\n      this.el = $(element).find('.conditional-wrapper');\n      this.callerElId = callerElId;\n      if (callerElId !== void 0) {\n        dependencies = this.el.data('depends');\n        if ((typeof dependencies === 'string') && (dependencies.length > 0) && (dependencies.indexOf(callerElId) === -1)) {\n          return;\n        }\n      }\n      this.url = this.el.data('url');\n      if (this.url) {\n        this.render(element);\n      }\n    }\n\n    Conditional.prototype.render = function(element) {\n      return $.postWithPrefix(this.url + \"/conditional_get\", (function(_this) {\n        return function(response) {\n          var i, len, parentEl, parentId, ref, renderedFragments=[];\n          _this.el.html('');\n          fragments = response.fragments;\n          for (i = 0, len = fragments.length; i < len; i++) {\n            renderedFragments.push(_this.renderXBlockFragment(fragments[i]));\n            console.log(\"Started fragment loading\", fragments[i])\n          }\n          parentEl = $(element).parent();\n          parentId = parentEl.attr('id');\n          if (response.message === false) {\n            if (parentEl.hasClass('vert')) {\n              parentEl.hide();\n            } else {\n              $(element).hide();\n            }\n          } else {\n            if (parentEl.hasClass('vert')) {\n              parentEl.show();\n            } else {\n              $(element).show();\n            }\n          }\n\n          /*\n          The children are rendered with a new request, so they have a different request-token.\n          Use that token instead of @requestToken by simply not passing a token into initializeBlocks.\n          */\n          $.when.apply(null, renderedFragments).done(function() {\n              console.log(\"All fragments loaded, initializing blocks\");\n              XBlock.initializeBlocks(_this.el);\n          });\n        };\n      })(this));\n    };\n\n\n    /**\n    * Renders an xblock fragment into the specified element. The fragment has two attributes:\n    *   html: the HTML to be rendered\n    *   resources: any JavaScript or CSS resources that the HTML depends upon\n    * Note that the XBlock is rendered asynchronously, and so a promise is returned that\n    * represents this process.\n    * @param fragment The fragment returned from the xblock_handler\n    * @returns {Promise} A promise representing the rendering process\n    */\n    Conditional.prototype.renderXBlockFragment = function(fragment) {\n      var html = fragment.content,\n      resources = fragment.resources || [],\n      element = this.el;\n      // Render the HTML first as the scripts might depend upon it, and then\n      // asynchronously add the resources to the page. Any errors that are thrown\n      // by included scripts are logged to the console but are then ignored assuming\n      // that at least the rendered HTML will be in place.\n      try {\n        return this.addXBlockFragmentResources(resources).done(function () {\n          // We give XBlock fragments free-reign to add javascript and CSS to\n          // to the page, so XSS escaping doesn't matter much in this context\n          console.log(\"Fragment resources loaded, appending HTML\");\n          // xss-lint: disable=javascript-jquery-append\n          element.append(html);\n        });\n      } catch (e) {\n        console.error(e, e.stack);\n        return $.Deferred().resolve();\n      }\n    };\n\n    /**\n    * Dynamically loads all of an XBlock's dependent resources. This is an asynchronous\n    * process so a promise is returned.\n    * @param resources The resources to be rendered\n    * @returns {Promise} A promise representing the rendering process\n    */\n    Conditional.prototype.addXBlockFragmentResources = function(resources) {\n      var self = this;\n      var applyResource;\n      var numResources;\n      var deferred;\n      var numResources = resources.length;\n      var deferred = $.Deferred();\n\n      applyResource = function (index) {\n        var hash, resource, value, promise;\n        if (index >= numResources) {\n          deferred.resolve();\n          return;\n        }\n        resource = resources[index];\n        window.loadedXBlockResources = window.loadedXBlockResources || [];\n        if (_.indexOf(loadedXBlockResources, resource) < 0) {\n          promise = self.loadResource(resource);\n          loadedXBlockResources.push(resource);\n          promise.done(function () {\n            applyResource(index + 1);\n          }).fail(function () {\n            deferred.reject();\n          });\n        } else {\n          applyResource(index + 1);\n        }\n      };\n      applyResource(0);\n      return deferred.promise();\n    };\n\n    /**\n    * Loads the specified resource into the page.\n    * @param resource The resource to be loaded.\n    * @returns {Promise} A promise representing the loading of the resource.\n    */\n    Conditional.prototype.loadResource = function(resource) {\n      // We give XBlock fragments free-reign to add javascript and CSS to\n      // to the page, so XSS escaping doesn't matter much in this context\n      var $head = $('head'),\n      mimetype = resource.mimetype,\n      kind = resource.kind,\n      placement = resource.placement,\n      data = resource.data;\n      var loaded;\n      if (mimetype === 'text/css') {\n        if (kind === 'text') {\n          // xss-lint: disable=javascript-jquery-append,javascript-concat-html\n          $head.append(\"<style type='text/css'>\" + data + '</style>');\n        } else if (kind === 'url') {\n          // xss-lint: disable=javascript-jquery-append,javascript-concat-html\n          $head.append(\"<link rel='stylesheet' href='\" + data + \"' type='text/css'>\");\n        }\n      } else if (mimetype === 'application/javascript') {\n        if (kind === 'text') {\n            // xss-lint: disable=javascript-jquery-append,javascript-concat-html\n            $head.append('<script>' + data + '</script>');\n        } else if (kind === 'url') {\n          loaded = $.Deferred();\n          $script(data, data, function() {\n              loaded.resolve()\n          });\n          return loaded.promise();\n        }\n      } else if (mimetype === 'text/html') {\n        if (placement === 'head') {\n          // xss-lint: disable=javascript-jquery-append\n          $head.append(data);\n        }\n      }\n      // Return an already resolved promise for synchronous updates\n      return $.Deferred().resolve().promise();\n    };\n\n    return Conditional;\n\n  })();\n\n}).call(this);\n\n}.call(window));\n\n\n// WEBPACK FOOTER //\n// ./common/static/xmodule/modules/js/001-879b5ca9f0c8ae80045af7486d8d310d.js","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n(function() {\n    'use strict';\n    this.JavascriptLoader = (function() {\n        function JavascriptLoader() {\n        }\n\n        /**\n         * Set of library functions that provide common interface for javascript loading\n         * for all module types. All functionality provided by JavascriptLoader should take\n         * place at module scope, i.e. don't run jQuery over entire page.\n         *\n         * executeModuleScripts:\n         *     Scan the module ('el') for \"script_placeholder\"s, then:\n         *\n         *     1) Fetch each script from server\n         *     2) Explicitly attach the script to the <head> of document\n         *     3) Explicitly wait for each script to be loaded\n         *     4) Return to callback function when all scripts loaded\n         */\n        JavascriptLoader.executeModuleScripts = function(el, callback) {\n            var callbackCalled, completed, completionHandlerGenerator, loaded, placeholders;\n            if (!callback) {\n                callback = null; // eslint-disable-line no-param-reassign\n            }\n            placeholders = el.find('.script_placeholder');\n            if (placeholders.length === 0) {\n                if (callback !== null) {\n                    callback();\n                }\n                return [];\n            }\n            // TODO: Verify the execution order of multiple placeholders\n            completed = (function() {\n                var i, ref, results;\n                results = [];\n                for (i = 1, ref = placeholders.length; ref >= 1 ? i <= ref : i >= ref; ref >= 1 ? ++i : --i) {\n                    results.push(false);\n                }\n                return results;\n            }());\n            callbackCalled = false;\n            completionHandlerGenerator = function(index) {\n                return function() {\n                    var allComplete, flag, i, len;\n                    allComplete = true;\n                    completed[index] = true;\n                    for (i = 0, len = completed.length; i < len; i++) {\n                        flag = completed[i];\n                        if (!flag) {\n                            allComplete = false;\n                            break;\n                        }\n                    }\n                    if (allComplete && !callbackCalled) {\n                        callbackCalled = true;\n                        if (callback !== null) {\n                            return callback();\n                        }\n                    }\n                    return undefined;\n                };\n            };\n            // Keep a map of what sources we're loaded from, and don't do it twice.\n            loaded = {};\n            return placeholders.each(function(index, placeholder) {\n                var s, src;\n                // TODO: Check if the script already exists in DOM. If so, (1) copy it\n                // into memory; (2) delete the DOM script element; (3) reappend it.\n                // This would prevent memory bloat and save a network request.\n                src = $(placeholder).attr('data-src');\n                if (!(src in loaded)) {\n                    loaded[src] = true;\n                    s = document.createElement('script');\n                    s.setAttribute('src', src);\n                    s.setAttribute('type', 'text/javascript');\n                    s.onload = completionHandlerGenerator(index);\n                    // Need to use the DOM elements directly or the scripts won't execute properly.\n                    $('head')[0].appendChild(s);\n                } else {\n                    // just call the completion callback directly, without reloading the file\n                    completionHandlerGenerator(index)();\n                }\n                return $(placeholder).remove();\n            });\n        };\n\n        return JavascriptLoader;\n    }());\n}).call(this);\n\n}.call(window));\n\n\n// WEBPACK FOOTER //\n// ./common/static/xmodule/modules/js/002-3918b2d4f383c04fed8227cc9f523d6e.js","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n(function(undefined) {\n    'use strict';\n\n    // [module Collapsible]\n    //\n    // [description]\n    //     Set of library functions that provide a simple way to add\n    //     collapsible functionality to elements.\n    this.Collapsible = {\n        setCollapsibles: setCollapsibles,\n        toggleFull: toggleFull,\n        toggleHint: toggleHint\n    };\n\n    return;\n\n    // [function setCollapsibles]\n    //\n    // [description]\n    //     Scan element's content for generic collapsible containers.\n    //\n    // [params]\n    //     el: container\n    function setCollapsibles(el) {\n        var linkBottom, linkTop, short_custom;\n\n        linkTop = '<a href=\"#\" class=\"full full-top\">See full output</a>';\n        linkBottom = '<a href=\"#\" class=\"full full-bottom\">See full output</a>';\n\n        // Standard longform + shortfom pattern.\n        el.find('.longform').hide();\n        el.find('.shortform').append(linkTop, linkBottom); // xss-lint: disable=javascript-jquery-append\n\n        // Custom longform + shortform text pattern.\n        short_custom = el.find('.shortform-custom');\n\n        // Set up each one individually.\n        short_custom.each(function(index, elt) {\n            var close_text, open_text;\n\n            open_text = $(elt).data('open-text');\n            close_text = $(elt).data('close-text');\n            edx.HtmlUtils.append(\n                $(elt),\n                edx.HtmlUtils.joinHtml(\n                    edx.HtmlUtils.HTML(\"<a href='#' class='full-custom'>\"),\n                    gettext(open_text),\n                    edx.HtmlUtils.HTML('</a>')\n                )\n            );\n\n            $(elt).find('.full-custom').click(function(event) {\n                Collapsible.toggleFull(event, open_text, close_text);\n            });\n        });\n\n        // Collapsible pattern.\n        el.find('.collapsible header + section').hide();\n\n        // Set up triggers.\n        el.find('.full').click(function(event) {\n            Collapsible.toggleFull(event, 'See full output', 'Hide output');\n        });\n        el.find('.collapsible header a').click(Collapsible.toggleHint);\n    }\n\n    // [function toggleFull]\n    //\n    // [description]\n    //     Toggle the display of full text for a collapsible element.\n    //\n    // [params]\n    //     event: jQuery event object associated with the event that\n    //         triggered this callback function.\n    //     open_text: text that should be displayed when the collapsible\n    //         is open.\n    //     close_text: text that should be displayed when the collapsible\n    //         is closed.\n    function toggleFull(event, open_text, close_text) {\n        var $el, new_text, parent;\n\n        event.preventDefault();\n\n        parent = $(event.target).parent();\n        parent.siblings().slideToggle();\n        parent.parent().toggleClass('open');\n\n        if ($(event.target).text() === open_text) {\n            new_text = close_text;\n        } else {\n            new_text = open_text;\n        }\n\n        if ($(event.target).hasClass('full')) {\n            $el = parent.find('.full');\n        } else {\n            $el = $(event.target);\n        }\n\n        $el.text(new_text);\n    }\n\n    // [function toggleHint]\n    //\n    // [description]\n    //     Toggle the collapsible open to show the hint.\n    //\n    // [params]\n    //     event: jQuery event object associated with the event that\n    //         triggered this callback function.\n    function toggleHint(event) {\n        event.preventDefault();\n\n        $(event.target).parent().siblings().slideToggle();\n        $(event.target).parent().parent().toggleClass('open');\n    }\n}).call(this);\n\n}.call(window));\n\n\n// WEBPACK FOOTER //\n// ./common/static/xmodule/modules/js/003-b3206f2283964743c4772b9d72c67d64.js","/*!\n  * $script.js JS loader & dependency manager\n  * https://github.com/ded/script.js\n  * (c) Dustin Diaz 2014 | License MIT\n  */\n\n(function (name, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else this[name] = definition()\n})('$script', function () {\n  var doc = document\n    , head = doc.getElementsByTagName('head')[0]\n    , s = 'string'\n    , f = false\n    , push = 'push'\n    , readyState = 'readyState'\n    , onreadystatechange = 'onreadystatechange'\n    , list = {}\n    , ids = {}\n    , delay = {}\n    , scripts = {}\n    , scriptpath\n    , urlArgs\n\n  function every(ar, fn) {\n    for (var i = 0, j = ar.length; i < j; ++i) if (!fn(ar[i])) return f\n    return 1\n  }\n  function each(ar, fn) {\n    every(ar, function (el) {\n      return !fn(el)\n    })\n  }\n\n  function $script(paths, idOrDone, optDone) {\n    paths = paths[push] ? paths : [paths]\n    var idOrDoneIsDone = idOrDone && idOrDone.call\n      , done = idOrDoneIsDone ? idOrDone : optDone\n      , id = idOrDoneIsDone ? paths.join('') : idOrDone\n      , queue = paths.length\n    function loopFn(item) {\n      return item.call ? item() : list[item]\n    }\n    function callback() {\n      if (!--queue) {\n        list[id] = 1\n        done && done()\n        for (var dset in delay) {\n          every(dset.split('|'), loopFn) && !each(delay[dset], loopFn) && (delay[dset] = [])\n        }\n      }\n    }\n    setTimeout(function () {\n      each(paths, function loading(path, force) {\n        if (path === null) return callback()\n        \n        if (!force && !/^https?:\\/\\//.test(path) && scriptpath) {\n          path = (path.indexOf('.js') === -1) ? scriptpath + path + '.js' : scriptpath + path;\n        }\n        \n        if (scripts[path]) {\n          if (id) ids[id] = 1\n          return (scripts[path] == 2) ? callback() : setTimeout(function () { loading(path, true) }, 0)\n        }\n\n        scripts[path] = 1\n        if (id) ids[id] = 1\n        create(path, callback)\n      })\n    }, 0)\n    return $script\n  }\n\n  function create(path, fn) {\n    var el = doc.createElement('script'), loaded\n    el.onload = el.onerror = el[onreadystatechange] = function () {\n      if ((el[readyState] && !(/^c|loade/.test(el[readyState]))) || loaded) return;\n      el.onload = el[onreadystatechange] = null\n      loaded = 1\n      scripts[path] = 2\n      fn()\n    }\n    el.async = 1\n    el.src = urlArgs ? path + (path.indexOf('?') === -1 ? '?' : '&') + urlArgs : path;\n    head.insertBefore(el, head.lastChild)\n  }\n\n  $script.get = create\n\n  $script.order = function (scripts, id, done) {\n    (function callback(s) {\n      s = scripts.shift()\n      !scripts.length ? $script(s, id, done) : $script(s, callback)\n    }())\n  }\n\n  $script.path = function (p) {\n    scriptpath = p\n  }\n  $script.urlArgs = function (str) {\n    urlArgs = str;\n  }\n  $script.ready = function (deps, ready, req) {\n    deps = deps[push] ? deps : [deps]\n    var missing = [];\n    !each(deps, function (dep) {\n      list[dep] || missing[push](dep);\n    }) && every(deps, function (dep) {return list[dep]}) ?\n      ready() : !function (key) {\n      delay[key] = delay[key] || []\n      delay[key][push](ready)\n      req && req(missing)\n    }(deps.join('|'))\n    return $script\n  }\n\n  $script.done = function (idOrDone) {\n    $script([null], idOrDone)\n  }\n\n  return $script\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/scriptjs/dist/script.js\n// module id = ./node_modules/scriptjs/dist/script.js\n// module chunks = 7 8 9 11 22 32"],"sourceRoot":""}