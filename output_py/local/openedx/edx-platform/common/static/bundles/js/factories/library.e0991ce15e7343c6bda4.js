!function(t,e){for(var n in e)t[n]=e[n]}(window,webpackJsonp([7],{"./cms/djangoapps/pipeline_js/js/xmodule.js":function(t,e,n){var i,r;i=[n(0),n(1),n("./common/static/js/vendor/codemirror-compressed.js"),n("./common/static/js/vendor/tinymce/js/tinymce/tinymce.js"),n("./node_modules/scriptjs/dist/script.js"),n("./common/static/js/vendor/tinymce/js/tinymce/jquery.tinymce.min.js"),n("./common/static/js/vendor/jquery.qtip.min.js"),n("./common/static/common/js/vendor/jquery.scrollTo.js"),n("./common/static/js/vendor/flot/jquery.flot.min.js"),n("./common/static/js/vendor/jquery.cookie.js"),n("./common/static/js/src/utility.js")],void 0!==(r=function(t,e,i,r,o){"use strict";return window.$=t,window._=e,o("https://cdn.jsdelivr.net/npm/mathjax@2.7.5/MathJax.js?config=TeX-MML-AM_SVG&delayStartupUntil=configured","mathjax",function(){window.MathJax.Hub.Config({tex2jax:{inlineMath:[["\\(","\\)"],["[mathjaxinline]","[/mathjaxinline]"]],displayMath:[["\\[","\\]"],["[mathjax]","[/mathjax]"]]}}),window.MathJax.Hub.processSectionDelay=0,window.MathJax.Hub.Configured()}),window.CodeMirror=i,window.RequireJS={requirejs:{},require:o,define:n("./node_modules/webpack/buildin/amd-define.js")},function(e){function n(t){o.ready("mathjax",function(){t.length?o([t.shift()],function(){n(t)}):i.resolve()})}var i=t.Deferred();return n(e.concat()),i.promise()}([])}.apply(e,i))&&(t.exports=r)},"./cms/static/cms/js/main.js":function(t,e,n){(function(i,r){var o,s;o=[n("./common/static/js/vendor/domReady.js"),n(0),n(1),n("./common/static/common/js/vendor/underscore.string.js"),n(2),n(3),n("./common/static/common/js/components/views/feedback_notification.js"),n("./common/static/js/src/ajax_prefix.js"),n("./common/static/js/src/ajax_prefix.js"),n("./common/static/js/vendor/jquery.cookie.js")],void 0!==(s=function(t,e,n,o,s,a,l){"use strict";var u,c;return u=function(){return i.addAjaxPrefix(r,function(){return e("meta[name='path_prefix']").attr("content")}),window.CMS=window.CMS||{},window.CMS.URL=window.CMS.URL||{},window.onTouchBasedDevice=function(){return navigator.userAgent.match(/iPhone|iPod|iPad|Android/i)},n.extend(window.CMS,s.Events),s.emulateHTTP=!0,e.ajaxSetup({headers:{"X-CSRFToken":e.cookie("csrftoken")},dataType:"json",content:{script:!1}}),e(document).ajaxError(function(t,e,n){var i,r,o=a("This may be happening because of an error with our server or your internet connection. Try refreshing the page or making sure you are online.");if(!1!==n.notifyOnError)return r=e.getResponseHeader("content-type"),r&&r.indexOf("json")>-1&&e.responseText&&(o=JSON.parse(e.responseText).error),i=new l.Error({title:a("Studio's having trouble saving your work"),message:o}),console.log("Studio AJAX Error",{url:t.currentTarget.URL,response:e.responseText,status:e.status}),i.show()}),c=function(t,n,i,r){return e.isFunction(n)&&(i=n,n=void 0),e.ajax({url:t,type:r,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(n),success:i,global:!n||n.global})},e.postJSON=function(t,e,n){return c(t,e,n,"POST")},e.patchJSON=function(t,e,n){return c(t,e,n,"PATCH")},t(function(){return window.onTouchBasedDevice()?e("body").addClass("touch-based-device"):null})},u(),u}.apply(e,o))&&(t.exports=s)}).call(e,n("./common/static/js/src/ajax_prefix.js"),n(0))},"./cms/static/cms/js/xblock/cms.runtime.v1.js":function(t,e,n){(function(i){var r,o;r=[n(0),n(2),n("./common/static/common/js/xblock/runtime.v1.js"),n(6),n(3),n("./cms/static/js/utils/modal.js"),n("./common/static/common/js/components/views/feedback_notification.js")],void 0!==(o=function(t,e,n,r,o,s,a){"use strict";var l={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}var i;for(i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={},d={},f={};c.v1=function(n){function s(){s.__super__.constructor.call(this),this.dispatcher=i.clone(e.Events),this.listenTo("save",this._handleSave),this.listenTo("cancel",this._handleCancel),this.listenTo("error",this._handleError),this.listenTo("modal-shown",function(t){this.modal=t}),this.listenTo("modal-hidden",function(){this.modal=null}),this.listenTo("page-shown",function(t){this.page=t})}return u(s,n),s.prototype.handlerUrl=function(e,n,i,o){var s;return s=r(this.handlerPrefix).segment(t(e).data("usage-id")).segment("handler").segment(n),null!==i&&s.segment(i),null!==o&&s.search(o),s.toString()},s.prototype.notify=function(t,e){this.dispatcher.trigger(t,e)},s.prototype.listenTo=function(t,e){this.dispatcher.bind(t,e,this)},s.prototype.refreshXBlock=function(t){this.page&&this.page.refreshXBlock(t)},s.prototype._handleError=function(t){var e,n;(e=t.message||t.msg)&&(n=t.title||o("OpenAssessment Save Error"),this.alert=new a.Error({title:n,message:e,closeIcon:!1,shown:!1}),this.alert.show())},s.prototype._handleSave=function(t){var e;"start"===t.state?(e=t.message||o("Saving"),this.notification=new a.Mini({title:e}),this.notification.show()):"end"===t.state&&(this._hideAlerts(),this.modal&&this.modal.onSave?this.modal.onSave():t.element&&this.refreshXBlock(t.element),this.notification.hide())},s.prototype._handleCancel=function(){this._hideAlerts(),this.modal&&(this.modal.cancel(),this.notify("modal-hidden"))},s.prototype._hideAlerts=function(){this.alert&&this.alert.options.shown&&this.alert.hide()},s}(n.Runtime.v1),d.v1=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.handlerPrefix="/preview/xblock",e}(c.v1),f.v1=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.handlerPrefix="/xblock",e}(c.v1),window.BaseRuntime=c,window.PreviewRuntime=d,window.StudioRuntime=f}.apply(e,r))&&(t.exports=o)}).call(e,n(1))},"./cms/static/js/base.js":function(t,e,n){var i,r;i=[n("./common/static/js/vendor/domReady.js"),n(0),n(1),n(3),n("./common/static/common/js/components/views/feedback_notification.js"),n("./common/static/common/js/components/views/feedback_prompt.js"),n("./cms/static/js/utils/date_utils.js"),n("./cms/static/js/utils/module.js"),n("./cms/static/js/utils/handle_iframe_binding.js"),n("./node_modules/edx-ui-toolkit/src/js/dropdown-menu/dropdown-menu-view.js"),n("./common/static/js/vendor/jquery-ui.min.js"),n("./common/static/js/vendor/jquery.leanModal.js"),n("./common/static/js/vendor/jquery.form.js"),n("./common/static/js/vendor/jquery.smooth-scroll.min.js")],void 0!==(r=function(t,e,n,i,r,o,s,a,l,u){"use strict";function c(t){t.preventDefault(),e.smoothScroll({offset:-200,easing:"swing",speed:1e3,scrollElement:null,scrollTarget:e(this).attr("href")})}function d(t){t.preventDefault(),e(this).closest(".wrapper-notification").removeClass("is-shown").addClass("is-hiding").attr("aria-hidden","true")}function f(t){t.preventDefault(),e(this).closest(".wrapper-alert").removeClass("is-shown")}var h;t(function(){var t;h=e("body"),h.on("click",".embeddable-xml-input",function(){e(this).select()}),h.addClass("js"),e(".action-alert-close, .alert.has-actions .nav-actions a").bind("click",f),e(".action-notification-close").bind("click",d),h.click(function(){e(".nav-dd .nav-item .wrapper-nav-sub").removeClass("is-shown"),e(".nav-dd .nav-item .title").removeClass("is-selected")}),e(".nav-dd .nav-item, .filterable-column .nav-item").click(function(t){var n=e(this).find(".wrapper-nav-sub"),i=e(this).find(".title");n.hasClass("is-shown")?(n.removeClass("is-shown"),i.removeClass("is-selected")):(e(".nav-dd .nav-item .title").removeClass("is-selected"),e(".nav-dd .nav-item .wrapper-nav-sub").removeClass("is-shown"),i.addClass("is-selected"),n.addClass("is-shown"),t.stopPropagation())}),e('a[rel="external"]:not([title])').attr("title",i("This link will open in a new browser window/tab")),e('a[rel="external"]').attr({rel:"noopener external",target:"_blank"}),e('a[rel="modal"]').attr("title",i("This link will open in a modal window")).leanModal({overlay:.5,closeButton:".action-modal-close"}),e(".action-modal-close").click(function(t){t.preventDefault()}),e('a[rel*="view"][href^="#"]').bind("click",c),l.iframeBinding(),e.browser.msie&&e.ajaxSetup({cache:!1}),e(".js-header-user-menu").length&&(t=new u({el:".js-header-user-menu"}),t.postRender()),window.studioNavMenuActive=!0})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/collections/component_template.js":function(t,e,n){var i,r;i=[n(2),n("./cms/static/js/models/component_template.js")],void 0!==(r=function(t,e){return t.Collection.extend({model:e})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/collections/metadata.js":function(t,e,n){var i,r;i=[n(2),n("./cms/static/js/models/metadata.js")],void 0!==(r=function(t,e){return t.Collection.extend({model:e,comparator:"display_name"})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/factories/base.js":function(t,e,n){var i,r;i=[n("./cms/static/js/base.js"),n("./cms/static/cms/js/main.js"),n("./common/static/js/src/logger.js"),n("./common/static/js/vendor/timepicker/datepair.js"),n("./common/static/js/src/accessibility_tools.js"),n("./common/static/js/src/ie_shim.js"),n("./common/static/js/src/tooltip_manager.js"),n("./common/static/js/src/lang_edx.js"),n("./cms/static/js/models/course.js"),n("./common/static/js/src/jquery_extend_patch.js")],void 0!==(r=function(){"use strict"}.apply(e,i))&&(t.exports=r)},"./cms/static/js/factories/library.js":function(t,e,n){"use strict";function i(t,e,n){var i={el:r("#content"),model:new s(e,{parse:!0}),templates:new u(t,{parse:!0}),action:"view",viewClass:l,canEdit:!0};c.done(function(){new a(o.extend(i,n)).render()})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,n.d(e,"LibraryFactory",function(){return i});var r=n(0),o=(n.n(r),n(1)),s=(n.n(o),n("./cms/static/js/models/xblock_info.js")),a=(n.n(s),n("./cms/static/js/views/pages/paged_container.js")),l=(n.n(a),n("./cms/static/js/views/library_container.js")),u=(n.n(l),n("./cms/static/js/collections/component_template.js")),c=(n.n(u),n("./cms/djangoapps/pipeline_js/js/xmodule.js")),d=(n.n(c),n("./cms/static/js/factories/base.js")),f=(n.n(d),n("./cms/static/cms/js/main.js")),h=(n.n(f),n("./cms/static/cms/js/xblock/cms.runtime.v1.js"));n.n(h)},"./cms/static/js/models/component_template.js":function(t,e,n){var i,r;i=[n(2)],void 0!==(r=function(t){return t.Model.extend({defaults:{type:"",templates:[],support_legend:{}},parse:function(t){var e=function(e){return!e.boilerplate_name&&e.category===t.type};this.type=t.type,this.templates=t.templates,this.display_name=t.display_name,this.support_legend=t.support_legend,this.templates.sort(function(t,n){return e(t)?-1:e(n)?1:t.hinted&&!n.hinted?1:!t.hinted&&n.hinted?-1:t.display_name>n.display_name?1:t.display_name<n.display_name?-1:0})}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/models/course.js":function(t,e,n){var i,r;i=[n(2)],void 0!==(r=function(t){return t.Model.extend({defaults:{name:""},validate:function(t,e){if(!t.name)return gettext("You must specify a name")}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/models/license.js":function(t,e,n){var i,r;i=[n(2),n(1)],void 0!==(r=function(t,e){return t.Model.extend({defaults:{type:null,options:{},custom:!1},initialize:function(t){t&&t.asString&&(this.setFromString(t.asString),this.unset("asString"))},toString:function(){var t=this.get("custom");if(t)return t;var n=this.get("type"),i=this.get("options");if(e.isEmpty(i))return n||"";var r=e.map(i,function(t,n){return e.isBoolean(t)?t?n:null:n+"="+t});return r=e.filter(r,e.identity),n+": "+r.join(" ")},setFromString:function(t,n){if(!t)return this.set(this.defaults,n);var i=t.indexOf(":"),r=t.indexOf(" ");if(-1==i)return-1==r?this.set({type:t,options:{},custom:!1},n):this.set({type:null,options:{},custom:t},n);var o=t.substring(0,i),s={},a=t.substring(i+1);return e.each(a.split(" "),function(t){if(!e.isEmpty(t)){var n=t.indexOf("=");if(-1==n)s[t]=!0;else{var i=t.substring(0,n),r=t.substring(n+1);s[i]=r}}}),this.set({type:o,options:s,custom:!1},n)}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/models/metadata.js":function(t,e,n){var i,r;i=[n(2)],void 0!==(r=function(t){var e=t.Model.extend({defaults:{field_name:null,display_name:null,value:null,explicitly_set:null,default_value:null,options:null,type:null,custom:!1},initialize:function(){this.original_value=this.get("value"),this.original_explicitly_set=this.get("explicitly_set")},isModified:function(){return!0!==this.get("custom")&&(!(!this.get("explicitly_set")&&!this.original_explicitly_set)&&(!this.get("explicitly_set")||!this.original_explicitly_set||this.get("value")!==this.original_value))},isExplicitlySet:function(){return this.get("explicitly_set")},getDisplayValue:function(){return this.get("value")},getValue:function(){return this.get("explicitly_set")?this.get("value"):null},setValue:function(t){this.set({explicitly_set:!0,value:t})},getFieldName:function(){return this.get("field_name")},getOptions:function(){return this.get("options")},getType:function(){return this.get("type")},clear:function(){this.set({explicitly_set:!1,value:this.get("default_value")})}});return e.SELECT_TYPE="Select",e.INTEGER_TYPE="Integer",e.FLOAT_TYPE="Float",e.GENERIC_TYPE="Generic",e.LIST_TYPE="List",e.DICT_TYPE="Dict",e.VIDEO_LIST_TYPE="VideoList",e.RELATIVE_TIME_TYPE="RelativeTime",e}.apply(e,i))&&(t.exports=r)},"./cms/static/js/models/uploads.js":function(t,e,n){var i,r;i=[n(2),n(1),n(3)],void 0!==(r=function(t,e,n){return t.Model.extend({defaults:{title:"",message:"",selectedFile:null,uploading:!1,uploadedBytes:0,totalBytes:0,finished:!1,mimeTypes:[],fileFormats:[]},validate:function(t,i){if(t.selectedFile&&!this.checkTypeValidity(t.selectedFile))return{message:e.template(n("Only <%- fileTypes %> files can be uploaded. Please select a file ending in <%- (fileExtensions) %> to upload."))(this.formatValidTypes()),attributes:{selectedFile:!0}}},fileTypes:function(){var t=e.map(this.attributes.mimeTypes,function(t){return t.split("/")[1].toUpperCase()}),n=e.map(this.attributes.fileFormats,function(t){return t.toUpperCase()});return t.concat(n)},checkTypeValidity:function(t){var n=this.attributes;return 0===n.mimeTypes.length&&0===n.fileFormats.length||e.contains(n.mimeTypes,t.type)||function(t){return RegExp("(?:.+)\\.("+t.join("|")+")$","i")}(n.fileFormats).test(t.name)},formatValidTypes:function(){var t=this.attributes;if(1===t.mimeTypes.concat(t.fileFormats).length)return{fileTypes:this.fileTypes()[0],fileExtensions:"."+this.fileTypes()[0].toLowerCase()};var i=n("or"),r=function(t){return e.template("<%- initial %> <%- or %> <%- last %>")({initial:e.initial(t).join(", "),or:i,last:e.last(t)})};return{fileTypes:r(this.fileTypes()),fileExtensions:r(e.map(this.fileTypes(),function(t){return"."+t.toLowerCase()}))}}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/models/xblock_info.js":function(t,e,n){var i,r;i=[n(2),n(1),n("./common/static/common/js/vendor/underscore.string.js"),n("./cms/static/js/utils/module.js")],void 0!==(r=function(t,e,n,i){"use strict";var r=t.Model.extend({urlRoot:i.urlRoot,defaults:{id:null,display_name:null,category:null,data:null,metadata:null,studio_url:null,child_info:null,ancestor_info:null,edited_on:null,edited_by:null,published:null,published_on:null,published_by:null,has_children:null,has_changes:null,visibility_state:null,released_to_students:null,release_date:null,release_date_from:null,currently_visible_to_students:null,due_date:null,format:null,course_graders:null,graded:null,start:null,due:null,has_explicit_staff_lock:null,ancestor_has_staff_lock:null,staff_lock_from:null,staff_only_message:null,has_partition_group_components:null,actions:null,is_header_visible:null,explanatory_message:null,group_access:null,user_partitions:null,highlights:[],highlights_enabled:!1,highlights_enabled_for_messaging:!1,highlights_preview_only:!0,highlights_doc_url:""},initialize:function(){e.extend(this,this.getCategoryHelpers())},parse:function(t){return t.ancestor_info&&(t.ancestor_info.ancestors=this.parseXBlockInfoList(t.ancestor_info.ancestors)),t.child_info&&(t.child_info.children=this.parseXBlockInfoList(t.child_info.children)),t},parseXBlockInfoList:function(t){return e.map(t,function(t){return this.createChild(t)},this)},createChild:function(t){return new r(t,{parse:!0})},hasChildren:function(){var t=this.get("child_info");return t&&t.children.length>0},isPublishable:function(){return!this.get("published")||this.get("has_changes")},isDeletable:function(){return this.isActionRequired("deletable")},isDuplicable:function(){return this.isActionRequired("duplicable")},isDraggable:function(){return this.isActionRequired("draggable")},isChildAddable:function(){return this.isActionRequired("childAddable")},isHeaderVisible:function(){return null===this.get("is_header_visible")||this.get("is_header_visible")},isActionRequired:function(t){var n=this.get("actions");return!(null!==n&&e.has(n,t)&&!n[t])},getCategoryHelpers:function(){var t=["course","chapter","sequential","vertical"],i={};return e.each(t,function(t){i["is"+n.titleize(t)]=function(){return this.get("category")===t}},this),i},isEditableOnCourseOutline:function(){return this.isSequential()||this.isChapter()||this.isVertical()}});return r}.apply(e,i))&&(t.exports=r)},"./cms/static/js/utils/change_on_enter.js":function(t,e,n){var i,r;i=[n(0)],void 0!==(r=function(t){return function(e){13==e.which&&t(this).trigger("change").blur()}}.apply(e,i))&&(t.exports=r)},"./cms/static/js/utils/date_utils.js":function(t,e,n){var i,r;i=[n(0),n("./common/static/js/vendor/date.js"),n("./cms/static/js/utils/change_on_enter.js"),n("./common/static/js/vendor/jquery-ui.min.js"),n("./common/static/js/vendor/timepicker/jquery.timepicker.js")],void 0!==(r=function(t,e,n){"use strict";function i(e,n){var i=null,r=null;return e.length>0&&(i=t(e).datepicker("getDate")),n.length>0&&(r=t(n).timepicker("getTime")),i&&r?new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),r.getHours(),r.getMinutes())):i?new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())):null}function r(e,n,i){var r=Date.parse(i);r&&(t(e).datepicker("setDate",r),n.length>0&&t(n).timepicker("setTime",r))}function o(t){return new Date(t).toLocaleString([],{timeZone:"UTC",timeZoneName:"short"})}function s(t){return t&&"string"==typeof t?new Date(t):t}function a(t,e){var n;for(n=0;n<e.length;n++)t[e[n]]&&(t[e[n]]=s(t[e[n]]));return t}function l(e,o,s){var a,l,u,c,d,f,h;void 0!==s&&o.hasOwnProperty("collection")?(a=o.collection.models[s],l=o.$el.find("#"+o.collectionSelector(a.cid))):(a=o.model,l=o.$el.find("#"+o.fieldToSelectorMap[e])),u=t(l).find("input.date"),c=t(l).find("input.time"),d=o,f=function(t){var n=i(u,c);d.clearValidationErrors(),d.setAndValidate(e,n||null,t)},c.timepicker({timeFormat:"H:i"}),u.datepicker(),u.change(f).keyup(n),c.on("changeTime",f),c.on("input",f),h=null,a&&(h=a.get(e)),h?r(u,c,h):(c.val(""),u.val(""))}return{getDate:i,setDate:r,renderDate:o,convertDateStringsToObjects:a,parseDateFromString:s,setupDatePicker:l}}.apply(e,i))&&(t.exports=r)},"./cms/static/js/utils/handle_iframe_binding.js":function(t,e,n){var i,r;i=[n(0)],void 0!==(r=function(t){var e=function(e){var i=null;i=void 0===e?t("iframe, embed"):void 0!==e.nodeName?t(e).find("iframe, embed"):e.$("iframe, embed"),n(i)},n=function(e){e.each(function(){if("IFRAME"===t(this).prop("tagName")){var e=t(this).attr("src");if(e){var n="wmode=transparent";if(-1!==e.indexOf("?")){var i=e.split("?");if(-1===i[1].search("wmode=transparent")){var r=i[1],o=i[0];t(this).attr("src",o+"?"+n+"&"+r)}}else 0!==e.lastIndexOf("javascript:",0)&&t(this).attr("src",e+"?"+n)}}else t(this).attr("wmode","transparent")})};return{iframeBinding:e,iframeBindingHtml:function(e){if(e){var i=null,r=document.createElement("div");t(r).html(e),i=t(r).find("iframe, embed"),i.length>0&&(n(i),e=t(r).html())}return e}}}.apply(e,i))&&(t.exports=r)},"./cms/static/js/utils/modal.js":function(t,e,n){var i,r;i=[n(0)],void 0!==(r=function(t){var e=function(t){t&&t.preventDefault();var e=o();e.hasClass("is-fixed")||(s().hide(),n(e))},n=function(t){void 0==t&&(t=o()),t.hide(),t.removeClass("is-fixed"),t.unbind("click")},i=function(){s().show(),r()},r=function(t,n){var i=o();return i.show(),t&&i.addClass("is-fixed"),i.unbind("click"),n?i.bind("click",n):i.bind("click",e),i},o=function(){return t(".modal-cover")},s=function(){return t(".modal, .showAsModal")};return{showModal:i,hideModal:e,showModalCover:r,hideModalCover:n}}.apply(e,i))&&(t.exports=r)},"./cms/static/js/utils/module.js":function(t,e,n){var i,r;i=[n(1)],void 0!==(r=function(t){return{urlRoot:"/xblock",getUpdateUrl:function(e){return t.isUndefined(e)?"/xblock/":"/xblock/"+e}}}.apply(e,i))&&(t.exports=r)},"./cms/static/js/utils/templates.js":function(t,e,n){var i,r;i=[n(0),n(1)],void 0!==(r=function(t,e){return{loadTemplate:function(n){var i="#"+n+"-tpl",r=t(i).text();return r||console.error("Failed to load "+n+" template"),e.template(r)}}}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/abstract_editor.js":function(t,e,n){(function(i){var r,o;r=[n("./cms/static/js/views/baseview.js"),n(1)],void 0!==(o=function(t,e){return t.extend({initialize:function(){var t=e.result(this,"templateName");this.uniqueId=e.uniqueId(t+"_"),this.template=this.loadTemplate(t),this.$el.html(this.template({model:this.model,uniqueId:this.uniqueId})),this.listenTo(this.model,"change",this.render),this.render()},templateName:"",getValueFromEditor:function(){},setValueInEditor:function(t){},updateModel:function(){this.model.setValue(this.getValueFromEditor())},clear:function(){this.model.clear()},showClearButton:function(){this.$el.hasClass("is-set")||(this.$el.addClass("is-set"),this.getClearButton().removeClass("inactive"),this.getClearButton().addClass("active"))},getClearButton:function(){return this.$el.find(".setting-clear")},render:function(){if(this.template)return this.setValueInEditor(this.model.getDisplayValue()),this.model.isExplicitlySet()?this.showClearButton():(this.$el.removeClass("is-set"),this.getClearButton().addClass("inactive"),this.getClearButton().removeClass("active")),this},loadTemplate:function(t){var n="#"+t,r=i(n).text();return r||console.error("Failed to load "+t+" template"),e.template(r)}})}.apply(e,r))&&(t.exports=o)}).call(e,n(0))},"./cms/static/js/views/baseview.js":function(t,e,n){var i,r;i=[n(0),n(1),n(2),n(3),n("./cms/static/js/utils/handle_iframe_binding.js"),n("./cms/static/js/utils/templates.js"),n("./common/static/common/js/components/utils/view_utils.js")],void 0!==(r=function(t,e,n,i,r,o,s){return n.View.extend({events:{"click .ui-toggle-expansion":"toggleExpandCollapse"},options:{collapsedClass:"collapsed"},constructor:function(t){e.bindAll(this,"beforeRender","render","afterRender"),this.options&&(t=e.extend({},e.result(this,"options"),t)),Math.trunc||(Math.trunc=function(t){return(t=+t)-t%1||(isFinite(t)&&0!==t?t<0?-0:0:t)}),this.options=t;var i=this;this.render=e.wrap(this.render,function(t,e){return i.beforeRender(),t(e),i.afterRender(),i}),n.View.prototype.constructor.apply(this,arguments)},beforeRender:function(){},render:function(){return this},afterRender:function(){r.iframeBinding(this)},toggleExpandCollapse:function(e){var n=t(e.target);e.stopPropagation(),e.preventDefault(),s.toggleExpandCollapse(n,this.options.collapsedClass)},loadTemplate:function(t){return o.loadTemplate(t)}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/components/add_xblock.js":function(t,e,n){var i,r;i=[n(0),n(1),n(3),n("./cms/static/js/views/baseview.js"),n("./common/static/common/js/components/utils/view_utils.js"),n("./cms/static/js/views/components/add_xblock_button.js"),n("./cms/static/js/views/components/add_xblock_menu.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(r=function(t,e,n,i,r,o,s,a){"use strict";return i.extend({events:{"click .new-component .new-component-type .multiple-templates":"showComponentTemplates","click .new-component .new-component-type .single-template":"createNewComponent","click .new-component .cancel-button":"closeNewComponent","click .new-component-templates .new-component-template .button-component":"createNewComponent","click .new-component-templates .cancel-button":"closeNewComponent"},initialize:function(t){i.prototype.initialize.call(this,t),this.template=this.loadTemplate("add-xblock-component")},render:function(){var t;this.$el.html()||(t=this,this.$el.html(a.HTML(this.template({})).toString()),this.collection.each(function(e){var n,i;n=new o({model:e}),t.$el.find(".new-component-type").append(n.render().el),i=new s({model:e}),t.$el.append(i.render().el)}))},showComponentTemplates:function(e){var n;e.preventDefault(),e.stopPropagation(),n=t(e.currentTarget).data("type"),this.$(".new-component").slideUp(250),this.$(".new-component-"+n).slideDown(250),this.$(".new-component-"+n+" div").focus()},closeNewComponent:function(e){var n;e.preventDefault(),e.stopPropagation(),n=t(e.currentTarget).data("type"),this.$(".new-component").slideDown(250),this.$(".new-component-templates").slideUp(250),this.$("ul.new-component-type li button[data-type="+n+"]").focus()},createNewComponent:function(i){var o=this,s=t(i.currentTarget),a=s.data(),l=r.getScrollOffset(this.$el);i.preventDefault(),this.closeNewComponent(i),r.runOperationShowingMessage(n("Adding"),e.bind(this.options.createComponent,this,a,s)).always(function(){r.setScrollOffset(o.$el,l)})}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/components/add_xblock_button.js":function(t,e,n){var i,r;i=[n("./cms/static/js/views/baseview.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(r=function(t,e){"use strict";return t.extend({tagName:"li",initialize:function(){var n={type:this.model.type,templates:this.model.templates,display_name:this.model.display_name};t.prototype.initialize.call(this),this.template=this.loadTemplate("add-xblock-component-button"),this.$el.html(e.HTML(this.template(n)).toString())}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/components/add_xblock_menu.js":function(t,e,n){var i,r;i=[n(0),n("./cms/static/js/views/baseview.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(r=function(t,e,n){return e.extend({className:function(){return"new-component-templates new-component-"+this.model.type},initialize:function(){e.prototype.initialize.call(this);var t="problem"===this.model.type?"add-xblock-component-menu-problem":"add-xblock-component-menu",i=this.loadTemplate("add-xblock-component-support-level"),r=this.loadTemplate("add-xblock-component-support-legend");this.template=this.loadTemplate(t),n.setHtml(this.$el,n.HTML(this.template({type:this.model.type,templates:this.model.templates,support_legend:this.model.support_legend,support_indicator_template:i,support_legend_template:r,HtmlUtils:n}))),this.$(".tab-group").tabs()}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/container.js":function(t,e,n){var i,r;i=[n(0),n(1),n("./cms/static/js/views/xblock.js"),n("./cms/static/js/utils/module.js"),n(3),n("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"),n("./common/static/common/js/components/views/feedback_notification.js"),n("./common/static/js/vendor/jquery-ui.min.js")],void 0!==(r=function(t,e,n,i,r,o,s){"use strict";return n.extend({requestToken:"",new_child_view:"reorderable_container_child_preview",xblockReady:function(){var i,o,a,l,u=this;n.prototype.xblockReady.call(this),this.requestToken=this.$("div.xblock").first().data("request-token"),i=this.makeRequestSpecificSelector(".reorderable-container"),o=this.$(i),o.sortable({handle:".drag-handle",start:function(){o.sortable("refreshPositions")},stop:function(){var t,n,i;e.isUndefined(l)||(t=new s.Mini({title:r("Saving")}),t.show(),n=function(){t.hide()},a?(i=l,u.updateChildren(a,function(){u.updateChildren(i,n)})):u.updateChildren(l,n),l=void 0,a=void 0)},update:function(e,n){var i=t(e.target).closest(".studio-xblock-wrapper");n.sender?a=i:l=i},helper:"original",opacity:"0.5",placeholder:"component-placeholder",forcePlaceholderSize:!0,axis:"y",items:"> .is-draggable",connectWith:i,tolerance:"pointer"})},updateChildren:function(n,r){var o,s,a=this.model;o=n.find(".studio-xblock-wrapper").filter(function(){return t(this).parent().closest(".studio-xblock-wrapper").data("locator")===n.data("locator")}),s=e.map(o,function(e){return t(e).data("locator")}),t.ajax({url:i.getUpdateUrl(n.data("locator")),type:"PUT",dataType:"json",contentType:"application/json",data:JSON.stringify({children:s}),success:function(){r&&r(),a.fetch()}})},acknowledgeXBlockDeletion:function(t){this.notifyRuntime("deleted-child",t)},refresh:function(){var t=this.makeRequestSpecificSelector(".reorderable-container.ui-sortable");this.$(t).sortable("refresh")},makeRequestSpecificSelector:function(t){return o.interpolate(r("{startTag}{requestToken}{endTag}{selector}"),{startTag:'div.xblock[data-request-token="',requestToken:this.requestToken,endTag:'"] > ',selector:t})}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/library_container.js":function(t,e,n){var i,r;i=[n("./cms/static/js/views/paged_container.js")],void 0!==(r=function(t){return t}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/license.js":function(t,e,n){(function(i,r){var o,s;o=[n("./cms/static/js/views/baseview.js"),n(1),n("./cms/templates/js/license-selector.underscore")],void 0!==(s=function(t,e,n){var o={"all-rights-reserved":{name:gettext("All Rights Reserved"),tooltip:gettext("You reserve all rights for your work")},"creative-commons":{name:gettext("Creative Commons"),tooltip:gettext("You waive some rights for your work, such that others can use it too"),url:"https://creativecommons.org/about",options:{ver:{name:gettext("Version"),type:"string",default:"4.0"},BY:{name:gettext("Attribution"),type:"boolean",default:!0,help:gettext("Allow others to copy, distribute, display and perform your copyrighted work but only if they give credit the way you request. Currently, this option is required."),disabled:!0},NC:{name:gettext("Noncommercial"),type:"boolean",default:!0,help:gettext("Allow others to copy, distribute, display and perform your work - and derivative works based upon it - but for noncommercial purposes only.")},ND:{name:gettext("No Derivatives"),type:"boolean",default:!0,help:gettext('Allow others to copy, distribute, display and perform only verbatim copies of your work, not derivative works based upon it. This option is incompatible with "Share Alike".'),conflictsWith:["SA"]},SA:{name:gettext("Share Alike"),type:"boolean",default:!1,help:gettext('Allow others to distribute derivative works only under a license identical to the license that governs your work. This option is incompatible with "No Derivatives".'),conflictsWith:["ND"]}},option_order:["BY","NC","ND","SA"]}};return t.extend({events:{"click ul.license-types li button":"onLicenseClick","click ul.license-options li":"onOptionClick"},initialize:function(t){this.licenseInfo=t.licenseInfo||o,this.showPreview=!!t.showPreview,this.listenTo(this.model,"change",this.render),this.render()},getDefaultOptionsForLicenseType:function(t){if(!this.licenseInfo[t])return{};if(!this.licenseInfo[t].options)return{};var n={};return e.each(this.licenseInfo[t].options,function(t,e){n[e]=t.default}),n},render:function(){return i.setHtml(this.$el,i.template(n)({model:this.model.attributes,licenseString:this.model.toString()||"",licenseInfo:this.licenseInfo,showPreview:this.showPreview,previewButton:!1})),this},onLicenseClick:function(t){var e=r(t.srcElement||t.target).closest("li"),n=e.data("license");n!=this.model.attributes.type&&(this.model.set({type:n,options:this.getDefaultOptionsForLicenseType(n)}),this.model.trigger("change change:type")),t.preventDefault()},onOptionClick:function(t){var e=this.model.get("type"),n=r.extend({},this.model.get("options")),i=r(t.srcElement||t.target).closest("li"),o=i.data("option"),s=this.licenseInfo[e],a=s.options[o];if(!a.disabled){var l=n[o];if("boolean"===a.type&&(l=!l,n[o]=l),l&&a.conflictsWith)for(var u=a.conflictsWith,c=0;c<u.length;c++)n[u[c]]=!1,console.log(n);this.model.set({options:n}),this.model.trigger("change change:options"),t.preventDefault()}}})}.apply(e,o))&&(t.exports=s)}).call(e,n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"),n(0))},"./cms/static/js/views/metadata.js":function(t,e,n){(function(i){var r,o;r=[n(2),n("./cms/static/js/views/baseview.js"),n(1),n("./cms/static/js/models/metadata.js"),n("./cms/static/js/views/abstract_editor.js"),n("./cms/static/js/models/uploads.js"),n("./cms/static/js/views/uploads.js"),n("./cms/static/js/models/license.js"),n("./cms/static/js/views/license.js"),n("./cms/static/js/views/video/transcripts/utils.js"),n("./cms/static/js/views/video/transcripts/metadata_videolist.js"),n("./cms/static/js/views/video/translations_editor.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(o=function(t,e,n,r,o,s,a,l,u,c,d,f,h){"use strict";var p={};return p.Editor=e.extend({views:{},initialize:function(){var t=this,e=0,i=t.$el.closest("[data-locator]").data("locator"),r=t.$el.closest("[data-course-key]").data("course-key"),o={numEntries:this.collection.length,locator:i};this.template=this.loadTemplate("metadata-editor"),this.$el.html(h.HTML(this.template(o)).toString()),this.collection.each(function(o){var s={el:t.$el.find(".metadata_entry")[e++],courseKey:r,locator:i,model:o},a={Select:"Option",Float:"Number",Integer:"Number"},l=o.getType();a[l]&&(l=a[l]),n.isFunction(p[l])?t.views[s.model.getFieldName()]=new p[l](s):t.views[s.model.getFieldName()]=new p.String(s)})},getModifiedMetadataValues:function(){var t={};return this.collection.each(function(e){e.isModified()&&(t[e.getFieldName()]=e.getValue())}),t},getDisplayName:function(){var t="";return this.collection.each(function(e){if("display_name"===e.get("field_name")){var n=e.get("value");t=n||""}}),t}}),p.VideoList=d,p.VideoTranslations=f,p.String=o.extend({events:{"change input":"updateModel","keypress .setting-input":"showClearButton","click .setting-clear":"clear"},templateName:"metadata-string-entry",render:function(){o.prototype.render.apply(this),this.model.get("non_editable")&&this.$el.find("#"+this.uniqueId).prop("readonly",!0).addClass("is-disabled").attr("aria-disabled",!0)},getValueFromEditor:function(){return this.$el.find("#"+this.uniqueId).val()},setValueInEditor:function(t){this.$el.find("input").val(t)}}),p.VideoID=p.String.extend({requestDelay:300,initialize:function(){p.String.prototype.initialize.apply(this,arguments),this.$el.on("input","input",n.debounce(n.bind(this.inputChange,this),this.requestDelay))},render:function(){p.String.prototype.render.apply(this,arguments),c.Storage.set("edx_video_id",this.getValueFromEditor())},clear:function(){this.model.setValue(""),this.inputChange()},getData:function(){return[{mode:"edx_video_id",type:"edx_video_id",video:this.getValueFromEditor()}]},inputChange:function(){c.Storage.set("edx_video_id",this.getValueFromEditor()),t.trigger("transcripts:basicTabFieldChanged")}}),p.Number=o.extend({events:{"change input":"updateModel","keypress .setting-input":"keyPressed","change .setting-input":"changed","click .setting-clear":"clear"},render:function(){if(o.prototype.render.apply(this),!this.initialized){var t=function(t){return t.toFixed(4)},e=this.model.getOptions();e.hasOwnProperty("min")&&(this.min=Number(e.min),this.$el.find("input").attr("min",t(this.min))),e.hasOwnProperty("max")&&(this.max=Number(e.max),this.$el.find("input").attr("max",t(this.max)));var n=void 0;e.hasOwnProperty("step")?n=t(Number(e.step)):this.isIntegerField()&&(n="1"),void 0!==n&&this.$el.find("input").attr("step",n),i.fn.inputNumber&&this.$el.find(".setting-input-number").inputNumber(),this.initialized=!0}return this},templateName:"metadata-number-entry",getValueFromEditor:function(){return this.$el.find("#"+this.uniqueId).val()},setValueInEditor:function(t){this.$el.find("input").val(t)},isIntegerField:function(){return"Integer"===this.model.getType()},keyPressed:function(t){this.showClearButton();var e,n;8!==(e=t.keyCode)&&9!==e&&35!==e&&36!==e&&37!==e&&39!==e&&45!==(n=t.which)&&46!==n&&48!==n&&49!==n&&50!==n&&51!==n&&52!==n&&53!==n&&54!==n&&55!==n&&56!==n&&57!==n&&t.preventDefault(),this.isIntegerField()&&46===t.keyCode&&t.preventDefault()},changed:function(){var t=this.getValueFromEditor();t?(void 0!==this.max&&t>this.max?t=this.max:void 0!=this.min&&t<this.min&&(t=this.min),this.setValueInEditor(t),this.updateModel()):this.clear()}}),p.Option=o.extend({events:{"change select":"updateModel","click .setting-clear":"clear"},templateName:"metadata-option-entry",getValueFromEditor:function(){var t,e=this.$el.find("#"+this.uniqueId).find(":selected").text();return n.each(this.model.getOptions(),function(n){n===e?t=n:n.display_name===e&&(t=n.value)}),t},setValueInEditor:function(t){n.each(this.model.getOptions(),function(e){e.value===t&&(t=e.display_name)}),this.$el.find("#"+this.uniqueId+" option").filter(function(){return i(this).text()===t}).prop("selected",!0)}}),p.PublicAccess=p.Option.extend({templateName:"metadata-option-public-access",initialize:function(){p.Option.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change",this.updateUrlFieldVisibility),this.updateUrlFieldVisibility()},updateUrlFieldVisibility:function(){var t=this.$el.find(".public-access-block-url-container");this.getValueFromEditor()?t.removeClass("is-hidden"):t.addClass("is-hidden")}}),p.List=o.extend({events:{"click .setting-clear":"clear","keypress .setting-input":"showClearButton","change input":"updateModel","input input":"enableAdd","click .create-setting":"addEntry","click .remove-setting":"removeEntry"},templateName:"metadata-list-entry",getValueFromEditor:function(){return n.map(this.$el.find("li input"),function(t){return t.value.trim()}).filter(n.identity)},setValueInEditor:function(t){var e=this.$el.find("ol");e.empty(),n.each(t,function(t,r){var o=n.template(h.joinHtml(h.HTML('<li class="list-settings-item">'),h.HTML('<input type="text" class="input" value="<%- ele %>">'),h.HTML('<a href="#" class="remove-action remove-setting" data-index="<%- index %>"><span class="icon fa fa-times-circle" aria-hidden="true"></span><span class="sr">'),gettext("Remove"),h.HTML("</span></a>"),h.HTML("</li>")).toString());e.append(h.HTML(i(o({ele:t,index:r}))).toString())})},addEntry:function(t){t.preventDefault();var e=this.model.get("value")||[];this.setValueInEditor(e.concat([""])),this.$el.find(".create-setting").addClass("is-disabled").attr("aria-disabled",!0)},removeEntry:function(t){t.preventDefault();var e=i(t.currentTarget).siblings().val();this.setValueInEditor(n.without(this.model.get("value"),e)),this.updateModel(),this.$el.find(".create-setting").removeClass("is-disabled").attr("aria-disabled",!1)},enableAdd:function(){this.$el.find(".create-setting").removeClass("is-disabled").attr("aria-disabled",!1)},clear:function(){o.prototype.clear.apply(this,arguments),n.isNull(this.model.getValue())&&this.$el.find(".create-setting").removeClass("is-disabled").attr("aria-disabled",!1)}}),p.RelativeTime=o.extend({defaultValue:"00:00:00",maxTimeInSeconds:86399,events:{"focus input":"addSelection","mouseup input":"mouseUpHandler","change input":"updateModel","keypress .setting-input":"showClearButton","click .setting-clear":"clear"},templateName:"metadata-string-entry",getValueFromEditor:function(){return this.$el.find("#"+this.uniqueId).val()},updateModel:function(){var t=this.getValueFromEditor(),e=this.parseRelativeTime(t);this.model.setValue(e),t===e||this.model.hasChanged("value")||this.render()},parseRelativeTime:function(t){var e,i,r=function(t){return t<10?"0"+t:t},o=t.replace(/\s+/g,"").split(":");return o=n.map(o,function(t){return Math.max(0,parseInt(t,10)||0)}).reverse(),e=n.reduce(o,function(t,e,n){return t+e*Math.pow(60,n)},0),i=new Date(1e3*Math.min(e,this.maxTimeInSeconds)),[r(i.getUTCHours()),r(i.getUTCMinutes()),r(i.getUTCSeconds())].join(":")},setValueInEditor:function(t){t||(t=this.defaultValue),this.$el.find("input").val(t)},addSelection:function(t){i(t.currentTarget).select()},mouseUpHandler:function(t){t.preventDefault()}}),p.Dict=o.extend({events:{"click .setting-clear":"clear","keypress .setting-input":"showClearButton","change input":"updateModel","input input":"enableAdd","click .create-setting":"addEntry","click .remove-setting":"removeEntry"},templateName:"metadata-dict-entry",getValueFromEditor:function(){var t={};return n.each(this.$el.find("li"),function(e,n){var r=i(e).find(".input-key").val().trim(),o=i(e).find(".input-value").val().trim();if(""===o&&(""===r||r in t))return!1;t[r]=o}),t},setValueInEditor:function(t){var e=this.$el.find("ol"),r=document.createDocumentFragment();n.each(t,function(t,e){var o=n.template(h.joinHtml(h.HTML('<li class="list-settings-item">'),h.HTML('<input type="text" class="input input-key" value="<%- key %>">'),h.HTML('<input type="text" class="input input-value" value="<%- value %>">'),h.HTML('<a href="#" class="remove-action remove-setting" data-value="<%- value %>"><span class="icon fa fa-times-circle" aria-hidden="true"></span><span class="sr">Remove</span></a>'),h.HTML("</li>")).toString());r.appendChild(i(o({key:e,value:t}))[0])}),e.html([r])},addEntry:function(t){t.preventDefault();var e=i.extend(!0,{},this.model.get("value"))||{};e[""]="",this.setValueInEditor(e),this.$el.find(".create-setting").addClass("is-disabled").attr("aria-disabled",!0)},removeEntry:function(t){t.preventDefault();var e=i(t.currentTarget).siblings(".input-key").val();this.setValueInEditor(n.omit(this.model.get("value"),e)),this.updateModel(),this.$el.find(".create-setting").removeClass("is-disabled").attr("aria-disabled",!1)},enableAdd:function(){this.$el.find(".create-setting").removeClass("is-disabled").attr("aria-disabled",!1)},clear:function(){o.prototype.clear.apply(this,arguments),n.isNull(this.model.getValue())&&this.$el.find(".create-setting").removeClass("is-disabled").attr("aria-disabled",!1)}}),p.FileUploader=o.extend({events:{"click .upload-setting":"upload","click .setting-clear":"clear"},templateName:"metadata-file-uploader-entry",templateButtonsName:"metadata-file-uploader-item",initialize:function(){this.buttonTemplate=this.loadTemplate(this.templateButtonsName),o.prototype.initialize.apply(this)},getValueFromEditor:function(){return this.$("#"+this.uniqueId).val()},setValueInEditor:function(t){var e=this.buttonTemplate({model:this.model,uniqueId:this.uniqueId});this.$("#"+this.uniqueId).val(t),this.$(".wrapper-uploader-actions").html(h.HTML(e).toString())},upload:function(t){var e=this,n=i(t.currentTarget),r="/assets/"+this.options.courseKey+"/",o=new s({title:gettext("Upload File")});new a({model:o,url:r,parentElement:n.closest(".xblock-editor"),onSuccess:function(t){t.asset&&t.asset.url&&e.model.setValue(t.asset.url)}}).show();t.preventDefault()}}),p.License=o.extend({initialize:function(t){this.licenseModel=new l({asString:this.model.getValue()}),this.licenseView=new u({model:this.licenseModel}),this.listenTo(this.licenseModel,"change",this.setLicense),this.render()},render:function(){return this.licenseView.render().$el.css("display","inline"),this.licenseView.undelegateEvents(),this.$el.empty().append(this.licenseView.el),this.licenseView.delegateEvents(),this},setLicense:function(){this.model.setValue(this.licenseModel.toString()),this.render()}}),p}.apply(e,r))&&(t.exports=o)}).call(e,n(0))},"./cms/static/js/views/modals/base_modal.js":function(t,e,n){var i,r;i=[n(0),n(1),n(3),n("./cms/static/js/views/baseview.js")],void 0!==(r=function(t,e,n,i){return i.extend({events:{"click .action-cancel":"cancel"},options:e.extend({},i.prototype.options,{type:"prompt",closeIcon:!1,icon:!1,modalName:"basic",modalType:"generic",modalSize:"lg",title:"",modalWindowClass:".modal-window",viewSpecificClasses:"",addPrimaryActionButton:!1,primaryActionButtonType:"save",primaryActionButtonTitle:n("Save"),showEditorModeButtons:!0}),initialize:function(){var e=this.options.parent,n=this.options.parentElement;this.modalTemplate=this.loadTemplate("basic-modal"),this.buttonTemplate=this.loadTemplate("modal-button"),e?n=e.$el:n||(n=this.$el.closest(this.options.modalWindowClass),0===n.length&&(n=t("body"))),this.parentElement=n},render:function(){this.$el.html(this.modalTemplate({name:this.options.modalName,type:this.options.modalType,size:this.options.modalSize,title:this.getTitle(),modalSRTitle:this.options.modalSRTitle,showEditorModeButtons:this.options.showEditorModeButtons,viewSpecificClasses:this.options.viewSpecificClasses})),this.addActionButtons(),this.renderContents(),this.parentElement.append(this.$el)},getTitle:function(){return this.options.title},renderContents:function(){var t=this.getContentHtml();this.$(".modal-content").html(t)},getContentHtml:function(){return""},show:function(n){var i=void 0===n;this.render(),this.resize(),t(window).resize(e.bind(this.resize,this)),i&&this.$el.find(this.options.modalWindowClass).focus()},hide:function(){this.undelegateEvents(),this.$el.html("")},cancel:function(t){t&&(t.preventDefault(),t.stopPropagation()),this.hide()},addActionButtons:function(){this.options.addPrimaryActionButton&&this.addActionButton(this.options.primaryActionButtonType,this.options.primaryActionButtonTitle,!0),this.addActionButton("cancel",n("Cancel"))},addActionButton:function(t,e,n){var i=this.buttonTemplate({type:t,name:e,isPrimary:n});this.getActionBar().find("ul").append(i)},getActionBar:function(){return this.$(this.options.modalWindowClass+" > div > .modal-actions")},getActionButton:function(t){return this.getActionBar().find(".action-"+t)},enableActionButton:function(t){this.getActionBar().find(".action-"+t).prop("disabled",!1).removeClass("is-disabled")},disableActionButton:function(t){this.getActionBar().find(".action-"+t).prop("disabled",!0).addClass("is-disabled")},resize:function(){var e,n,i,r,o,s,a,l,u;i=this.$el.find(this.options.modalWindowClass),s=t(window).width(),a=t(window).height(),l=.98*s,u=.98*a,r=Math.min(i.outerWidth(),l),o=Math.min(i.outerHeight(),u),n=(s-r)/2,e=(a-o)/2,i.css({top:e+t(window).scrollTop(),left:n+t(window).scrollLeft()})}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/modals/edit_xblock.js":function(t,e,n){var i,r;i=[n(0),n(1),n(2),n(3),n("./cms/static/js/views/modals/base_modal.js"),n("./common/static/common/js/components/utils/view_utils.js"),n("./cms/static/js/views/utils/xblock_utils.js"),n("./cms/static/js/views/xblock_editor.js")],void 0!==(r=function(t,e,n,i,r,o,s,a){"use strict";return r.extend({events:e.extend({},r.prototype.events,{"click .action-save":"save","click .action-modes a":"changeMode","click .title-edit-button":"clickTitleButton"}),options:t.extend({},r.prototype.options,{modalName:"edit-xblock",view:"studio_view",viewSpecificClasses:"modal-editor confirm",titleFormat:i("Editing: {title}"),addPrimaryActionButton:!0}),initialize:function(){r.prototype.initialize.call(this),this.template=this.loadTemplate("edit-xblock-modal"),this.editorModeButtonTemplate=this.loadTemplate("editor-mode-button")},edit:function(t,e,n){this.xblockElement=t,this.xblockInfo=s.findXBlockInfo(t,e),this.options.modalType=this.xblockInfo.get("category"),this.editOptions=n,this.render(),this.show(),this.getActionBar().hide(),this.displayXBlock()},getContentHtml:function(){return this.template({xblockInfo:this.xblockInfo})},displayXBlock:function(){this.editorView=new a({el:this.$(".xblock-editor"),model:this.xblockInfo,view:this.options.view}),this.editorView.render({success:e.bind(this.onDisplayXBlock,this)})},createTitleEditor:function(t){this.$(".modal-window-title").html(this.loadTemplate("edit-title-button")({title:t}))},onDisplayXBlock:function(){var t=this.editorView,e=this.getTitle(),n=this.editOptions&&this.editOptions.readOnlyView||!this.canSave();t.notifyRuntime("modal-shown",this),t.hasCustomTabs()?(this.$(".modal-header").hide(),t.$(".component-name").text(e)):t.getDataEditor()&&t.getMetadataEditor()?(this.createTitleEditor(e),this.addDefaultModes(),this.$(".wrapper-comp-plugins").length>0&&this.addModeButton("plugins",i("Plugins")),this.selectMode(t.mode)):this.$(".modal-window-title").text(e),t.hasCustomButtons()||(n&&this.disableSave(),this.getActionBar().show()),this.resize()},canSave:function(){return this.editorView.xblock.save||this.editorView.xblock.collectFieldData},disableSave:function(){var t=this.getActionButton("save"),e=this.getActionButton("cancel");t.parent().hide(),e.text(i("Close")),e.addClass("action-primary")},getTitle:function(){var t=this.xblockInfo.get("display_name");return t||(t=i(this.xblockInfo.isVertical()?"Unit":"Component")),edx.StringUtils.interpolate(this.options.titleFormat,{title:t})},addDefaultModes:function(){var t,e,n;for(t=this.editorView.getDefaultModes(),e=0;e<t.length;e++)n=t[e],this.addModeButton(n.id,n.name)},changeMode:function(e){var n=t(e.target.parentElement),i=n.data("mode");e.preventDefault(),this.selectMode(i)},selectMode:function(t){var e,n=this.editorView;n.selectMode(t),this.$(".editor-modes a").removeClass("is-set"),t&&(e="."+t+"-button",this.$(e).addClass("is-set"))},save:function(t){var e=this,n=this.editorView,r=this.xblockInfo,s=null;try{s=n.getXBlockFieldData()}catch(t){return o.showErrorMeassage(i("Studio's having trouble parsing the problem component's content"),t.message,1e4),o.setScrollOffset(n.$el,100),null}return t.preventDefault(),s&&o.runOperationShowingMessage(i("Saving"),function(){return r.save(s)}).done(function(){e.onSave()}),null},onSave:function(){var t=this.editOptions.refresh;this.hide(),t&&t(this.xblockInfo)},hide:function(){n.trigger("xblock:editorModalHidden"),r.prototype.hide.call(this),this.editorView.notifyRuntime("modal-hidden")},addModeButton:function(t,e){this.$(".editor-modes").append(this.editorModeButtonTemplate({mode:t,displayName:e}))},clickTitleButton:function(e){var n=this,i=this.xblockInfo.get("display_name"),r=this.$(".modal-window-title"),o=t('<input type="text" size="40" />'),s=function(e){var r=t(e.target).val();return i!==r&&(n.xblockInfo.set("display_name",r),n.xblockInfo.save({metadata:{display_name:r}})),n.createTitleEditor(n.getTitle()),!0};return e.preventDefault(),o.val(i),o.change(s).blur(s),r.html(o),o.focus().select(),t(e.target).remove(),!0}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/modals/move_xblock_modal.js":function(t,e,n){var i,r;i=[n(0),n(2),n(1),n(3),n("./cms/static/js/views/baseview.js"),n("./cms/static/js/views/utils/xblock_utils.js"),n("./cms/static/js/views/utils/move_xblock_utils.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"),n("./common/static/common/js/components/views/feedback.js"),n("./cms/static/js/models/xblock_info.js"),n("./cms/static/js/views/modals/base_modal.js"),n("./cms/static/js/views/move_xblock_list.js"),n("./cms/static/js/views/move_xblock_breadcrumb.js"),n("./cms/templates/js/move-xblock-modal.underscore")],void 0!==(r=function(t,e,n,i,r,o,s,a,l,u,c,d,f,h,p){"use strict";return d.extend({events:n.extend({},d.prototype.events,{"click .action-move:not(.is-disabled)":"moveXBlock"}),options:t.extend({},d.prototype.options,{modalName:"move-xblock",modalSize:"lg",showEditorModeButtons:!1,addPrimaryActionButton:!0,primaryActionButtonType:"move",viewSpecificClasses:"move-modal",primaryActionButtonTitle:i("Move"),modalSRTitle:i("Choose a location to move your component to")}),initialize:function(){var n=this;d.prototype.initialize.call(this),this.sourceXBlockInfo=this.options.sourceXBlockInfo,this.sourceParentXBlockInfo=this.options.sourceParentXBlockInfo,this.targetParentXBlockInfo=null,this.XBlockURLRoot=this.options.XBlockURLRoot,this.XBlockAncestorInfoURL=l.interpolate("{urlRoot}/{usageId}?fields=ancestorInfo",{urlRoot:this.XBlockURLRoot,usageId:this.sourceXBlockInfo.get("id")}),this.outlineURL=this.options.outlineURL,this.options.title=this.getTitle(),this.fetchCourseOutline().done(function(e,i){t(".ui-loading").addClass("is-hidden"),t(".breadcrumb-container").removeClass("is-hidden"),n.renderViews(e,i)}),this.listenTo(e,"move:breadcrumbRendered",this.focusModal),this.listenTo(e,"move:enableMoveOperation",this.enableMoveOperation),this.listenTo(e,"move:hideMoveModal",this.hide)},getTitle:function(){return l.interpolate(i("Move: {displayName}"),{displayName:this.sourceXBlockInfo.get("display_name")})},getContentHtml:function(){return n.template(p)({})},show:function(){d.prototype.show.apply(this,[!1]),this.updateMoveState(!1),s.hideMovedNotification()},hide:function(){this.moveXBlockListView&&this.moveXBlockListView.remove(),this.moveXBlockBreadcrumbView&&this.moveXBlockBreadcrumbView.remove(),d.prototype.hide.apply(this),u.prototype.outFocus.apply(this)},resize:function(){},focusModal:function(){u.prototype.inFocus.apply(this,[this.options.modalWindowClass]),t(this.options.modalWindowClass).focus()},fetchCourseOutline:function(){return t.when(this.fetchData(this.outlineURL),this.fetchData(this.XBlockAncestorInfoURL))},fetchData:function(e){var n=t.Deferred();return t.ajax({url:e,contentType:"application/json",dataType:"json",type:"GET"}).done(function(t){n.resolve(t)}).fail(function(){n.reject()}),n.promise()},renderViews:function(t,e){this.moveXBlockBreadcrumbView=new h({}),this.moveXBlockListView=new f({model:new c(t,{parse:!0}),sourceXBlockInfo:this.sourceXBlockInfo,ancestorInfo:e})},updateMoveState:function(t){var e=this.$el.find(".action-move");t?e.removeClass("is-disabled"):e.addClass("is-disabled")},isValidCategory:function(t){var e=["course","chapter","sequential","vertical"],i=this.sourceParentXBlockInfo.get("category"),r=t.get("category"),o=this.sourceParentXBlockInfo.get("has_children"),s=t.get("has_children");return o&&!n.contains(e,i)&&(i="vertical"),s&&!n.contains(e,r)&&"split_test"!==r&&(r="vertical"),r===i},enableMoveOperation:function(t){var e=!1;this.targetParentXBlockInfo=t,this.isValidCategory(t)&&this.sourceParentXBlockInfo.id!==t.id&&this.sourceXBlockInfo.id!==t.id&&(e=!0),this.updateMoveState(e)},moveXBlock:function(){s.moveXBlock({sourceXBlockElement:t("li.studio-xblock-wrapper[data-locator='"+this.sourceXBlockInfo.id+"']"),sourceDisplayName:this.sourceXBlockInfo.get("display_name"),sourceLocator:this.sourceXBlockInfo.id,sourceParentLocator:this.sourceParentXBlockInfo.id,targetParentLocator:this.targetParentXBlockInfo.id})}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/move_xblock_breadcrumb.js":function(t,e,n){var i,r;i=[n(0),n(2),n(1),n(3),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"),n("./cms/templates/js/move-xblock-breadcrumb.underscore")],void 0!==(r=function(t,e,n,i,r,o,s){"use strict";return e.View.extend({el:".breadcrumb-container",events:{"click .parent-nav-button":"handleBreadcrumbButtonPress"},initialize:function(){this.template=r.template(s),this.listenTo(e,"move:childrenRendered",this.render)},render:function(t){return r.setHtml(this.$el,this.template(t)),e.trigger("move:breadcrumbRendered"),this},handleBreadcrumbButtonPress:function(n){e.trigger("move:breadcrumbButtonPressed",t(n.target).data("parentIndex"))}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/move_xblock_list.js":function(t,e,n){var i,r;i=[n(0),n(2),n(1),n(3),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"),n("./cms/static/js/views/utils/xblock_utils.js"),n("./cms/templates/js/move-xblock-list.underscore")],void 0!==(r=function(t,e,n,i,r,o,s,a){"use strict";return e.View.extend({el:".xblock-list-container",parentInfo:{},childrenInfo:{},visitedAncestors:null,categoryRelationMap:{course:"section",section:"subsection",subsection:"unit",unit:"component"},categoriesText:{section:i("Sections"),subsection:i("Subsections"),unit:i("Units"),component:i("Components"),group:i("Groups")},events:{"click .button-forward":"renderChildren"},initialize:function(t){this.visitedAncestors=[],this.template=r.template(a),this.sourceXBlockInfo=t.sourceXBlockInfo,this.ancestorInfo=t.ancestorInfo,this.listenTo(e,"move:breadcrumbButtonPressed",this.handleBreadcrumbButtonPress),this.renderXBlockInfo()},render:function(){return r.setHtml(this.$el,this.template({sourceXBlockId:this.sourceXBlockInfo.id,xblocks:this.childrenInfo.children,noChildText:this.getNoChildText(),categoryText:this.getCategoryText(),parentDisplayname:this.parentInfo.parent.get("display_name"),XBlocksCategory:this.childrenInfo.category,currentLocationIndex:this.getCurrentLocationIndex()})),e.trigger("move:childrenRendered",this.breadcrumbInfo()),e.trigger("move:enableMoveOperation",this.parentInfo.parent),this},renderChildren:function(e){this.renderXBlockInfo("forward",t(e.target).closest(".xblock-item").data("itemIndex"))},handleBreadcrumbButtonPress:function(t){this.renderXBlockInfo("backward",t)},renderXBlockInfo:function(t,e){void 0===t?this.parentInfo.parent=this.model:"forward"===t?this.parentInfo.parent=this.childrenInfo.children[e]:"backward"===t&&(this.parentInfo.parent=this.visitedAncestors[e],this.visitedAncestors.splice(e)),this.visitedAncestors.push(this.parentInfo.parent),this.parentInfo.parent.get("child_info")?this.childrenInfo.children=this.parentInfo.parent.get("child_info").children:this.childrenInfo.children=[],this.setDisplayedXBlocksCategories(),this.render()},setDisplayedXBlocksCategories:function(){var t="component";this.parentInfo.category=s.getXBlockType(this.parentInfo.parent.get("category")),n.contains(n.keys(this.categoryRelationMap),this.parentInfo.category)||("split_test"===this.parentInfo.category&&(t="group"),this.categoryRelationMap[this.parentInfo.category]=t),this.childrenInfo.category=this.categoryRelationMap[this.parentInfo.category]},getCurrentLocationIndex:function(){var t,e=this;return n.each(e.childrenInfo.children,function(i,r){i.get("id")===e.sourceXBlockInfo.id?t=r:n.each(e.ancestorInfo.ancestors,function(e){e.display_name===i.get("display_name")&&e.id===i.get("id")&&(t=r)})}),t},getCategoryText:function(){return this.categoriesText[this.childrenInfo.category]},getNoChildText:function(){return o.interpolate(i("This {parentCategory} has no {childCategory}"),{parentCategory:this.parentInfo.category,childCategory:this.categoriesText[this.childrenInfo.category].toLowerCase()})},breadcrumbInfo:function(){return{breadcrumbs:n.map(this.visitedAncestors,function(t){return"course"===t.get("category")?i("Course Outline"):t.get("display_name")})}}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/paged_container.js":function(t,e,n){var i,r;i=[n(0),n(1),n("./common/static/common/js/components/utils/view_utils.js"),n("./cms/static/js/views/container.js"),n("./cms/static/js/utils/module.js"),n(3),n("./common/static/common/js/components/views/feedback_notification.js"),n("./cms/static/js/views/paging_header.js"),n("./common/static/common/js/components/views/paging_footer.js")],void 0!==(r=function(t,e,n,i,r,o,s,a,l){return i.extend({initialize:function(t){var e=this;i.prototype.initialize.call(this),this.page_size=this.options.page_size,this.page=t.page,this.collection={currentPage:0,totalPages:0,totalCount:0,sortDirection:"desc",start:0,_size:0,bind:function(){},size:function(){return e.collection._size},showChildrenPreviews:!0,setPage:function(t){e.setPage(t-1)},nextPage:function(){e.nextPage()},previousPage:function(){e.previousPage()},getPage:function(){return e.collection.currentPage+1},hasPreviousPage:function(){return e.collection.currentPage>0},hasNextPage:function(){return e.collection.currentPage<e.collection.totalPages-1},getTotalPages:function(){return this.totalPages},getPageNumber:function(){return this.getPage()},getTotalRecords:function(){return this.totalCount},getPageSize:function(){return e.page_size}}},new_child_view:"container_child_preview",render:function(t){return t=t||{},t.page_number=void 0!==t.page_number?t.page_number:this.collection.currentPage,this.renderPage(t)},renderPage:function(e){var i=this,r=this.view,o=this.model,s=o.url();return t.ajax({url:decodeURIComponent(s)+"/"+r,type:"GET",cache:!1,data:this.getRenderParameters(e.page_number,e.force_render),headers:{Accept:"application/json"},success:function(r){var o=e.done;e.done=function(){if(i.processPaging({requested_page:e.page_number}),i.page.updatePreviewButton(i.collection.showChildrenPreviews),i.page.renderAddXBlockComponents(),e.force_render){var r=t('.studio-xblock-wrapper[data-locator="'+e.force_render+'"]');n.setScrollOffset(r,.1*t(window).height())}o&&o()},i.handleXBlockFragment(r,e)}})},getRenderParameters:function(t,e){return{page_size:this.page_size,enable_paging:!0,page_number:t,force_render:e}},getPageCount:function(t){return 0===t?1:Math.ceil(t/this.page_size)},setPage:function(t,n){n=n||{};var i=e.extend({page_number:t},n);this.render(i)},nextPage:function(){var t=this.collection,e=t.currentPage;e<t.totalPages-1&&this.setPage(e+1)},previousPage:function(){var t=this.collection,e=t.currentPage;e>0&&this.setPage(e-1)},processPaging:function(t){var e=this.$el.find(".xblock-container-paging-parameters"),n=e.data("total"),i=e.data("displayed"),r=e.data("start"),o=e.data("previews");this.collection.currentPage=t.requested_page,this.collection.totalCount=n,this.collection.totalPages=this.getPageCount(n),this.collection.start=r,this.collection._size=i,this.collection.showChildrenPreviews=o,this.processPagingHeaderAndFooter()},processPagingHeaderAndFooter:function(){this.pagingHeader&&this.pagingHeader.undelegateEvents(),this.pagingFooter&&this.pagingFooter.undelegateEvents(),this.pagingHeader=new a({view:this,el:this.$el.find(".container-paging-header")}),this.pagingFooter=new l({collection:this.collection,el:this.$el.find(".container-paging-footer")}),this.pagingHeader.render(),this.pagingFooter.render()},refresh:function(t,e,n){if(e){if(n){var i=t.xblock.element.parents(".studio-xblock-wrapper").first(),r=i.parent().children(".studio-xblock-wrapper");if(r.index(i)+1<=this.page_size&&r.length>this.page_size)return void r[r.length-1].remove()}if(this.collection.totalCount+=1,this.collection._size+=1,1==this.collection.totalCount)return void this.render();this.collection.totalPages=this.getPageCount(this.collection.totalCount);var o=this.collection.totalPages-1;if(this.collection.currentPage!=o||1==this.collection.totalCount){var s=t.model.id;n&&(o=this.collection.currentPage+1),this.setPage(o,{force_render:s})}else this.pagingHeader.render(),this.pagingFooter.render()}},acknowledgeXBlockDeletion:function(t){this.notifyRuntime("deleted-child",t),this.collection._size-=1,this.collection.totalCount-=1;var e=this.collection.currentPage,n=this.getPageCount(this.collection.totalCount);this.collection.totalPages=n,e+1>n?this.setPage(n-1):e+1!=n?this.setPage(e):(this.pagingHeader.render(),this.pagingFooter.render())},sortDisplayName:function(){return o("Date added")},togglePreviews:function(){var e=this,n=this.model.url();return t.ajax({url:"/preview"+decodeURIComponent(n)+"/handler/trigger_previews",type:"POST",data:JSON.stringify({showChildrenPreviews:!this.collection.showChildrenPreviews}),dataType:"json"}).then(e.render).promise()}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/pages/base_page.js":function(t,e,n){var i,r;i=[n(0),n("./cms/static/js/views/baseview.js")],void 0!==(r=function(t,e){return e.extend({initialize:function(){e.prototype.initialize.call(this)},hasContent:function(){return!0},renderPage:function(){return t.Deferred().resolve().promise()},render:function(){var t=this;return this.$(".ui-loading").removeClass("is-hidden"),this.renderPage().done(function(){t.hasContent()||t.$(".no-content").removeClass("is-hidden")}).always(function(){t.$(".ui-loading").addClass("is-hidden")}),this}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/pages/container.js":function(t,e,n){var i,r;i=[n(0),n(1),n(2),n(3),n("./cms/static/js/views/pages/base_page.js"),n("./common/static/common/js/components/utils/view_utils.js"),n("./cms/static/js/views/container.js"),n("./cms/static/js/views/xblock.js"),n("./cms/static/js/views/components/add_xblock.js"),n("./cms/static/js/views/modals/edit_xblock.js"),n("./cms/static/js/views/modals/move_xblock_modal.js"),n("./cms/static/js/models/xblock_info.js"),n("./cms/static/js/views/xblock_string_field_editor.js"),n("./cms/static/js/views/xblock_access_editor.js"),n("./cms/static/js/views/pages/container_subviews.js"),n("./cms/static/js/views/unit_outline.js"),n("./cms/static/js/views/utils/xblock_utils.js")],void 0!==(r=function(t,e,n,i,r,o,s,a,l,u,c,d,f,h,p,m,g){"use strict";return r.extend({events:{"click .edit-button":"editXBlock","click .access-button":"editVisibilitySettings","click .duplicate-button":"duplicateXBlock","click .move-button":"showMoveXBlockModal","click .delete-button":"deleteXBlock","click .new-component-button":"scrollToNewComponentButtons"},options:{collapsedClass:"is-collapsed",canEdit:!0},view:"container_preview",defaultViewClass:s,components_on_init:!0,initialize:function(t){r.prototype.initialize.call(this,t),this.viewClass=t.viewClass||this.defaultViewClass,this.isLibraryPage="library"===this.model.attributes.category,this.nameEditor=new f({el:this.$(".wrapper-xblock-field"),model:this.model}),this.nameEditor.render(),this.isLibraryPage||(this.accessEditor=new h({el:this.$(".wrapper-xblock-field")}),this.accessEditor.render()),"new"===this.options.action&&this.nameEditor.$(".xblock-field-value-edit").click(),this.xblockView=this.getXBlockView(),this.messageView=new p.MessageView({el:this.$(".container-message"),model:this.model}),this.messageView.render(),this.isLibraryPage||(this.containerAccessView=new p.ContainerAccess({el:this.$(".container-access"),model:this.model}),this.containerAccessView.render(),this.xblockPublisher=new p.Publisher({el:this.$("#publish-unit"),model:this.model,renderPage:this.render}),this.xblockPublisher.render(),this.publishHistory=new p.PublishHistory({el:this.$("#publish-history"),model:this.model}),this.publishHistory.render(),this.viewLiveActions=new p.ViewLiveButtonController({el:this.$(".nav-actions"),model:this.model}),this.viewLiveActions.render(),this.unitOutlineView=new m({el:this.$(".wrapper-unit-overview"),model:this.model}),this.unitOutlineView.render()),this.listenTo(n,"move:onXBlockMoved",this.onXBlockMoved)},getViewParameters:function(){return{el:this.$(".wrapper-xblock"),model:this.model,view:this.view}},getXBlockView:function(){return new this.viewClass(this.getViewParameters())},render:function(t){var e=this,n=this.xblockView,i=this.$(".ui-loading"),r=this.$(".unit-location");i.removeClass("is-hidden"),n.$el.addClass("is-hidden"),n.render({done:function(){n.$el.removeClass("is-hidden"),i.addClass("is-hidden"),n.notifyRuntime("page-shown",e),e.components_on_init&&e.renderAddXBlockComponents(),e.onXBlockRefresh(n),r.removeClass("is-hidden"),e.delegateEvents()},block_added:t&&t.block_added})},findXBlockElement:function(e){return t(e).closest(".studio-xblock-wrapper")},getURLRoot:function(){return this.xblockView.model.urlRoot},onXBlockRefresh:function(t,e,n){this.xblockView.refresh(t,e,n),this.model.fetch()},renderAddXBlockComponents:function(){var t=this;t.options.canEdit?this.$(".add-xblock-component").each(function(n,i){new l({el:i,createComponent:e.bind(t.createComponent,t),collection:t.options.templates}).render()}):this.$(".add-xblock-component").remove()},editXBlock:function(e,n){if(e.preventDefault(),!n||"visibility_view"!==n.view){var i=t(e.target).closest(".xblock-header-primary"),r=i.attr("use-new-editor-text"),o=i.attr("use-new-editor-video"),s=i.attr("use-new-editor-problem"),a=i.attr("data-block-type");if("True"===r&&"html"===a||"True"===o&&"video"===a||"True"===s&&"problem"===a){var l=i.attr("authoring_MFE_base_url")+"/"+a+"/"+encodeURI(i.attr("data-usage-id"));return void(window.location.href=l)}}var c=this.findXBlockElement(e.target),d=this;new u(n).edit(c,this.model,{readOnlyView:!this.options.canEdit,refresh:function(){d.refreshXBlock(c,!1)}})},editVisibilitySettings:function(t){this.editXBlock(t,{view:"visibility_view",titleFormat:i("Editing access for: {title}"),viewSpecificClasses:"",modalSize:"med"})},duplicateXBlock:function(t){t.preventDefault(),this.duplicateComponent(this.findXBlockElement(t.target))},showMoveXBlockModal:function(t){var e=this.findXBlockElement(t.target),n=e.parents(".studio-xblock-wrapper"),i=new c({sourceXBlockInfo:g.findXBlockInfo(e,this.model),sourceParentXBlockInfo:g.findXBlockInfo(n,this.model),XBlockURLRoot:this.getURLRoot(),outlineURL:this.options.outlineURL});t.preventDefault(),i.show()},deleteXBlock:function(t){t.preventDefault(),this.deleteComponent(this.findXBlockElement(t.target))},createPlaceholderElement:function(){return t("<div/>",{class:"studio-xblock-wrapper"})},createComponent:function(n,i){var r,s=this.findXBlockElement(i),a=s.data("locator"),l=i.closest(".add-xblock-component"),u=l.prev(),c=o.getScrollOffset(l),d=t(this.createPlaceholderElement()),f=e.extend(n,{parent_locator:a});return r=d.appendTo(u),t.postJSON(this.getURLRoot()+"/",f,e.bind(this.onNewXBlock,this,r,c,!1)).fail(function(){r.remove()})},duplicateComponent:function(e){var n,i=this,r=i.findXBlockElement(e.parent()),s=o.getScrollOffset(e),a=t(i.createPlaceholderElement());n=a.insertAfter(e),g.duplicateXBlock(e,r).done(function(t){i.onNewXBlock(n,s,!0,t)}).fail(function(){n.remove()})},deleteComponent:function(t){var e=this,n=new d({id:t.data("locator")});g.deleteXBlock(n).done(function(){e.onDelete(t)})},onDelete:function(t){var e=this.xblockView,n=this.findXBlockElement(t.parent());t.remove(),e.acknowledgeXBlockDeletion(n.data("locator")),this.model.fetch()},onXBlockMoved:function(){this.model.fetch()},onNewXBlock:function(t,e,n,i){var r=this.$(".xblock-header-primary").attr("use-new-editor-text"),s=this.$(".xblock-header-primary").attr("use-new-editor-video"),a=this.$(".xblock-header-primary").attr("use-new-editor-problem");if(i.hasOwnProperty("locator"))var l=/\@(.*?)\+/,u=i.locator.match(l);if("True"===r&&u.includes("html")||"True"===s&&u.includes("video")||"True"===a&&u.includes("problem")){var c=this.$(".xblock-header-primary").attr("authoring_MFE_base_url")+"/"+u[1]+"/"+encodeURI(i.locator);return void(window.location.href=c)}return o.setScrollOffset(t,e),t.data("locator",i.locator),this.refreshXBlock(t,!0,n)},refreshXBlock:function(t,e,n){var i=this.findXBlockElement(t),r=i.parent(),o=this.xblockView.model.id;0===i.length||i.data("locator")===o?this.render({refresh:!0,block_added:e}):r.hasClass("reorderable-container")?this.refreshChildXBlock(i,e,n):this.refreshXBlock(this.findXBlockElement(r))},refreshChildXBlock:function(e,n,i){var r,o,s,l=this;return r=new d({id:e.data("locator")}),o=a.extend({updateHtml:function(e,n){this.$el=t(n).replaceAll(e)}}),s=new o({model:r,view:l.xblockView.new_child_view,el:e}),s.render({success:function(){l.onXBlockRefresh(s,n,i),s.unbind()},initRuntimeData:this})},scrollToNewComponentButtons:function(e){e.preventDefault(),t.scrollTo(this.$(".add-xblock-component"),{duration:250})}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/pages/container_subviews.js":function(t,e,n){var i,r;i=[n(0),n(1),n(3),n("./cms/static/js/views/baseview.js"),n("./common/static/common/js/components/utils/view_utils.js"),n("./cms/static/js/views/utils/xblock_utils.js"),n("./cms/static/js/views/utils/move_xblock_utils.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(r=function(t,e,n,i,r,o,s,a){"use strict";var l=i.extend({initialize:function(){this.model.on("sync",this.onSync,this)},onSync:function(t){this.shouldRefresh(t)&&this.render()},shouldRefresh:function(t){return!1},render:function(){}}),u=l.extend({initialize:function(){l.prototype.initialize.call(this),this.template=this.loadTemplate("container-access")},shouldRefresh:function(t){return r.hasChangedAttributes(t,["has_partition_group_components","user_partitions"])},render:function(){return a.setHtml(this.$el,a.HTML(this.template({hasPartitionGroupComponents:this.model.get("has_partition_group_components"),userPartitionInfo:this.model.get("user_partition_info")}))),this}});return{MessageView:l.extend({initialize:function(){l.prototype.initialize.call(this),this.template=this.loadTemplate("container-message")},shouldRefresh:function(t){return r.hasChangedAttributes(t,["currently_visible_to_students"])},render:function(){return a.setHtml(this.$el,a.HTML(this.template({currentlyVisibleToStudents:this.model.get("currently_visible_to_students")}))),this}}),ViewLiveButtonController:l.extend({shouldRefresh:function(t){return r.hasChangedAttributes(t,["published"])},render:function(){var t=this.$el.find(".button-view");this.model.get("published")?t.removeClass("is-disabled").attr("aria-disabled",!1):t.addClass("is-disabled").attr("aria-disabled",!0)}}),Publisher:i.extend({events:{"click .action-publish":"publish","click .action-discard":"discardChanges","click .action-staff-lock":"toggleStaffLock"},initialize:function(){i.prototype.initialize.call(this),this.template=this.loadTemplate("publish-xblock"),this.model.on("sync",this.onSync,this),this.renderPage=this.options.renderPage},onSync:function(t){r.hasChangedAttributes(t,["has_changes","published","edited_on","edited_by","visibility_state","has_explicit_staff_lock"])&&this.render()},render:function(){return a.setHtml(this.$el,a.HTML(this.template({visibilityState:this.model.get("visibility_state"),visibilityClass:o.getXBlockVisibilityClass(this.model.get("visibility_state")),hasChanges:this.model.get("has_changes"),editedOn:this.model.get("edited_on"),editedBy:this.model.get("edited_by"),published:this.model.get("published"),publishedOn:this.model.get("published_on"),publishedBy:this.model.get("published_by"),released:this.model.get("released_to_students"),releaseDate:this.model.get("release_date"),releaseDateFrom:this.model.get("release_date_from"),hasExplicitStaffLock:this.model.get("has_explicit_staff_lock"),staffLockFrom:this.model.get("staff_lock_from"),course:window.course,HtmlUtils:a}))),this},publish:function(t){var e=this.model;t&&t.preventDefault&&t.preventDefault(),r.runOperationShowingMessage(n("Publishing"),function(){return e.save({publish:"make_public"},{patch:!0})}).always(function(){e.set("publish",null),s.hideMovedNotification()}).done(function(){e.fetch()})},discardChanges:function(t){var e=this.model,i=this.renderPage;t&&t.preventDefault&&t.preventDefault(),r.confirmThenRunOperation(n("Discard Changes"),n("Are you sure you want to revert to the last published version of the unit? You cannot undo this action."),n("Discard Changes"),function(){r.runOperationShowingMessage(n("Discarding Changes"),function(){return e.save({publish:"discard_changes"},{patch:!0})}).always(function(){e.set("publish",null),s.hideMovedNotification()}).done(function(){i()})})},toggleStaffLock:function(t){var i,o,s,a,l=this.model,u=this;t&&t.preventDefault&&t.preventDefault(),i=!l.get("has_explicit_staff_lock"),o=l.get("ancestor_has_staff_lock"),a=function(){u.checkStaffLock(!i)},s=function(){return l.save({publish:"republish",metadata:{visible_to_staff_only:!!i||null}},{patch:!0}).always(function(){l.set("publish",null)}).done(function(){l.fetch()}).fail(function(){a()})},this.checkStaffLock(i),i&&!o?r.runOperationShowingMessage(n("Hiding from Students"),e.bind(s,u)):i&&o?r.runOperationShowingMessage(n("Explicitly Hiding from Students"),e.bind(s,u)):!i&&o?r.runOperationShowingMessage(n("Inheriting Student Visibility"),e.bind(s,u)):r.confirmThenRunOperation(n("Make Visible to Students"),n("If the unit was previously published and released to students, any changes you made to the unit when it was hidden will now be visible to students. Do you want to proceed?"),n("Make Visible to Students"),function(){r.runOperationShowingMessage(n("Making Visible to Students"),e.bind(s,u))},function(){a()})},checkStaffLock:function(t){this.$(".action-staff-lock i").removeClass("fa-check-square-o fa-square-o"),this.$(".action-staff-lock i").addClass(t?"fa-check-square-o":"fa-square-o")}}),PublishHistory:i.extend({initialize:function(){i.prototype.initialize.call(this),this.template=this.loadTemplate("publish-history"),this.model.on("sync",this.onSync,this)},onSync:function(t){r.hasChangedAttributes(t,["published","published_on","published_by"])&&this.render()},render:function(){return a.setHtml(this.$el,a.HTML(this.template({published:this.model.get("published"),published_on:this.model.get("published_on"),published_by:this.model.get("published_by")}))),this}}),ContainerAccess:u}}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/pages/paged_container.js":function(t,e,n){var i,r;i=[n(0),n(1),n(3),n("./cms/static/js/views/pages/container.js"),n("./cms/static/js/views/paged_container.js")],void 0!==(r=function(t,e,n,i,r){"use strict";return i.extend({events:e.extend({},i.prototype.events,{"click .toggle-preview-button":"toggleChildrenPreviews"}),defaultViewClass:r,components_on_init:!1,initialize:function(t){this.page_size=t.page_size||10,this.showChildrenPreviews=t.showChildrenPreviews||!0,i.prototype.initialize.call(this,t)},getViewParameters:function(){return e.extend(i.prototype.getViewParameters.call(this),{page_size:this.page_size,page:this})},refreshXBlock:function(t,e,n){var i=this.findXBlockElement(t),r=this.xblockView.model.id;0===i.length||i.data("locator")===r?this.render({refresh:!0,block_added:e}):this.refreshChildXBlock(i,e,n)},toggleChildrenPreviews:function(t){t.preventDefault(),this.xblockView.togglePreviews()},updatePreviewButton:function(e){var i=n(e?"Hide Previews":"Show Previews"),r=t(".nav-actions .button-toggle-preview");this.$(".preview-text",r).text(i),this.$(".toggle-preview-button").removeClass("is-hidden")}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/paging_header.js":function(t,e,n){var i,r;i=[n(1),n(2),n(3),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"),n("./cms/templates/js/paging-header.underscore")],void 0!==(r=function(t,e,n,i,r,o){"use strict";return e.View.extend({events:{"click .next-page-link":"nextPage","click .previous-page-link":"previousPage"},initialize:function(e){var n=e.view,i=n.collection;this.view=n,i.bind("add",t.bind(this.render,this)),i.bind("remove",t.bind(this.render,this)),i.bind("reset",t.bind(this.render,this))},render:function(){var t=this.view,e=t.collection,n=e.getPageNumber(),r=e.getTotalPages(),s=this.messageHtml(),a=0===r||n===r;return i.setHtml(this.$el,i.template(o)({messageHtml:s})),this.$(".previous-page-link").toggleClass("is-disabled",1===n).attr("aria-disabled",1===n),this.$(".next-page-link").toggleClass("is-disabled",a).attr("aria-disabled",a),this},messageHtml:function(){var t="",e=!1;return this.view.collection.assetType?(t=n("asc"===this.view.collection.sortDirection?"Showing {currentItemRange} out of {totalItemsCount}, filtered by {assetType}, sorted by {sortName} ascending":"Showing {currentItemRange} out of {totalItemsCount}, filtered by {assetType}, sorted by {sortName} descending"),e=this.filterNameLabel()):t=n("asc"===this.view.collection.sortDirection?"Showing {currentItemRange} out of {totalItemsCount}, sorted by {sortName} ascending":"Showing {currentItemRange} out of {totalItemsCount}, sorted by {sortName} descending"),i.interpolateHtml(t,{currentItemRange:this.currentItemRangeLabel(),totalItemsCount:this.totalItemsCountLabel(),assetType:e,sortName:this.sortNameLabel()})},currentItemRangeLabel:function(){var t=this.view,e=t.collection,n=(e.getPageNumber()-1)*e.getPageSize(),r=e.size(),o=n+r,s=i.HTML('<span class="count-current-shown">{start}-{end}</span>');return i.interpolateHtml(s,{start:Math.min(n+1,o),end:o})},totalItemsCountLabel:function(){var t,e=i.HTML('<span class="count-total">{totalItemsLabel}</span>');return t=r.interpolate(n("{totalItems} total"),{totalItems:this.view.collection.getTotalRecords()}),i.interpolateHtml(e,{totalItemsLabel:t})},sortNameLabel:function(){var t=i.HTML('<span class="sort-order">{sortName}</span>');return i.interpolateHtml(t,{sortName:this.view.sortDisplayName()})},filterNameLabel:function(){var t=i.HTML('<span class="filter-column">{filterName}</span>');return i.interpolateHtml(t,{filterName:this.view.filterDisplayName()})},nextPage:function(){this.view.nextPage()},previousPage:function(){this.view.previousPage()}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/unit_outline.js":function(t,e,n){var i,r;i=[n(1),n("./cms/static/js/views/xblock_outline.js"),n("./cms/static/js/views/unit_outline_child.js")],void 0!==(r=function(t,e,n){return e.extend({templateName:"unit-outline",render:function(){return e.prototype.render.call(this),this.renderAncestors(),this},renderAncestors:function(){var t,e,n,i,r=this,o=null;if(this.model.get("ancestor_info"))for(n=this.model.get("ancestor_info").ancestors,e=this.getListElement(),t=n.length-1;t>=0;t--)i=n[t],r=this.createChildView(i,o,{parentView:r,currentUnitId:this.model.get("id")}),r.render(),e.append(r.$el),o=i,e=r.getListElement();return r},getChildViewClass:function(){return n},getTemplateContext:function(){return t.extend(e.prototype.getTemplateContext.call(this),{currentUnitId:this.model.get("id")})}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/unit_outline_child.js":function(t,e,n){var i,r;i=[n(1),n("./cms/static/js/views/xblock_outline.js")],void 0!==(r=function(t,e){var n=e.extend({initialize:function(){e.prototype.initialize.call(this),this.currentUnitId=this.options.currentUnitId},getTemplateContext:function(){return t.extend(e.prototype.getTemplateContext.call(this),{currentUnitId:this.currentUnitId})},getChildViewClass:function(){return n},createChildView:function(n,i,r){return r=t.isUndefined(r)?{}:r,e.prototype.createChildView.call(this,n,i,t.extend(r,{currentUnitId:this.currentUnitId}))}});return n}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/uploads.js":function(t,e,n){var i,r;i=[n(0),n(1),n(3),n("./cms/static/js/views/modals/base_modal.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"),n("./common/static/js/vendor/jquery.form.js")],void 0!==(r=function(t,e,n,i,r){"use strict";return i.extend({events:e.extend({},i.prototype.events,{"change input[type=file]":"selectFile","click .action-upload":"upload"}),options:t.extend({},i.prototype.options,{modalName:"assetupload",modalSize:"med",successMessageTimeout:2e3,viewSpecificClasses:"confirm"}),initialize:function(t){i.prototype.initialize.call(this),this.template=this.loadTemplate("upload-dialog"),this.listenTo(this.model,"change",this.renderContents),this.options.title=this.model.get("title"),this.uploadData=e.extend({},t.uploadData)},addActionButtons:function(){this.addActionButton("upload",n("Upload"),!0),i.prototype.addActionButtons.call(this)},renderContents:function(){var e=this.model.isValid(),n=this.model.get("selectedFile"),o=this.$("input[type=file]");return i.prototype.renderContents.call(this),n&&e?(t(o).removeClass("error"),this.$("input[type=file]").replaceWith(r.HTML(o).toString()),this.$(".action-upload").removeClass("disabled")):this.$(".action-upload").addClass("disabled"),this},getContentHtml:function(){return this.template({url:this.options.url||CMS.URL.UPLOAD_ASSET,message:this.model.get("message"),selectedFile:this.model.get("selectedFile"),uploading:this.model.get("uploading"),uploadedBytes:this.model.get("uploadedBytes"),totalBytes:this.model.get("totalBytes"),finished:this.model.get("finished"),error:this.model.validationError})},selectFile:function(e){var n=e.target.files[0]||null;this.model.set({selectedFile:n}),n&&t.isEmptyObject(this.model.changed)&&this.model.trigger("change")},upload:function(t){var n=e.extend({},this.uploadData);n.notifyOnError=!1,t&&t.preventDefault&&t.preventDefault(),this.model.set("uploading",!0),this.$("form").ajaxSubmit({success:e.bind(this.success,this),error:e.bind(this.error,this),uploadProgress:e.bind(this.progress,this),data:n})},progress:function(t,e,n){this.model.set({uploadedBytes:e,totalBytes:n})},success:function(t,e,n,i){this.model.set({uploading:!1,finished:!0}),this.options.onSuccess&&this.options.onSuccess(t,e,n,i);var r=this;this.removalTimeout=setTimeout(function(){r.hide()},this.options.successMessageTimeout)},error:function(){this.model.set({uploading:!1,uploadedBytes:0,title:n("We're sorry, there was an error")})}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/utils/move_xblock_utils.js":function(t,e,n){var i,r;i=[n(0),n(1),n(2),n("./common/static/common/js/components/views/feedback.js"),n("./common/static/common/js/components/views/feedback_alert.js"),n("./cms/static/js/views/utils/xblock_utils.js"),n("./cms/static/js/views/utils/move_xblock_utils.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"),n("./common/static/js/vendor/jquery.smooth-scroll.min.js")],void 0!==(r=function(t,e,n,i,r,o,s,a){"use strict";var l,u,c,d,f;return l=function(t){window.location.href=t},u=function(t){o.moveXBlock(t.sourceLocator,t.targetParentLocator).done(function(e){n.trigger("move:hideMoveModal"),t.sourceXBlockElement.hide(),d(a.interpolate(gettext('Success! "{displayName}" has been moved.'),{displayName:t.sourceDisplayName}),{sourceXBlockElement:t.sourceXBlockElement,sourceDisplayName:t.sourceDisplayName,sourceLocator:t.sourceLocator,sourceParentLocator:t.sourceParentLocator,targetParentLocator:t.targetParentLocator,targetIndex:e.source_index}),n.trigger("move:onXBlockMoved")})},c=function(t){o.moveXBlock(t.sourceLocator,t.sourceParentLocator,t.targetIndex).done(function(){t.sourceXBlockElement.show(),d(a.interpolate(gettext('Move cancelled. "{sourceDisplayName}" has been moved back to its original location.'),{sourceDisplayName:t.sourceDisplayName})),n.trigger("move:onXBlockMoved")})},d=function(e,n){var i;return i=n?new r.Confirmation({title:e,actions:{primary:{text:gettext("Undo move"),class:"action-save",click:function(){c({sourceXBlockElement:n.sourceXBlockElement,sourceDisplayName:n.sourceDisplayName,sourceLocator:n.sourceLocator,sourceParentLocator:n.sourceParentLocator,targetIndex:n.targetIndex})}},secondary:[{text:gettext("Take me to the new location"),class:"action-cancel",click:function(){l("/container/"+n.targetParentLocator)}}]}}):new r.Confirmation({title:e}),i.show(),t.smoothScroll({offset:0,easing:"swing",speed:1e3}),i.$(".wrapper").first().focus(),i},f=function(){var t=i.active_alert;t&&r.prototype.hide.apply(t)},{redirectLink:l,moveXBlock:u,undoMoveXBlock:c,showMovedNotification:d,hideMovedNotification:f}}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/utils/xblock_utils.js":function(t,e,n){var i,r;i=[n(0),n(1),n(3),n("./common/static/common/js/components/utils/view_utils.js"),n("./cms/static/js/utils/module.js"),n("./cms/static/js/models/xblock_info.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js")],void 0!==(r=function(t,e,n,i,r,o,s){"use strict";var a,l,u,c,d,f,h,p,m,g,v,b;return f={live:"live",ready:"ready",unscheduled:"unscheduled",needsAttention:"needs_attention",staffOnly:"staff_only",gated:"gated"},a=function(e){var o=e.data("parent"),s=e.data("category"),a=e.data("default-name");return i.runOperationShowingMessage(n("Adding"),function(){var e=t.Deferred();return analytics.track("Created a "+s,{course:course_location_analytics,display_name:a}),t.postJSON(r.getUpdateUrl(),{parent_locator:o,category:s,display_name:a},function(t){var n=t.locator;e.resolve(n)}),e.promise()})},l=function(e,o){return i.runOperationShowingMessage(n("Duplicating"),function(){var n=t.Deferred();return t.postJSON(r.getUpdateUrl(),{duplicate_source_locator:e.data("locator"),parent_locator:o.data("locator")},function(t){n.resolve(t)}).fail(function(){n.reject()}),n.promise()})},b=function(e,o,s){var a=t.Deferred(),l=n(void 0!==s?"Undo moving":"Moving");return i.runOperationShowingMessage(l,function(){return t.patchJSON(r.getUpdateUrl(),{move_source_locator:e,parent_locator:o,target_index:s},function(t){a.resolve(t)}).fail(function(){a.reject()}),a.promise()})},u=function(e,o){var a,l=t.Deferred(),u=r.getUpdateUrl(e.id),c=function(){i.runOperationShowingMessage(n("Deleting"),function(){return t.ajax({type:"DELETE",url:u}).success(function(){l.resolve()})})};return o=o||"component",a=s.interpolate(n("Deleting this {xblock_type} is permanent and cannot be undone."),{xblock_type:o},!0),e.get("is_prereq")?(a+=" "+n("Any content that has listed this content as a prerequisite will also have access limitations removed."),i.confirmThenRunOperation(s.interpolate(n("Delete this {xblock_type} (and prerequisite)?"),{xblock_type:o},!0),a,s.interpolate(n("Yes, delete this {xblock_type}"),{xblock_type:o},!0),c)):i.confirmThenRunOperation(s.interpolate(n("Delete this {xblock_type}?"),{xblock_type:o},!0),a,s.interpolate(n("Yes, delete this {xblock_type}"),{xblock_type:o},!0),c),l.promise()},c=function(t,e){var n={};return n[t]=e,{metadata:n}},d=function(t,e,r){var o=c(e,r);return i.runOperationShowingMessage(n("Saving"),function(){return t.save(o,{patch:!0})})},m=function(t,r,o){return o=e.extend({},{patch:!0},o),i.runOperationShowingMessage(n("Saving"),function(){return t.save(r,o)})},h=function(t){return t===f.staffOnly?"is-staff-only":t===f.gated?"is-gated":t===f.live?"is-live":t===f.ready?"is-ready":t===f.needsAttention?"has-warnings":""},p=function(t){var e="list-unknown";return"course"===t?e="list-sections":"section"===t?e="list-subsections":"subsection"===t&&(e="list-units"),e},g=function(t,e,i){var r=t;return"chapter"===t?r=i?n("section"):"section":"sequential"===t?r=i?n("subsection"):"subsection":"vertical"!==t||e&&"sequential"!==e.get("category")||(r=i?n("unit"):"unit"),r},v=function(t,e){var n,i,r,s=e;return t.length>0&&(n=t.find(".xblock"),i=t.find(".xblock-header .header-details .xblock-display-name").text().trim(),i||(i=n.find(".component-header").text().trim()),r=!!e&&e.get("has_children"),s=new o({id:t.data("locator"),courseKey:t.data("course-key"),category:n.data("block-type"),display_name:i,has_children:r})),s},{VisibilityState:f,addXBlock:a,moveXBlock:b,duplicateXBlock:l,deleteXBlock:u,updateXBlockField:d,getXBlockVisibilityClass:h,getXBlockListTypeClass:p,updateXBlockFields:m,getXBlockType:g,findXBlockInfo:v}}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/video/transcripts/file_uploader.js":function(t,e,n){var i,r;i=[n(0),n(2),n(1),n("./cms/static/js/views/video/transcripts/utils.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(r=function(t,e,n,i,r){"use strict";return e.View.extend({invisibleClass:"is-invisible",validFileExtensions:["srt"],events:{"change .file-input":"changeHandler","click .setting-upload":"clickHandler"},uploadTpl:"#file-upload",initialize:function(t){n.bindAll(this,"changeHandler","clickHandler","xhrResetProgressBar","xhrProgressHandler","xhrCompleteHandler","render"),this.options=n.extend({},t),this.file=!1,this.render()},render:function(){var e=t(this.uploadTpl).text(),n=this.$el.find(".transcripts-file-uploader");if(n.length){if(!e)return void console.error("Couldn't load Transcripts File Upload template");this.template=r.template(e),r.setHtml(n,this.template({ext:this.validFileExtensions,component_locator:this.options.component_locator})),this.$form=this.$el.find(".file-chooser"),this.$input=this.$form.find(".file-input"),this.$progress=this.$el.find(".progress-fill")}},upload:function(){var t={edx_video_id:i.Storage.get("edx_video_id")||""};this.file&&this.$form.ajaxSubmit({beforeSend:this.xhrResetProgressBar,uploadProgress:this.xhrProgressHandler,complete:this.xhrCompleteHandler,data:t})},clickHandler:function(t){t.preventDefault(),this.$input.val(null).trigger("click")},changeHandler:function(t){t.preventDefault(),this.options.messenger.hideError(),this.file=this.$input.get(0).files[0],this.checkExtValidity(this.file)?this.upload():this.options.messenger.showError(gettext("Please select a file in .srt format."))},checkExtValidity:function(e){var n;if(e.name)return n=e.name.split(".").pop().toLowerCase(),-1!==t.inArray(n,this.validFileExtensions)},xhrResetProgressBar:function(){this.$progress.width("0%").text("0%").removeClass(this.invisibleClass)},xhrProgressHandler:function(t,e,n,i){var r=i+"%";this.$progress.width(r).text(r)},xhrCompleteHandler:function(t){var n=JSON.parse(t.responseText),i=n.status||gettext("Error: Uploading failed."),r=n.edx_video_id;this.$progress.addClass(this.invisibleClass),200===t.status?(this.options.messenger.render("uploaded",n),e.trigger("transcripts:basicTabUpdateEdxVideoId",r)):this.options.messenger.showError(i)}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/video/transcripts/message_manager.js":function(t,e,n){(function(i){var r,o;r=[n(0),n(2),n(1),n("./cms/static/js/views/video/transcripts/utils.js"),n("./cms/static/js/views/video/transcripts/file_uploader.js"),n(3)],void 0!==(o=function(t,e,n,r,o,s){return e.View.extend({tagName:"div",elClass:".wrapper-transcripts-message",invisibleClass:"is-invisible",events:{"click .setting-import":"importHandler","click .setting-replace":"replaceHandler","click .setting-choose":"chooseHandler","click .setting-use-existing":"useExistingHandler"},templates:{not_found:"#transcripts-not-found",found:"#transcripts-found",import:"#transcripts-import",replace:"#transcripts-replace",uploaded:"#transcripts-uploaded",use_existing:"#transcripts-use-existing",choose:"#transcripts-choose"},initialize:function(t){n.bindAll(this,"importHandler","replaceHandler","chooseHandler","useExistingHandler","showError","hideError"),this.options=n.extend({},t),this.component_locator=this.$el.closest("[data-locator]").data("locator"),this.fileUploader=new o({el:this.$el,messenger:this,component_locator:this.component_locator})},render:function(e,r){var o,s=t(this.templates[e]).text(),a=this.options.parent.getVideoObjectsList(),l=n.groupBy(a,function(t){return t.video}),u=r?r.html5_local:[];return s?(o=i.template(s),i.setHtml(this.$el.find(".transcripts-status").removeClass("is-invisible").find(this.elClass),o({component_locator:encodeURIComponent(this.component_locator),html5_list:u,grouped_list:l,subs_id:r?r.subs:""})),this.fileUploader.render(),this):(console.error("Couldn't load Transcripts status template"),this)},showError:function(t,e){var n=this.$el.find(".transcripts-error-message");t&&(this.hideError(),i.setHtml(n,s(t)).removeClass(this.invisibleClass),e&&this.$el.find(".wrapper-transcripts-buttons").addClass(this.invisibleClass))},hideError:function(){this.$el.find(".transcripts-error-message").addClass(this.invisibleClass),this.$el.find(".wrapper-transcripts-buttons").removeClass(this.invisibleClass)},importHandler:function(t){t.preventDefault(),this.processCommand("replace",s("Error: Import failed."))},replaceHandler:function(t){t.preventDefault(),this.processCommand("replace",s("Error: Replacing failed."))},chooseHandler:function(e){e.preventDefault();var n=t(e.currentTarget).data("video-id");this.processCommand("choose",s("Error: Choosing failed."),n)},useExistingHandler:function(t){t.preventDefault(),this.processCommand("rename",s("Error: Choosing failed."))},processCommand:function(t,n,i){var o,s=this,a=this.component_locator,l=this.options.parent.getVideoObjectsList();return i&&(o={html5_id:i}),r.command(t,a,l,o).done(function(t){var n=t.edx_video_id;s.render("found",t),e.trigger("transcripts:basicTabUpdateEdxVideoId",n)}).fail(function(t){var e=t.status||n;s.showError(e)})}})}.apply(e,r))&&(t.exports=o)}).call(e,n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"))},"./cms/static/js/views/video/transcripts/metadata_videolist.js":function(t,e,n){var i,r;i=[n(0),n(2),n(1),n("./cms/static/js/views/abstract_editor.js"),n("./cms/static/js/views/video/transcripts/utils.js"),n("./cms/static/js/views/video/transcripts/message_manager.js")],void 0!==(r=function(t,e,n,i,r,o){"use strict";return i.extend({inputDelay:300,events:{"click .setting-clear":"clear","keypress .setting-input":"showClearButton","click .collapse-setting":"toggleExtraVideosBar"},templateName:"metadata-videolist-entry",placeholders:{webm:".webm",mp4:"http://somesite.com/video.mp4",youtube:"http://youtube.com/"},initialize:function(t){this.options=n.extend({},t);var e=this.options.MessageManager||o;this.messenger=new e({el:this.$el,parent:this}),i.prototype.initialize.apply(this,arguments),this.$el.on("input",".videolist-settings-item input",n.debounce(n.bind(this.inputHandler,this),this.inputDelay)),this.component_locator=this.$el.closest("[data-locator]").data("locator")},render:function(){i.prototype.render.apply(this,arguments),this.$extraVideosBar=this.$el.find(".videolist-extra-videos"),e.trigger("transcripts:basicTabFieldChanged")},updateOnCheckTranscriptSuccess:function(t,e){var n=e,i=t.length,r=1===i&&t[0].mode;i>1||"html5"===r?this.openExtraVideosBar():this.closeExtraVideosBar(),this.messenger.render(e.command,n),this.checkIsUniqVideoTypes()},showServerError:function(t){var e=gettext("Error: Connection with server failed.");void 0!==t.responseJSON&&(e=t.responseJSON.status),this.messenger.render("not_found").showError(e,!0)},getValueFromEditor:function(){return n.map(this.$el.find(".input"),function(t){return t.value.trim()}).filter(n.identity)},getVideoObjectsList:function(){var t=this.getValueFromEditor();return r.getVideoList(t)},setValueInEditor:function(e){var i=this.$el.find(".input"),r=e.filter(n.identity),o=this.getPlaceholders(r);i.each(function(e){t(this).val(r[e]||null).attr("placeholder",o[e])})},getPlaceholders:function(e){var i=r.parseLink,o=n.clone(this.placeholders);return n.map(this.$el.find(".input"),function(r,s){var a,l=i(e[s]),u=l?l.type:null;return o[u]?(a=o[u],delete o[u]):(t.isArray(o)||(o=n.values(o)),a=o.pop()),a})},openExtraVideosBar:function(t){t&&t.preventDefault&&t.preventDefault(),this.$extraVideosBar.addClass("is-visible")},closeExtraVideosBar:function(t){t&&t.preventDefault&&t.preventDefault(),this.$extraVideosBar.removeClass("is-visible")},toggleExtraVideosBar:function(t){t&&t.preventDefault&&t.preventDefault(),this.$extraVideosBar.hasClass("is-visible")?this.closeExtraVideosBar.apply(this,arguments):this.openExtraVideosBar.apply(this,arguments)},inputHandler:function(e){e&&e.preventDefault&&e.preventDefault();var i=t(e.currentTarget),o=this.$el.find(".input"),s=i.val(),a=r.parseLink(s),l=Boolean(s);if(this.checkValidity(a,l)){var u=this.getValueFromEditor(),c=this.model.getValue();c&&(c=c.filter(n.identity)),n.isEqual(u,c)?this.messenger.hideError():this.updateModel(),o.prop("disabled",!1).attr("aria-disabled",!1).removeClass("is-disabled")}else o.not(i).prop("disabled",!0).attr("aria-disabled",!0).addClass("is-disabled"),i.hasClass("videolist-url")&&this.closeExtraVideosBar()},isUniqVideoTypes:function(t){var e=n.pluck(t,"type").filter(function(t){return"other"!==t}),i=n.uniq(e);return e.length===i.length},isUniqOtherVideos:function(t){var e=t.filter(function(t){return"other"===t.type}),i=n.pluck(e,"video"),r=n.uniq(i);return i.length===r.length},checkIsValid:function(t,e,n){var i=e||this.getVideoObjectsList(),r=!0;return t(i)||(this.messenger.showError(n,!0),r=!1),r},checkIsUniqVideoTypes:function(t){return this.checkIsValid(this.isUniqVideoTypes,t,gettext("Link types should be unique."))},checkIsUniqOtherVideos:function(t){return this.checkIsValid(this.isUniqOtherVideos,t,gettext("Links should be unique."))},checkValidity:function(t,e){var n=this.getVideoObjectsList(),i=this.checkIsUniqVideoTypes.bind(this),r=this.checkIsUniqOtherVideos.bind(this);return!(!i(n)||!r(n))&&("incorrect"!==t.mode||!e||(this.messenger.showError(gettext("Incorrect url format."),!0),!1))}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/video/transcripts/utils.js":function(t,e,n){var i,r;i=[n(0),n(1),n("./common/static/js/vendor/jquery.ajaxQueue.js")],void 0!==(r=function(t){"use strict";return function(){var e={};e.set=function(t,n){return e[t]=n,this},e.get=function(t){return e[t]},e.remove=function(t){return delete e[t]};var n=function(t,e){var n;return t&&e&&(n=t.findWhere({field_name:e})),n},i=function(){var t={},e=/(?:http|https|)(?:\:\/\/|)(?:www.|)(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w\-]+)/i;return function(n){if("string"==typeof n){if(t[n])return t[n];var i=n.match(e);return t[n]=i?i[1]:void 0,t[n]}}}(),r=function(){var t={};return function(e){if("string"==typeof e){if(t[e])return t[e];var n,i=document.createElement("a");return i.href=e,n=i.pathname.match(/\/{1}([^\/]+)\.([^\/]+)$/),n?t[e]={video:n[1],type:n[2]}:(n=i.pathname.match(/\/{1}([^\/\.]+)$/))&&(t[e]={video:n[1],type:"other"}),t[e]}}}(),o=function(e){if("string"==typeof e)return i(e)?11===i(e).length?{mode:"youtube",video:i(e),type:"youtube"}:{mode:"incorrect"}:r(e)?t.extend({mode:"html5"},r(e)):{mode:"incorrect"}},s=function(t){return"http://youtu.be/"+t},a=function(e){if(t.isArray(e)){for(var n,i=[],r=0,s=e.length;r<s;r+=1)n=o(e[r]),"incorrect"!==n.mode&&i.push(n);return i}},l=function(t,e){t.each(function(t){var n=e.findWhere({field_name:t.getFieldName()});n&&n.setValue(t.getDisplayValue())})},u=function(){var e=null;return function(n,i,r,o){var s,a;return o&&(s=t.isPlainObject(o)?o:{params:o}),a=t.extend({locator:i},{videos:r},s),e=t.ajaxQueue({url:"/transcripts/"+n,data:{data:JSON.stringify(a)},notifyOnError:!1,type:"get"})}}();return{getField:n,parseYoutubeLink:i,parseHTML5Link:r,parseLink:o,getYoutubeLink:s,syncCollections:l,command:u,getVideoList:a,Storage:{set:e.set,get:e.get,remove:e.remove}}}()}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/video/translations_editor.js":function(t,e,n){var i,r;i=[n(0),n(1),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"),n("./cms/static/js/views/video/transcripts/utils.js"),n("./cms/static/js/views/abstract_editor.js"),n("./common/static/common/js/components/utils/view_utils.js"),n("./cms/static/js/models/uploads.js"),n("./cms/static/js/views/uploads.js")],void 0!==(r=function(t,e,n,i,r,o,s,a){"use strict";var l=a.extend({error:function(){this.model.set({uploading:!1,uploadedBytes:0,title:gettext("Sorry, there was an error parsing the subtitles that you uploaded. Please check the format and try again.")})}});return r.extend({events:{"click .create-setting":"addEntry","click .remove-setting":"removeEntry","click .upload-setting":"upload","change select":"onChangeHandler"},templateName:"metadata-translations-entry",templateItemName:"metadata-translations-item",validFileFormats:["srt"],initialize:function(){var t=e.result(this,"templateItemName"),n=document.getElementById(t).text,o={};n||console.error("Couldn't load template for item: "+t),this.templateItem=e.template(n),e.each(this.model.getDisplayValue(),function(t,e){o[e]=e}),i.Storage.set("languageMap",o),r.prototype.initialize.apply(this,arguments)},getDropdown:function(){var n,i=function(n,i){var r=t(n).clone();return e.each(i,function(t,e){""===e&&(e=null);var n=r[0].options.namedItem(e);n&&(n.disabled=!0)}),r};return function(t){return n?i(n,t):(n=document.createElement("select"),n.options.add(new Option),e.each(this.model.get("languages"),function(t,e){var i=new Option;i.setAttribute("name",t.code),i.value=t.code,i.text=t.label,n.options.add(i)}),i(n,t))}}(),getValueFromEditor:function(){var n={},i=this.$el.find("ol").find(".list-settings-item");return e.each(i,function(e,i){var r=t(e).find("select option:selected").val(),o=t(e).find(".input").val();if(""===o&&(""===r||r in n))return!1;n[r]=o}),n},setValueInEditor:function(r){var o=this,s=document.createDocumentFragment(),a=o.getDropdown(r),l=i.Storage.get("languageMap");e.each(r,function(i,r){var u=t(o.templateItem({newLang:r,originalLang:e.findKey(l,function(t){return t===r})||"",value:i,url:o.model.get("urlRoot")}));n.prepend(u,n.HTML(a.clone().val(r))),s.appendChild(u[0])}),n.setHtml(this.$el.find("ol"),n.HTML([s]))},addEntry:function(t){t.preventDefault(),this.setValueInEditor(this.getAllLanguageDropdownElementsData(!0)),this.$el.find(".create-setting").addClass("is-disabled").attr("aria-disabled",!0)},removeEntry:function(n){var r=this,s=t(n.currentTarget).parent(),a=s.data("original-lang"),l=s.find("select option:selected").val(),u=i.Storage.get("languageMap"),c=i.getField(r.model.collection,"edx_video_id");n.preventDefault(),a?o.confirmThenRunOperation(gettext("Are you sure you want to remove this transcript?"),gettext("If you remove this transcript, the transcript will not be available for this component."),gettext("Remove Transcript"),function(){o.runOperationShowingMessage(gettext("Removing"),function(){return t.ajax({url:r.model.get("urlRoot"),type:"DELETE",data:JSON.stringify({lang:a,edx_video_id:c.getValue()})}).done(function(){r.setValueInEditor(r.getAllLanguageDropdownElementsData(!1,l)),i.Storage.set("languageMap",e.omit(u,a))})})}):this.setValueInEditor(this.getAllLanguageDropdownElementsData(!1,l)),this.$el.find(".create-setting").removeClass("is-disabled").attr("aria-disabled",!1)},upload:function(n){var r,o,a,u=this,c=t(n.currentTarget),d=c.parents("li.list-settings-item"),f=d.data("original-lang"),h=d.find(":selected").val(),p=i.getField(u.model.collection,"edx_video_id");n.preventDefault(),f||(f=h),o={edx_video_id:p.getValue(),language_code:f,new_language_code:h},r=new s({title:gettext("Upload translation"),fileFormats:this.validFileFormats}),a=new l({model:r,url:this.model.get("urlRoot"),parentElement:c.closest(".xblock-editor"),uploadData:o,onSuccess:function(t){var n=i.Storage.get("languageMap"),r={};r[h]=h,p.setValue(t.edx_video_id),n=e.extend(e.omit(n,f),r),i.Storage.set("languageMap",n),u.setValueInEditor(u.getAllLanguageDropdownElementsData())}}),a.show()},enableAdd:function(){this.$el.find(".create-setting").removeClass("is-disabled").attr("aria-disabled",!1)},onChangeHandler:function(e){var n=t(e.currentTarget),r=n.parents("li.list-settings-item"),o=r.data("original-lang"),s=r.find("select option:selected").val(),a=i.Storage.get("languageMap");if(o in a)return a[o]=s,void i.Storage.set("languageMap",a);this.enableAdd(),this.setValueInEditor(this.getAllLanguageDropdownElementsData())},getAllLanguageDropdownElementsData:function(n,r){var o={},s=this.$el.find("select"),a=i.Storage.get("languageMap");return e.each(s,function(n){var i=t(n).find(":selected").val();o[i]=e.findKey(a,function(t){return t===i})||""}),n&&(o[""]=""),void 0!==r&&(o=e.omit(o,r)),o}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/xblock.js":function(t,e,n){var i,r;i=[n(0),n(1),n("./common/static/common/js/components/utils/view_utils.js"),n("./cms/static/js/views/baseview.js"),n("./common/static/common/js/xblock/runtime.v1.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(r=function(t,e,n,i,r,o){"use strict";return i.extend({events:{"click .notification-action-button":"fireNotificationActionEvent"},initialize:function(){i.prototype.initialize.call(this),this.view=this.options.view},render:function(e){var n=this,i=this.view,r=this.model,o=r.url();return t.ajax({url:decodeURIComponent(o)+"/"+i,type:"GET",cache:!1,headers:{Accept:"application/json"},success:function(t){n.handleXBlockFragment(t,e)}})},initRuntimeData:function(t,e){return e&&e.initRuntimeData&&t&&t.runtime&&!t.runtime.page&&(t.runtime.page=e.initRuntimeData),t},handleXBlockFragment:function(e,n){var i,o,s,a,l=this,u=this.$el,c=n?n.success||n.done:null,d=n?n.error||n.done:null;s=this.renderXBlockFragment(e,u),s.always(function(){i=l.$(".xblock").first();try{o=r.initializeBlock(i),l.xblock=l.initRuntimeData(o,n),l.xblockReady(l.xblock),l.$(".xblock_asides-v1").each(function(){t(this).hasClass("xblock-initialized")||(a=r.initializeBlock(t(this)),l.initRuntimeData(a,n))}),c&&c(o)}catch(t){console.error(t,t.stack),l.$(".xblock").addClass("xblock-initialization-failed"),i&&l.xblockReady(null),d&&d()}})},notifyRuntime:function(e,n){var i,r=this.xblock&&this.xblock.runtime;r?r.notify(e,n):this.xblock&&(i=this.xblock.element&&t(this.xblock.element).prop("xblock_children"))&&t(i).each(function(){this.runtime&&this.runtime.notify(e,n)})},xblockReady:function(t){},renderXBlockFragment:function(e,n){var i=e.html,r=e.resources,o=this;n||(n=this.$el);try{return this.addXBlockFragmentResources(r).done(function(){console.log("Updating HTML");try{o.updateHtml(n,i)}catch(t){console.error(t,t.stack)}})}catch(e){return console.error(e,e.stack),t.Deferred().resolve()}},updateHtml:function(t,e){o.setHtml(t,o.HTML(e))},addXBlockFragmentResources:function(n){var i,r,o,s=this;return r=n.length,o=t.Deferred(),i=function(t){var a,l,u,c;if(t>=r)return void o.resolve();u=n[t],a=u[0],window.loadedXBlockResources||(window.loadedXBlockResources=[]),e.indexOf(window.loadedXBlockResources,a)<0?(l=u[1],c=s.loadResource(l),window.loadedXBlockResources.push(a),c.done(function(){i(t+1)}).fail(function(){o.reject()})):i(t+1)},i(0),o.promise()},loadResource:function(e){var i=t("head"),r=e.mimetype,s=e.kind,a=e.placement,l=e.data;if("text/css"===r)"text"===s?i.append('<style type="text/css">'+l+"</style>"):"url"===s&&i.append('<link rel="stylesheet" href="'+l+'" type="text/css">');else if("application/javascript"===r){if("text"===s)i.append("<script>"+l+"<\/script>");else if("url"===s)return n.loadJavaScript(l)}else"text/html"===r&&"head"===a&&o.append(i,o.HTML(l));return t.Deferred().resolve().promise()},fireNotificationActionEvent:function(e){var n=t(e.currentTarget).data("notification-action");n&&(e.preventDefault(),this.notifyRuntime(n,this.model.get("id")))}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/xblock_access_editor.js":function(t,e,n){var i,r;i=[n("./cms/static/js/views/baseview.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(r=function(t,e){"use strict";return t.extend({initialize:function(){t.prototype.initialize.call(this),this.template=this.loadTemplate("xblock-access-editor")},render:function(){return e.append(this.$el,e.HTML(this.template({}))),this}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/xblock_editor.js":function(t,e,n){var i,r;i=[n(0),n(1),n(3),n("./cms/static/js/views/baseview.js"),n("./cms/static/js/views/xblock.js"),n("./cms/static/js/views/metadata.js"),n("./cms/static/js/collections/metadata.js"),n("./common/static/js/vendor/html5-input-polyfills/number-polyfill.js")],void 0!==(r=function(t,e,n,i,r,o,s){return r.extend({options:t.extend({},r.prototype.options,{view:"studio_view"}),initialize:function(){r.prototype.initialize.call(this),this.view=this.options.view},xblockReady:function(t){r.prototype.xblockReady.call(this,t),this.initializeEditors()},initializeEditors:function(){var t,e,n="editor";t=this.createMetadataEditor(),this.metadataEditor=t,this.hasCustomTabs()||(this.getDataEditor()?n="editor":t&&(n="settings"),this.selectMode(n)),e=this.$(".wrapper-comp-plugins"),e.length>0&&(this.pluginEditor=new i({el:e}))},getDefaultModes:function(){return[{id:"editor",name:n("Editor")},{id:"settings",name:n("Settings")}]},hasCustomTabs:function(){return this.$(".editor-with-tabs").length>0},hasCustomButtons:function(){return this.$(".editor-with-buttons").length>0},createMetadataEditor:function(){var t,e,n,i=[],r=this.xblock,a=null;if(t=this.$(".metadata_edit"),1===t.length){e=t.data("metadata");for(n in e)e.hasOwnProperty(n)&&i.push(e[n]);a=new o.Editor({el:t,collection:new s(i)}),r.setMetadataEditor&&r.setMetadataEditor(a)}return a},getDataEditor:function(){var t=this.$(".wrapper-comp-editor");return 1===t.length?t:null},getMetadataEditor:function(){return this.metadataEditor},getPluginEditor:function(){return this.pluginEditor},getXBlockFieldData:function(){var t=this.xblock,n=this.getMetadataEditor(),i=null;return t.collectFieldData?i=t.collectFieldData():t.save?(i=t.save(),n&&(i.metadata=e.extend(i.metadata||{},this.getChangedMetadata()))):console.error("Cannot save xblock as it has no save method"),i},getChangedMetadata:function(){var t=this.getMetadataEditor();return e.extend(t.getModifiedMetadataValues(),this.getCustomMetadata())},getCustomMetadata:function(){var e,n,i,r,o;for(e={},n=this.$("[data-metadata-name]"),i=0;i<n.length;i++)r=n[i],o=t(r).data("metadata-name"),e[o]=r.value;return e},getMode:function(){return this.mode},selectMode:function(t){var e=this.getDataEditor(),n=this.getMetadataEditor(),i=this.getPluginEditor();e&&this.setEditorActivation(e,"editor"===t),n&&this.setEditorActivation(n.$el,"settings"===t),i&&this.setEditorActivation(i.$el,"plugins"===t),this.mode=t},setEditorActivation:function(t,e){t.removeClass("is-active").removeClass("is-inactive"),t.addClass(e?"is-active":"is-inactive")}})}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/xblock_outline.js":function(t,e,n){var i,r;i=[n(0),n(1),n(3),n("./cms/static/js/views/baseview.js"),n("./common/static/common/js/components/utils/view_utils.js"),n("./cms/static/js/views/utils/xblock_utils.js"),n("./cms/static/js/views/xblock_string_field_editor.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/string-utils.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(r=function(t,e,n,i,r,o,s,a,l){"use strict";var u=i.extend({options:{collapsedClass:"is-collapsed"},templateName:"xblock-outline",initialize:function(){i.prototype.initialize.call(this),this.initialState=this.options.initialState,this.expandedLocators=this.options.expandedLocators,this.template=this.options.template,this.template||(this.template=this.loadTemplate(this.templateName)),this.parentInfo=this.options.parentInfo,this.parentView=this.options.parentView,this.renderedChildren=!1,this.model.on("sync",this.onSync,this)},render:function(){if(this.renderTemplate(),this.addButtonActions(this.$el),this.addNameEditor(),null!==this.model.get("is_header_visible")&&!this.model.get("is_header_visible")){var t=this.model.get("id");e.isUndefined(this.expandedLocators)||this.expandedLocators.contains(t)||(this.expandedLocators.add(t),this.refresh())}return this.shouldRenderChildren()&&this.shouldExpandChildren()?this.renderChildren():this.renderedChildren=!1,this},renderTemplate:function(){var e=this.template(this.getTemplateContext());this.parentInfo?this.setElement(t(e)):l.setHtml(this.$el,l.HTML(e))},getTemplateContext:function(){var t=this.model,e=t.get("child_info"),i=this.parentInfo,r=o.getXBlockType(this.model.get("category"),this.parentInfo),s=o.getXBlockType(this.model.get("category"),this.parentInfo,!0),l=i?o.getXBlockType(i.get("category")):null,u=null,c=null,d=this.shouldRenderChildren()&&!this.shouldExpandChildren();return e&&(u=a.interpolate(n("New {component_type}"),{component_type:e.display_name},!0),c=e.display_name),{xblockInfo:t,visibilityClass:o.getXBlockVisibilityClass(t.get("visibility_state")),typeListClass:o.getXBlockListTypeClass(r),parentInfo:this.parentInfo,xblockType:r,xblockTypeDisplayName:s,parentType:l,childType:e?o.getXBlockType(e.category,t):null,childCategory:e?e.category:null,addChildLabel:u,defaultNewChildName:c,isCollapsed:d,includesChildren:this.shouldRenderChildren(),hasExplicitStaffLock:this.model.get("has_explicit_staff_lock"),staffOnlyMessage:this.model.get("staff_only_message"),course:course}},renderChildren:function(){var t=this,n=this.model;n.get("child_info")&&e.each(this.model.get("child_info").children,function(e){var i=t.createChildView(e,n);i.render(),t.addChildView(i)}),this.renderedChildren=!0},getListElement:function(){return this.$("> .outline-content > ol")},addChildView:function(t,e){e?t.$el.insertAfter(e):this.getListElement().append(t.$el)},addNameEditor:function(){var t,e,n=this,i=this.$(".wrapper-xblock-field");i.length>0&&(t=s.extend({refresh:function(){n.refresh()}}),e=new t({el:i,model:this.model}),e.render())},toggleExpandCollapse:function(t){if(this.expandedLocators){var e=this.model.get("id");this.expandedLocators.contains(e)?this.expandedLocators.remove(e):this.expandedLocators.add(e)}this.ensureChildrenRendered(),i.prototype.toggleExpandCollapse.call(this,t)},ensureChildrenRendered:function(){!this.renderedChildren&&this.shouldRenderChildren()&&this.renderChildren()},addButtonActions:function(t){t.find(".delete-button").click(e.bind(this.handleDeleteEvent,this)),t.find(".duplicate-button").click(e.bind(this.handleDuplicateEvent,this)),t.find(".button-new").click(e.bind(this.handleAddEvent,this))},shouldRenderChildren:function(){return!0},shouldExpandChildren:function(){return!0},getChildViewClass:function(){return u},createChildView:function(t,n,i){return new(this.getChildViewClass())(e.extend({model:t,parentInfo:n,parentView:this,initialState:this.initialState,expandedLocators:this.expandedLocators,template:this.template},i))},onSync:function(t){r.hasChangedAttributes(this.model,["visibility_state","child_info","display_name","highlights"])&&this.onXBlockChange()},onXBlockChange:function(){var t=this.$el,e=this.initialState;this.render(),this.parentInfo&&t.replaceWith(this.$el),e&&this.setViewState(e)},setViewState:function(t){var e,n=t.locator_to_show,i=t.scroll_offset||0,o=t.edit_display_name;n&&(e=n===this.model.id?this.$el:this.$('.outline-item[data-locator="'+n+'"]'),e.length>0?r.setScrollOffset(e,i):console.error("Failed to show item with locator "+n),o&&e.find('> div[class$="header"] .xblock-field-value-edit').click()),this.initialState=null},refresh:function(){return this.model.fetch()},onChildAdded:function(t,e){"vertical"===e?this.onUnitAdded(t):this.refresh()},onUnitAdded:function(t){r.redirect("/container/"+t+"?action=new")},onChildDeleted:function(){this.refresh()},handleDeleteEvent:function(t){var e=this,n=this.parentView,i=o.getXBlockType(this.model.get("category"),n.model,!0);t.preventDefault(),o.deleteXBlock(this.model,i).done(function(){n&&n.onChildDeleted(e,t)})},getParentElement:function(t,e){var n={unit:"subsection",subsection:"section",section:"course"},i=n[e];return t.closest(".outline-"+i)},handleDuplicateEvent:function(e){var n=this,i=o.getXBlockType(n.model.get("category"),n.parentView.model),r=t(e.currentTarget).closest(".outline-item"),s=n.getParentElement(r,i);e.preventDefault(),o.duplicateXBlock(r,s).done(function(t){n.parentView&&n.parentView.onChildDuplicated(t.locator,i,r)})},handleAddEvent:function(e){var n=this,i=t(e.currentTarget),r=i.data("category");e.preventDefault(),o.addXBlock(i).done(function(t){n.onChildAdded(t,r,e)})}});return u}.apply(e,i))&&(t.exports=r)},"./cms/static/js/views/xblock_string_field_editor.js":function(t,e,n){var i,r;i=[n("./cms/static/js/views/baseview.js"),n("./cms/static/js/views/utils/xblock_utils.js"),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(r=function(t,e,n){"use strict";return t.extend({events:{"click .xblock-field-value-edit":"showInput","click button[name=submit]":"onClickSubmit","click button[name=cancel]":"onClickCancel","click .xblock-string-field-editor":"onClickEditor","change .xblock-field-input":"updateField","focusout .xblock-field-input":"onInputFocusLost","keyup .xblock-field-input":"handleKeyUp"},initialize:function(){t.prototype.initialize.call(this),this.fieldName=this.$el.data("field"),this.fieldDisplayName=this.$el.data("field-display-name"),this.template=this.loadTemplate("xblock-string-field-editor"),this.model.on("change:"+this.fieldName,this.onChangeField,this)},render:function(){var t={value:this.model.escape(this.fieldName),fieldName:this.fieldName,fieldDisplayName:this.fieldDisplayName};return this.$el.append(n.HTML(this.template(t)).toString()),this},getLabel:function(){return this.$(".xblock-field-value")},getInput:function(){return this.$(".xblock-field-input")},onInputFocusLost:function(){this.model.get(this.fieldName)===this.getInput().val()&&this.hideInput()},onClickSubmit:function(t){t.preventDefault(),t.stopPropagation(),this.updateField()},onClickCancel:function(t){t.preventDefault(),t.stopPropagation(),this.cancelInput()},onClickEditor:function(t){t.stopPropagation()},onChangeField:function(){var t=this.model.get(this.fieldName);this.getLabel().text(t),this.getInput().val(t),this.hideInput()},showInput:function(t){var e=this.getInput();t.preventDefault(),t.stopPropagation(),this.$el.addClass("is-editing"),e.focus().select()},hideInput:function(){this.$el.removeClass("is-editing")},cancelInput:function(){this.getInput().val(this.model.get(this.fieldName)),this.hideInput()},refresh:function(){this.model.fetch()},updateField:function(){var t=this,n=this.model,i=this.getInput().val().trim(),r=n.get(this.fieldName);return""===i||i===r?void this.cancelInput():e.updateXBlockField(n,this.fieldName,i).done(function(){t.refresh()})},handleKeyUp:function(t){27===t.keyCode&&this.cancelInput()}})}.apply(e,i))&&(t.exports=r)},"./cms/templates/js/license-selector.underscore":function(t,e){t.exports='<div class="wrapper-license">\n    <h3 class="label setting-label">\n        <%- gettext("License Type") %>\n    </h3>\n    <ul class="license-types">\n        <% var link_start_tpl = \'<a href="{url}" rel="noopener" target="_blank">\'; %>\n        <% _.each(licenseInfo, function(license, licenseType) { %>\n            <li class="license-type" data-license="<%- licenseType %>">\n                <button name="license-<%- licenseType %>"\n                        class="action license-button <% if(model.type === licenseType) { print("is-selected"); } %>"\n                        aria-pressed="<%- (model.type === licenseType).toString() %>"\n                        <% if (license.tooltip) { %>data-tooltip="<%- license.tooltip %>"<% } %>>\n                    <%- license.name %>\n                </button>\n                <p class="tip">\n                    <% if(license.url) { %>\n                        <a href="<%- license.url %>" rel="noopener" target="_blank">\n                            <%- gettext("Learn more about {license_name}")\n                                        .replace("{license_name}", license.name)\n                            %>\n                        </a>\n                    <% } else { %>\n                        &nbsp;\n                    <% } %>\n                </p>\n            </li>\n        <% }) %>\n    </ul>\n\n<% var license = licenseInfo[model.type]; %>\n<% if(license && !_.isEmpty(license.options)) { %>\n    <div class="wrapper-license-options">\n        <h4 class="label setting-label">\n            <%- gettext("Options for {license_name}").replace("{license_name}", license.name) %>\n        </h4>\n        <p class=\'tip tip-inline\'>\n            <%- gettext("The following options are available for the {license_name} license.")\n                        .replace("{license_name}", license.name) %>\n        </p>\n        <ul class="license-options">\n            <% _.each(license.option_order, function(optionKey) { %>\n                <% var optionInfo = license.options[optionKey]; %>\n                <% if (optionInfo.type == "boolean") { %>\n                    <% var optionSelected = model.options[optionKey]; %>\n                    <% var optionDisabled = optionInfo.disabled %>\n                    <li data-option="<%- optionKey %>"\n                        class="action-item license-option\n                               <% if (optionSelected) { print("is-selected"); } %>\n                               <% if (optionDisabled) { print("is-disabled"); } else { print("is-clickable"); } %>"\n                    >\n                        <input type="checkbox"\n                               id="<%- model.type %>-<%- optionKey %>"\n                               name="<%- model.type %>-<%- optionKey %>"\n                               aria-describedby="<%- optionKey %>-explanation"\n                               <% if(optionSelected) { print(\'checked="checked"\'); } %>\n                               <% if(optionDisabled) { print(\'disabled="disabled"\'); } %>\n                        />\n                        <label for="<%- model.type %>-<%- optionKey %>" class="option-name">\n                            <%- optionInfo.name %>\n                        </label>\n                        <div id="<%- optionKey %>-explanation" class="explanation">\n                            <%- optionInfo.help %>\n                        </div>\n                    </li>\n                <% } // could implement other types here %>\n            <% }) %>\n        </ul>\n    </div>\n<% } %>\n\n<% if (showPreview) { %>\n    <div class="wrapper-license-preview">\n        <h4 class="label setting-label">\n            <%- gettext("License Display") %>\n        </h4>\n        <p class="tip">\n            <%- gettext("The following message will be displayed at the bottom of the courseware pages within your course:") %>\n        </p>\n        <div class="license-preview">\n        <% // keep this synchronized with the contents of common/templates/license.html %>\n        <% if (model.type === "all-rights-reserved") { %>\n            © <span class="license-text"><%- gettext("All Rights Reserved") %></span>\n        <% } else if (model.type === "creative-commons") {\n             var possible = ["by", "nc", "nd", "sa"];\n             var enabled = _.filter(possible, function(option) {\n                 return model.options[option] === true || model.options[option.toUpperCase()] === true;\n             });\n             var version = model.options.ver || "4.0";\n             if (_.isEmpty(enabled)) {\n                    enabled = ["zero"];\n                    version = model.options.ver || "1.0";\n             }\n        %>\n            <a rel="license" href="https://creativecommons.org/licenses/<%- enabled.join("-") %>/<%- version %>/">\n            <% if (previewButton) { %>\n                <img src="https://licensebuttons.net/l/<%- enabled.join("-") %>/<%- version %>/<%- typeof buttonSize == "string" ? buttonSize : "88x31" %>.png"\n                    alt="<%- typeof licenseString == "string" ? licenseString : "" %>"\n                    />\n            <% } else { %>\n\t        <% //<span> must come before <i> icon or else spacing gets messed up %>\n                <span class="sr"><%- gettext("Creative Commons licensed content, with terms as follow:") %>&nbsp;</span><span aria-hidden="true" class="icon-cc"></span>\n                <% _.each(enabled, function(option) { %>\n                        <span class="sr"><%- license.options[option.toUpperCase()].name %>&nbsp;</span><span aria-hidden="true" class="icon-cc-<%- option %>"></span>\n                <% }); %>\n                <span class="license-text"><%- gettext("Some Rights Reserved") %></span>\n            <% } %>\n        <% } else { %>\n            <%- typeof licenseString == "string" ? licenseString : "" %>\n            <% // Default to ARR license %>\n            © <span class="license-text"><%- gettext("All Rights Reserved") %></span>\n        <% } %>\n        </a>\n    </div>\n<% } %>\n</div>\n'},"./cms/templates/js/move-xblock-breadcrumb.underscore":function(t,e){t.exports='<nav class="breadcrumbs" aria-label="Course Outline breadcrumb">\n    <% _.each(breadcrumbs.slice(0, -1), function (breadcrumb, index, items) { %>\n        <ol class="bc-container bc-<%- index %>">\n            <li class="bc-container-content">\n                <button class="parent-nav-button" data-parent-index="<%- index %>">\n                    <%- breadcrumb %>\n                </button>\n                <span class="fa fa-angle-right breadcrumb-fa-icon" aria-hidden="true"></span>\n            </li>\n        </ol>\n    <% }) %>\n    <ol class="bc-container bc-<%- breadcrumbs.length - 1 %> last">\n        <li class="bc-container-content">\n            <span class="parent-displayname"><%- breadcrumbs[breadcrumbs.length - 1] %></span>\n        </li>\n    </ol>\n</nav>\n'},"./cms/templates/js/move-xblock-list.underscore":function(t,e){t.exports='<div class="xblock-items-category">\n    <span class="sr">\n        <%\n        // Translators: message will be like `Units in Homework - Question Styles`, `Subsections in Example 1 - Getting started` etc.\n        %>\n        <%- StringUtils.interpolate(\n                gettext("{categoryText} in {parentDisplayname}"),\n                {categoryText: categoryText, parentDisplayname: parentDisplayname}\n            )\n        %>\n    </span>\n    <span class="category-text" aria-hidden="true">\n        <%- categoryText %>:\n    </span>\n</div>\n<ul class="xblock-items-container" data-items-category="<%- XBlocksCategory %>">\n    <% for (var i = 0; i < xblocks.length; i++) {\n        var xblock = xblocks[i];\n    %>\n        <li class="xblock-item" data-item-index="<%- i %>">\n            <% if (sourceXBlockId !== xblock.id && (xblock.get(\'child_info\') || XBlocksCategory !== \'component\')) { %>\n                <button class="button-forward" >\n                    <span class="xblock-displayname truncate">\n                        <%- xblock.get(\'display_name\') %>\n                    </span>\n                    <% if(currentLocationIndex === i) { %>\n                        <span class="current-location">\n                            (<%- gettext(\'Current location\') %>)\n                        </span>\n                    <% } %>\n                    <span class="icon fa fa-arrow-right forward-sr-icon" aria-hidden="true"></span>\n                    <span class="sr forward-sr-text"><%- gettext("View child items") %></span>\n                </button>\n            <% } else { %>\n                <span class="component">\n                    <span class="xblock-displayname truncate">\n                        <%- xblock.get(\'display_name\') %>\n                    </span>\n                    <% if(currentLocationIndex === i) { %>\n                        <span class="current-location">\n                            (<%- gettext(\'Currently selected\') %>)\n                        </span>\n                    <% } %>\n                </span>\n            <% } %>\n        </li>\n    <% } %>\n    <% if(xblocks.length === 0) { %>\n        <span class="xblock-no-child-message">\n            <%- noChildText %>\n        </span>\n    <% } %>\n</ul>\n'},"./cms/templates/js/move-xblock-modal.underscore":function(t,e){t.exports='<div class="ui-loading">\n    <p>\n        <span class="spin">\n            <span class="icon fa fa-refresh" aria-hidden="true"></span>\n        </span>\n        <span class="copy"><%- gettext(\'Loading\') %></span>\n    </p>\n</div>\n<div class=\'breadcrumb-container is-hidden\'></div>\n<div class=\'xblock-list-container\'></div>\n'},"./cms/templates/js/paging-header.underscore":function(t,e){t.exports='<div class="meta-wrap">\n    <div class="meta">\n        <p><%= HtmlUtils.ensureHtml(messageHtml) %></p>\n    </div>\n    <nav class="pagination pagination-compact top" aria-label="Compact Pagination">\n        <ol>\n            <li class="nav-item previous"><a class="nav-link previous-page-link" href="#"><span class="icon fa fa-angle-left" aria-hidden="true"></span> <span class="nav-label"><%- gettext("Previous") %></span></a></li>\n            <li class="nav-item next"><a class="nav-link next-page-link" href="#"><span class="nav-label"><%- gettext("Next") %></span> <span class="icon fa fa-angle-right" aria-hidden="true"></span></a></li>\n        </ol>\n    </nav>\n</div>\n'},"./common/static/common/js/components/utils/view_utils.js":function(t,e,n){"use strict";var i,r;i=[n(0),n(1),n(3),n("./common/static/common/js/components/views/feedback_notification.js"),n("./common/static/common/js/components/views/feedback_prompt.js"),n("./node_modules/scriptjs/dist/script.js")],void 0!==(r=function(t,e,n,i,r,o){var s,a,l,u,c,d,f,h,p,m,g,v,b,y,w,x,_,k,C,T;return s=function(t,e){var n=e||"collapsed";t.closest(".expand-collapse").toggleClass("expand collapse"),t.closest(".is-collapsible, .window").toggleClass(n),t.closest(".is-collapsible").children("article").slideToggle()},a=function(){t(".ui-loading").show()},l=function(){t(".ui-loading").hide()},u=function(t,e,i,o,s){return new r.Warning({title:t,message:e,actions:{primary:{text:i,click:function(t){t.hide(),o()}},secondary:{text:n("Cancel"),click:function(t){return s&&s(),t.hide()}}}}).show()},c=function(t,e){var r;return r=new i.Mini({title:n(t)}),r.show(),e().done(function(){r.hide()})},d=function(t,e,r){var o=new i.Error({title:n(t),message:n(e)});o.show(),setTimeout(function(){o.hide()},r)},f=function(e){return function(n){var i=this;h(t(n.currentTarget),function(){return i[e].apply(i,[n])})}},h=function(t,e){return t.addClass("is-disabled").attr("aria-disabled",!0),e().always(function(){t.removeClass("is-disabled").attr("aria-disabled",!1)})},w=function(e){return function(n){n.preventDefault(),t.ajax({url:t(this).data("dismiss-link"),type:"DELETE",success:e})}},g=function(e){t("html, body").animate({scrollTop:e},500)},p=function(e){return e.offset().top-t(window).scrollTop()},m=function(t,e){var n=t.offset().top;g(n-e)},v=function(t){window.location=t},b=function(){window.location.reload()},y=function(t,n){var i,r=t.changedAttributes();if(!r)return!1;for(i=0;i<n.length;i++)if(e.has(r,n[i]))return!0;return!1},x=function(t){return 0===t.length?n("Required field."):""},_=function(t,e){var i=x(t);if(i)return i;if(e){if(/\s/g.test(t))return n("Please do not use any spaces in this field.")}else if(t!==encodeURIComponent(t)||t.match(/[!'()*]/))return n("Please do not use any spaces or special characters in this field.");return""},k=function(n){return e.reduce(n,function(e,n){return e+t(n).val().length},0)<=65},C=function(e,n,i,r){var o;k(i)?t(e.errorWrapper).removeClass(n.shown).addClass(n.hiding):(t(e.errorWrapper).addClass(n.shown).removeClass(n.hiding),o=HtmlUtils.joinHtml(HtmlUtils.HTML("<p>"),HtmlUtils.template(r)({limit:65}),HtmlUtils.HTML("</p>")),HtmlUtils.setHtml(t(e.errorMessage),o),t(e.save).addClass(n.disabled))},T=function(e){var n=t.Deferred();return o(e,e,function(){n.resolve()}),n.promise()},{toggleExpandCollapse:s,showLoadingIndicator:a,hideLoadingIndicator:l,confirmThenRunOperation:u,runOperationShowingMessage:c,showErrorMeassage:d,withDisabledElement:f,disableElementWhileRunning:h,deleteNotificationHandler:w,setScrollTop:g,getScrollOffset:p,setScrollOffset:m,redirect:v,reload:b,hasChangedAttributes:y,validateRequiredField:x,validateURLItemEncoding:_,validateTotalKeyLength:k,checkTotalKeyLengthViolations:C,loadJavaScript:T}}.apply(e,i))&&(t.exports=r)},"./common/static/common/js/components/views/feedback.js":function(t,e,n){"use strict";var i,r;i=[n(0),n(1),n("./common/static/common/js/vendor/underscore.string.js"),n(2),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"),n("./common/static/common/templates/components/system-feedback.underscore")],void 0!==(r=function(t,e,n,i,r,o){var s=["a[href]:not([tabindex='-1'])","area[href]:not([tabindex='-1'])","input:not([disabled]):not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","iframe:not([tabindex='-1'])","[tabindex]:not([tabindex='-1'])","[contentEditable=true]:not([tabindex='-1'])"],a=i.View.extend({options:{title:"",message:"",intent:null,type:null,shown:!0,icon:!0,closeIcon:!0,minShown:0,maxShown:1/0,outFocusElement:null},initialize:function(n){if(this.options=e.extend({},this.options,n),!this.options.type)throw"SystemFeedback: type required (given "+JSON.stringify(this.options)+")";if(!this.options.intent)throw"SystemFeedback: intent required (given "+JSON.stringify(this.options)+")";return this.setElement(t("#page-"+this.options.type)),this.options.actions&&this.options.actions.secondary&&!e.isArray(this.options.actions.secondary)&&(this.options.actions.secondary=[this.options.actions.secondary]),this},inFocus:function(t){var e,n=t||".wrapper";return this.options.outFocusElement=this.options.outFocusElement||document.activeElement,this.$(n).first().focus(),e=this.$(s.join()),e.on("keydown",function(t){9===t.which&&t.shiftKey&&t.target===e.first()[0]?(t.preventDefault(),e.last().focus()):9!==t.which||t.shiftKey||t.target!==e.last()[0]||(t.preventDefault(),e.first().focus())}),this},outFocus:function(){return this.$(s.join()).off("keydown"),this.options.outFocusElement&&this.options.outFocusElement.focus(),this},show:function(){return clearTimeout(this.hideTimeout),this.options.shown=!0,this.shownAt=new Date,this.render(),t.isNumeric(this.options.maxShown)&&(this.hideTimeout=setTimeout(e.bind(this.hide,this),this.options.maxShown)),this},hide:function(){return this.shownAt&&t.isNumeric(this.options.minShown)&&this.options.minShown>new Date-this.shownAt?(clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(e.bind(this.hide,this),this.options.minShown-(new Date-this.shownAt))):(this.options.shown=!1,delete this.shownAt,this.render()),this},events:{"click .action-close":"hide","click .action-primary":"primaryClick","click .action-secondary":"secondaryClick"},render:function(){var t=a["active_"+this.options.type];return t&&t!==this&&(t.stopListening(),t.undelegateEvents()),r.setHtml(this.$el,r.template(o)(this.options)),a["active_"+this.options.type]=this,this},primaryClick:function(t){var e,n;(e=this.options.actions)&&(n=e.primary)&&(!1!==n.preventDefault&&t.preventDefault(),n.click&&n.click.call(t.target,this,t))},secondaryClick:function(t){var n,i,r,o;(n=this.options.actions)&&(i=n.secondary)&&(o=0,t&&t.target&&(o=e.indexOf(this.$(".action-secondary"),t.target)),r=i[o],!1!==r.preventDefault&&t.preventDefault(),r.click&&r.click.call(t.target,this,t))}});return a}.apply(e,i))&&(t.exports=r)},"./common/static/common/js/components/views/feedback_alert.js":function(t,e,n){"use strict";var i,r;i=[n(0),n(1),n("./common/static/common/js/vendor/underscore.string.js"),n("./common/static/common/js/components/views/feedback.js")],void 0!==(r=function(t,e,n,i){var r,o,s=i.extend({options:t.extend({},i.prototype.options,{type:"alert"}),slide_speed:900,show:function(){return i.prototype.show.apply(this,arguments),this.$el.hide(),this.$el.slideDown(this.slide_speed),this},hide:function(){this.$el.slideUp({duration:this.slide_speed}),setTimeout(e.bind(i.prototype.hide,this,arguments),this.slideSpeed)}});return r=e.compose(n.capitalize,n.camelize),o=["warning","error","confirmation","announcement","step-required","help","mini"],e.each(o,function(e){var n;n=s.extend({options:t.extend({},s.prototype.options,{intent:e})}),s[r(e)]=n}),s}.apply(e,i))&&(t.exports=r)},"./common/static/common/js/components/views/feedback_notification.js":function(t,e,n){"use strict";var i,r;i=[n(0),n(1),n("./common/static/common/js/vendor/underscore.string.js"),n("./common/static/common/js/components/views/feedback.js")],void 0!==(r=function(t,e,n,i){var r,o,s,a=i.extend({options:t.extend({},i.prototype.options,{type:"notification",closeIcon:!1})});return r=e.compose(n.capitalize,n.camelize),o=["warning","error","confirmation","announcement","step-required","help","mini"],e.each(o,function(e){var n;n=a.extend({options:t.extend({},a.prototype.options,{intent:e})}),a[r(e)]=n}),s=a.Mini.prototype.options,s.minShown=1250,s.closeIcon=!1,a}.apply(e,i))&&(t.exports=r)},"./common/static/common/js/components/views/feedback_prompt.js":function(t,e,n){"use strict";var i,r;i=[n(0),n(1),n("./common/static/common/js/vendor/underscore.string.js"),n("./common/static/common/js/components/views/feedback.js")],void 0!==(r=function(t,e,n,i){var r,o,s=i.extend({options:t.extend({},i.prototype.options,{type:"prompt",closeIcon:!1,icon:!1}),render:function(){return window.$body||(window.$body=t(document.body)),this.options.shown?$body.addClass("prompt-is-shown"):$body.removeClass("prompt-is-shown"),i.prototype.render.apply(this,arguments)},show:function(){return i.prototype.show.apply(this,arguments),this.inFocus()},hide:function(){return i.prototype.hide.apply(this,arguments),this.outFocus()}});return r=e.compose(n.capitalize,n.camelize),o=["warning","error","confirmation","announcement","step-required","help","mini"],e.each(o,function(e){var n;n=s.extend({options:t.extend({},s.prototype.options,{intent:e})}),s[r(e)]=n}),s}.apply(e,i))&&(t.exports=r)},"./common/static/common/js/components/views/paging_footer.js":function(t,e,n){"use strict";var i,r;i=[n(1),n(3),n(2),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"),n("./common/static/common/templates/components/paging-footer.underscore")],void 0!==(r=function(t,e,n,i,r){return n.View.extend({events:{"click .next-page-link":"nextPage","click .previous-page-link":"previousPage","change .page-number-input":"changePage"},initialize:function(n){this.collection=n.collection,this.hideWhenOnePage=n.hideWhenOnePage||!1,this.paginationLabel=n.paginationLabel||e("Pagination"),this.collection.bind("add",t.bind(this.render,this)),this.collection.bind("remove",t.bind(this.render,this)),this.collection.bind("reset",t.bind(this.render,this))},render:function(){var t=!this.collection.hasPreviousPage(),e=!this.collection.hasNextPage();return this.hideWhenOnePage&&(this.collection.getTotalPages()<=1?this.$el.addClass("hidden"):this.$el.hasClass("hidden")&&this.$el.removeClass("hidden")),i.setHtml(this.$el,i.template(r)({current_page:this.collection.getPageNumber(),total_pages:this.collection.getTotalPages(),paginationLabel:this.paginationLabel})),this.$(".previous-page-link").toggleClass("is-disabled",t).attr("aria-disabled",t),this.$(".next-page-link").toggleClass("is-disabled",e).attr("aria-disabled",e),this},changePage:function(){var t=this.collection,e=t.getPageNumber(),n=this.$("#page-number-input"),i=parseInt(n.val(),10),r=!0;(!i||i>t.getTotalPages()||i<1)&&(r=!1),r&&i!==e&&t.setPage(i),n.val("")},nextPage:function(){this.collection.nextPage()},previousPage:function(){this.collection.previousPage()}})}.apply(e,i))&&(t.exports=r)},"./common/static/common/js/vendor/jquery.scrollTo.js":function(t,e,n){function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,o,s;!function(i){"use strict";o=[n(0)],r=i,void 0!==(s="function"==typeof r?r.apply(e,o):r)&&(t.exports=s)}(function(t){"use strict";function e(e){return!e.nodeName||-1!==t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function n(e){return t.isFunction(e)||t.isPlainObject(e)?e:{top:e,left:e}}var r=t.scrollTo=function(e,n,i){return t(window).scrollTo(e,n,i)};return r.defaults={axis:"xy",duration:0,limit:!0},t.fn.scrollTo=function(o,s,a){"object"===i(s)&&(a=s,s=0),"function"==typeof a&&(a={onAfter:a}),"max"===o&&(o=9e9),a=t.extend({},r.defaults,a),s=s||a.duration;var l=a.queue&&a.axis.length>1;return l&&(s/=2),a.offset=n(a.offset),a.over=n(a.over),this.each(function(){function u(e){var n=t.extend({},a,{queue:!0,duration:s,complete:e&&function(){e.call(f,p,a)}});h.animate(m,n)}if(null!==o){var c,d=e(this),f=d?this.contentWindow||window:this,h=t(f),p=o,m={};switch(i(p)){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=n(p);break}p=d?t(p):t(p,f);case"object":if(0===p.length)return;(p.is||p.style)&&(c=(p=t(p)).offset())}var g=t.isFunction(a.offset)&&a.offset(f,p)||a.offset;t.each(a.axis.split(""),function(t,e){var n="x"===e?"Left":"Top",i=n.toLowerCase(),o="scroll"+n,s=h[o](),v=r.max(f,e);if(c)m[o]=c[i]+(d?0:s-h.offset()[i]),a.margin&&(m[o]-=parseInt(p.css("margin"+n),10)||0,m[o]-=parseInt(p.css("border"+n+"Width"),10)||0),m[o]+=g[i]||0,a.over[i]&&(m[o]+=p["x"===e?"width":"height"]()*a.over[i]);else{var b=p[i];m[o]=b.slice&&"%"===b.slice(-1)?parseFloat(b)/100*v:b}a.limit&&/^\d+$/.test(m[o])&&(m[o]=m[o]<=0?0:Math.min(m[o],v)),!t&&a.axis.length>1&&(s===m[o]?m={}:l&&(u(a.onAfterFirst),m={}))}),u(a.onAfter)}})},r.max=function(n,i){var r="x"===i?"Width":"Height",o="scroll"+r;if(!e(n))return n[o]-t(n)[r.toLowerCase()]();var s="client"+r,a=n.ownerDocument||n.document,l=a.documentElement,u=a.body;return Math.max(l[o],u[o])-Math.min(l[s],u[s])},t.Tween.propHooks.scrollLeft=t.Tween.propHooks.scrollTop={get:function(e){return t(e.elem)[e.prop]()},set:function(e){var n=this.get(e);if(e.options.interrupt&&e._last&&e._last!==n)return t(e.elem).stop();var i=Math.round(e.now);n!==i&&(t(e.elem)[e.prop](i),e._last=this.get(e))}},r})},"./common/static/common/js/vendor/underscore.string.js":function(t,e,n){(function(n){function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,o,s,a,a;/*
* Underscore.string
* (c) 2010 Esa-Matti Suuronen <esa-matti aet suuronen dot org>
* Underscore.string is freely distributable under the terms of the MIT license.
* Documentation: https://github.com/epeli/underscore.string
* Some code is borrowed from MooTools and Alexandru Marasteanu.
* Version '3.3.4'
* @preserve
*/
!function(n){if("object"===i(e)&&void 0!==t)t.exports=n();else{o=[],r=n,void 0!==(s="function"==typeof r?r.apply(e,o):r)&&(t.exports=s)}}(function(){var t;return function t(e,n,i){function r(s,l){if(!n[s]){if(!e[s]){var u="function"==typeof a&&a;if(!l&&u)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return r(n||t)},d,d.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof a&&a,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){var i=t("./trim"),r=t("./decapitalize");e.exports=function(t,e){return t=i(t).replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),!0===e?r(t):t}},{"./decapitalize":10,"./trim":65}],2:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t);var n=e?t.slice(1).toLowerCase():t.slice(1);return t.charAt(0).toUpperCase()+n}},{"./helper/makeString":20}],3:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).split("")}},{"./helper/makeString":20}],4:[function(t,e,n){e.exports=function(t,e){return null==t?[]:(t=String(t),e=~~e,e>0?t.match(new RegExp(".{1,"+e+"}","g")):[t])}},{}],5:[function(t,e,n){var i=t("./capitalize"),r=t("./camelize"),o=t("./helper/makeString");e.exports=function(t){return t=o(t),i(r(t.replace(/[\W_]/g," ")).replace(/\s/g,""))}},{"./camelize":1,"./capitalize":2,"./helper/makeString":20}],6:[function(t,e,n){var i=t("./trim");e.exports=function(t){return i(t).replace(/\s\s+/g," ")}},{"./trim":65}],7:[function(t,e,n){var i=t("./helper/makeString"),r="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž",o="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";r+=r.toUpperCase(),o+=o.toUpperCase(),o=o.split(""),r+="ß",o.push("ss"),e.exports=function(t){return i(t).replace(/.{1}/g,function(t){var e=r.indexOf(t);return-1===e?t:o[e]})}},{"./helper/makeString":20}],8:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){return t=i(t),e=i(e),0===t.length||0===e.length?0:t.split(e).length-1}},{"./helper/makeString":20}],9:[function(t,e,n){var i=t("./trim");e.exports=function(t){return i(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":65}],10:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return t=i(t),t.charAt(0).toLowerCase()+t.slice(1)}},{"./helper/makeString":20}],11:[function(t,e,n){function i(t){for(var e=t.match(/^[\s\\t]*/gm),n=e[0].length,i=1;i<e.length;i++)n=Math.min(e[i].length,n);return n}var r=t("./helper/makeString");e.exports=function(t,e){t=r(t);var n,o=i(t);return 0===o?t:(n="string"==typeof e?new RegExp("^"+e,"gm"):new RegExp("^[ \\t]{"+o+"}","gm"),t.replace(n,""))}},{"./helper/makeString":20}],12:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/toPositive");e.exports=function(t,e,n){return t=i(t),e=""+e,(n=void 0===n?t.length-e.length:Math.min(r(n),t.length)-e.length)>=0&&t.indexOf(e,n)===n}},{"./helper/makeString":20,"./helper/toPositive":22}],13:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/escapeChars"),o="[";for(var s in r)o+=s;o+="]";var a=new RegExp(o,"g");e.exports=function(t){return i(t).replace(a,function(t){return"&"+r[t]+";"})}},{"./helper/escapeChars":17,"./helper/makeString":20}],14:[function(t,e,n){e.exports=function(){var t={};for(var e in this)this.hasOwnProperty(e)&&!e.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(t[e]=this[e]);return t}},{}],15:[function(t,e,n){var i=t("./makeString");e.exports=function(t,e){return t=i(t),0===t.length?"":t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+e)}},{"./makeString":20}],16:[function(t,e,n){var i=t("./escapeRegExp");e.exports=function(t){return null==t?"\\s":t.source?t.source:"["+i(t)+"]"}},{"./escapeRegExp":18}],17:[function(t,e,n){var i={"¢":"cent","£":"pound","¥":"yen","€":"euro","©":"copy","®":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};e.exports=i},{}],18:[function(t,e,n){var i=t("./makeString");e.exports=function(t){return i(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":20}],19:[function(t,e,n){var i={nbsp:" ",cent:"¢",pound:"£",yen:"¥",euro:"€",copy:"©",reg:"®",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};e.exports=i},{}],20:[function(t,e,n){e.exports=function(t){return null==t?"":""+t}},{}],21:[function(t,e,n){e.exports=function(t,e){if(e<1)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n}},{}],22:[function(t,e,n){e.exports=function(t){return t<0?0:+t||0}},{}],23:[function(t,e,n){var i=t("./capitalize"),r=t("./underscored"),o=t("./trim");e.exports=function(t){return i(o(r(t).replace(/_id$/,"").replace(/_/g," ")))}},{"./capitalize":2,"./trim":65,"./underscored":67}],24:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){return""===e||-1!==i(t).indexOf(e)}},{"./helper/makeString":20}],25:[function(t,e,n){/*
      * Underscore.string
      * (c) 2010 Esa-Matti Suuronen <esa-matti aet suuronen dot org>
      * Underscore.string is freely distributable under the terms of the MIT license.
      * Documentation: https://github.com/epeli/underscore.string
      * Some code is borrowed from MooTools and Alexandru Marasteanu.
      * Version '3.3.4'
      * @preserve
      */
"use strict";function i(t){if(!(this instanceof i))return new i(t);this._wrapped=t}function r(t,e){"function"==typeof e&&(i.prototype[t]=function(){var t=[this._wrapped].concat(Array.prototype.slice.call(arguments)),n=e.apply(null,t);return"string"==typeof n?new i(n):n})}i.VERSION="3.3.4",i.isBlank=t("./isBlank"),i.stripTags=t("./stripTags"),i.capitalize=t("./capitalize"),i.decapitalize=t("./decapitalize"),i.chop=t("./chop"),i.trim=t("./trim"),i.clean=t("./clean"),i.cleanDiacritics=t("./cleanDiacritics"),i.count=t("./count"),i.chars=t("./chars"),i.swapCase=t("./swapCase"),i.escapeHTML=t("./escapeHTML"),i.unescapeHTML=t("./unescapeHTML"),i.splice=t("./splice"),i.insert=t("./insert"),i.replaceAll=t("./replaceAll"),i.include=t("./include"),i.join=t("./join"),i.lines=t("./lines"),i.dedent=t("./dedent"),i.reverse=t("./reverse"),i.startsWith=t("./startsWith"),i.endsWith=t("./endsWith"),i.pred=t("./pred"),i.succ=t("./succ"),i.titleize=t("./titleize"),i.camelize=t("./camelize"),i.underscored=t("./underscored"),i.dasherize=t("./dasherize"),i.classify=t("./classify"),i.humanize=t("./humanize"),i.ltrim=t("./ltrim"),i.rtrim=t("./rtrim"),i.truncate=t("./truncate"),i.prune=t("./prune"),i.words=t("./words"),i.pad=t("./pad"),i.lpad=t("./lpad"),i.rpad=t("./rpad"),i.lrpad=t("./lrpad"),i.sprintf=t("./sprintf"),i.vsprintf=t("./vsprintf"),i.toNumber=t("./toNumber"),i.numberFormat=t("./numberFormat"),i.strRight=t("./strRight"),i.strRightBack=t("./strRightBack"),i.strLeft=t("./strLeft"),i.strLeftBack=t("./strLeftBack"),i.toSentence=t("./toSentence"),i.toSentenceSerial=t("./toSentenceSerial"),i.slugify=t("./slugify"),i.surround=t("./surround"),i.quote=t("./quote"),i.unquote=t("./unquote"),i.repeat=t("./repeat"),i.naturalCmp=t("./naturalCmp"),i.levenshtein=t("./levenshtein"),i.toBoolean=t("./toBoolean"),i.exports=t("./exports"),i.escapeRegExp=t("./helper/escapeRegExp"),i.wrap=t("./wrap"),i.map=t("./map"),i.strip=i.trim,i.lstrip=i.ltrim,i.rstrip=i.rtrim,i.center=i.lrpad,i.rjust=i.lpad,i.ljust=i.rpad,i.contains=i.include,i.q=i.quote,i.toBool=i.toBoolean,i.camelcase=i.camelize,i.mapChars=i.map,i.prototype={value:function(){return this._wrapped}};for(var o in i)r(o,i[o]);r("tap",function(t,e){return e(t)});var s=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var a in s)!function(t){r(t,function(e){var n=Array.prototype.slice.call(arguments,1);return String.prototype[t].apply(e,n)})}(s[a]);e.exports=i},{"./camelize":1,"./capitalize":2,"./chars":3,"./chop":4,"./classify":5,"./clean":6,"./cleanDiacritics":7,"./count":8,"./dasherize":9,"./decapitalize":10,"./dedent":11,"./endsWith":12,"./escapeHTML":13,"./exports":14,"./helper/escapeRegExp":18,"./humanize":23,"./include":24,"./insert":26,"./isBlank":27,"./join":28,"./levenshtein":29,"./lines":30,"./lpad":31,"./lrpad":32,"./ltrim":33,"./map":34,"./naturalCmp":35,"./numberFormat":38,"./pad":39,"./pred":40,"./prune":41,"./quote":42,"./repeat":43,"./replaceAll":44,"./reverse":45,"./rpad":46,"./rtrim":47,"./slugify":48,"./splice":49,"./sprintf":50,"./startsWith":51,"./strLeft":52,"./strLeftBack":53,"./strRight":54,"./strRightBack":55,"./stripTags":56,"./succ":57,"./surround":58,"./swapCase":59,"./titleize":60,"./toBoolean":61,"./toNumber":62,"./toSentence":63,"./toSentenceSerial":64,"./trim":65,"./truncate":66,"./underscored":67,"./unescapeHTML":68,"./unquote":69,"./vsprintf":70,"./words":71,"./wrap":72}],26:[function(t,e,n){var i=t("./splice");e.exports=function(t,e,n){return i(t,e,0,n)}},{"./splice":49}],27:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return/^\s*$/.test(i(t))}},{"./helper/makeString":20}],28:[function(t,e,n){var i=t("./helper/makeString"),r=[].slice;e.exports=function(){var t=r.call(arguments),e=t.shift();return t.join(i(e))}},{"./helper/makeString":20}],29:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){"use strict";if(t=i(t),e=i(e),t===e)return 0;if(!t||!e)return Math.max(t.length,e.length);for(var n=new Array(e.length+1),r=0;r<n.length;++r)n[r]=r;for(r=0;r<t.length;++r){for(var o=r+1,s=0;s<e.length;++s){var a=o;o=n[s]+(t.charAt(r)===e.charAt(s)?0:1);var l=a+1;o>l&&(o=l),l=n[s+1]+1,o>l&&(o=l),n[s]=a}n[s]=o}return o}},{"./helper/makeString":20}],30:[function(t,e,n){e.exports=function(t){return null==t?[]:String(t).split(/\r\n?|\n/)}},{}],31:[function(t,e,n){var i=t("./pad");e.exports=function(t,e,n){return i(t,e,n)}},{"./pad":39}],32:[function(t,e,n){var i=t("./pad");e.exports=function(t,e,n){return i(t,e,n,"both")}},{"./pad":39}],33:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/defaultToWhiteSpace"),o=String.prototype.trimLeft;e.exports=function(t,e){return t=i(t),!e&&o?o.call(t):(e=r(e),t.replace(new RegExp("^"+e+"+"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],34:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){return t=i(t),0===t.length||"function"!=typeof e?t:t.replace(/./g,e)}},{"./helper/makeString":20}],35:[function(t,e,n){e.exports=function(t,e){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=/(\.\d+|\d+|\D+)/g,i=String(t).match(n),r=String(e).match(n),o=Math.min(i.length,r.length),s=0;s<o;s++){var a=i[s],l=r[s];if(a!==l){var u=+a,c=+l;return u===u&&c===c?u>c?1:-1:a<l?-1:1}}return i.length!=r.length?i.length-r.length:t<e?-1:1}},{}],36:[function(e,n,i){!function(e){function n(){var t=arguments[0],e=n.cache;return e[t]&&e.hasOwnProperty(t)||(e[t]=n.parse(t)),n.format.call(null,e[t],arguments)}function r(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function o(t,e){return Array(e+1).join(t)}var s={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};n.format=function(t,e){var i,a,l,u,c,d,f,h=1,p=t.length,m="",g=[],v=!0,b="";for(a=0;a<p;a++)if("string"===(m=r(t[a])))g[g.length]=t[a];else if("array"===m){if(u=t[a],u[2])for(i=e[h],l=0;l<u[2].length;l++){if(!i.hasOwnProperty(u[2][l]))throw new Error(n("[sprintf] property '%s' does not exist",u[2][l]));i=i[u[2][l]]}else i=u[1]?e[u[1]]:e[h++];if("function"==r(i)&&(i=i()),s.not_string.test(u[8])&&s.not_json.test(u[8])&&"number"!=r(i)&&isNaN(i))throw new TypeError(n("[sprintf] expecting number but found %s",r(i)));switch(s.number.test(u[8])&&(v=i>=0),u[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,u[6]?parseInt(u[6]):0);break;case"e":i=u[7]?i.toExponential(u[7]):i.toExponential();break;case"f":i=u[7]?parseFloat(i).toFixed(u[7]):parseFloat(i);break;case"g":i=u[7]?parseFloat(i).toPrecision(u[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&u[7]?i.substring(0,u[7]):i;break;case"u":i>>>=0;break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}s.json.test(u[8])?g[g.length]=i:(!s.number.test(u[8])||v&&!u[3]?b="":(b=v?"+":"-",i=i.toString().replace(s.sign,"")),d=u[4]?"0"===u[4]?"0":u[4].charAt(1):" ",f=u[6]-(b+i).length,c=u[6]&&f>0?o(d,f):"",g[g.length]=u[5]?b+i+c:"0"===d?b+c+i:c+b+i)}return g.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],i=[],r=0;e;){if(null!==(n=s.text.exec(e)))i[i.length]=n[0];else if(null!==(n=s.modulo.exec(e)))i[i.length]="%";else{if(null===(n=s.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){r|=1;var o=[],a=n[2],l=[];if(null===(l=s.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=l[1];""!==(a=a.substring(l[0].length));)if(null!==(l=s.key_access.exec(a)))o[o.length]=l[1];else{if(null===(l=s.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=l[1]}n[2]=o}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i[i.length]=n}e=e.substring(n[0].length)}return i};var a=function(t,e,i){return i=(e||[]).slice(0),i.splice(0,0,t),n.apply(null,i)};void 0!==i?(i.sprintf=n,i.vsprintf=a):(e.sprintf=n,e.vsprintf=a,"function"==typeof t&&t.amd&&t(function(){return{sprintf:n,vsprintf:a}}))}("undefined"==typeof window?this:window)},{}],37:[function(t,e,i){(function(t){function n(t,e){function n(){if(!r){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}if(i("noDeprecation"))return t;var r=!1;return n}function i(e){try{if(!t.localStorage)return!1}catch(t){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(t,e,n){e.exports=function(t,e,n,i){if(isNaN(t)||null==t)return"";t=t.toFixed(~~e),i="string"==typeof i?i:",";var r=t.split("."),o=r[0],s=r[1]?(n||".")+r[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+s}},{}],39:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/strRepeat");e.exports=function(t,e,n,o){t=i(t),e=~~e;var s=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",o){case"right":return s=e-t.length,t+r(n,s);case"both":return s=e-t.length,r(n,Math.ceil(s/2))+t+r(n,Math.floor(s/2));default:return s=e-t.length,r(n,s)+t}}},{"./helper/makeString":20,"./helper/strRepeat":21}],40:[function(t,e,n){var i=t("./helper/adjacent");e.exports=function(t){return i(t,-1)}},{"./helper/adjacent":15}],41:[function(t,e,n){var i=t("./helper/makeString"),r=t("./rtrim");e.exports=function(t,e,n){if(t=i(t),e=~~e,n=null!=n?String(n):"...",t.length<=e)return t;var o=function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "},s=t.slice(0,e+1).replace(/.(?=\W*\w*$)/g,o);return s=s.slice(s.length-2).match(/\w\w/)?s.replace(/\s*\S+$/,""):r(s.slice(0,s.length-1)),(s+n).length>t.length?t:t.slice(0,s.length)+n}},{"./helper/makeString":20,"./rtrim":47}],42:[function(t,e,n){var i=t("./surround");e.exports=function(t,e){return i(t,e||'"')}},{"./surround":58}],43:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/strRepeat");e.exports=function(t,e,n){if(t=i(t),e=~~e,null==n)return r(t,e);for(var o=[];e>0;o[--e]=t);return o.join(n)}},{"./helper/makeString":20,"./helper/strRepeat":21}],44:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e,n,r){var o=!0===r?"gi":"g",s=new RegExp(e,o);return i(t).replace(s,n)}},{"./helper/makeString":20}],45:[function(t,e,n){var i=t("./chars");e.exports=function(t){return i(t).reverse().join("")}},{"./chars":3}],46:[function(t,e,n){var i=t("./pad");e.exports=function(t,e,n){return i(t,e,n,"right")}},{"./pad":39}],47:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/defaultToWhiteSpace"),o=String.prototype.trimRight;e.exports=function(t,e){return t=i(t),!e&&o?o.call(t):(e=r(e),t.replace(new RegExp(e+"+$"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],48:[function(t,e,n){var i=t("./trim"),r=t("./dasherize"),o=t("./cleanDiacritics");e.exports=function(t){return i(r(o(t).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")}},{"./cleanDiacritics":7,"./dasherize":9,"./trim":65}],49:[function(t,e,n){var i=t("./chars");e.exports=function(t,e,n,r){var o=i(t);return o.splice(~~e,~~n,r),o.join("")}},{"./chars":3}],50:[function(t,e,n){var i=t("util-deprecate");e.exports=i(t("sprintf-js").sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":36,"util-deprecate":37}],51:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/toPositive");e.exports=function(t,e,n){return t=i(t),e=""+e,n=null==n?0:Math.min(r(n),t.length),t.lastIndexOf(e,n)===n}},{"./helper/makeString":20,"./helper/toPositive":22}],52:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t),e=i(e);var n=e?t.indexOf(e):-1;return~n?t.slice(0,n):t}},{"./helper/makeString":20}],53:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t),e=i(e);var n=t.lastIndexOf(e);return~n?t.slice(0,n):t}},{"./helper/makeString":20}],54:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t),e=i(e);var n=e?t.indexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},{"./helper/makeString":20}],55:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t),e=i(e);var n=e?t.lastIndexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},{"./helper/makeString":20}],56:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).replace(/<\/?[^>]+>/g,"")}},{"./helper/makeString":20}],57:[function(t,e,n){var i=t("./helper/adjacent");e.exports=function(t){return i(t,1)}},{"./helper/adjacent":15}],58:[function(t,e,n){e.exports=function(t,e){return[e,t,e].join("")}},{}],59:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).replace(/\S/g,function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()})}},{"./helper/makeString":20}],60:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).toLowerCase().replace(/(?:^|\s|-)\S/g,function(t){return t.toUpperCase()})}},{"./helper/makeString":20}],61:[function(t,e,n){function i(t,e){var n,i,r=t.toLowerCase();for(e=[].concat(e),n=0;n<e.length;n+=1)if(i=e[n]){if(i.test&&i.test(t))return!0;if(i.toLowerCase()===r)return!0}}var r=t("./trim");e.exports=function(t,e,n){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:(t=r(t),!!i(t,e||["true","1"])||!i(t,n||["false","0"])&&void 0)}},{"./trim":65}],62:[function(t,e,n){e.exports=function(t,e){if(null==t)return 0;var n=Math.pow(10,isFinite(e)?e:0);return Math.round(t*n)/n}},{}],63:[function(t,e,n){var i=t("./rtrim");e.exports=function(t,e,n,r){e=e||", ",n=n||" and ";var o=t.slice(),s=o.pop();return t.length>2&&r&&(n=i(e)+n),o.length?o.join(e)+n+s:s}},{"./rtrim":47}],64:[function(t,e,n){var i=t("./toSentence");e.exports=function(t,e,n){return i(t,e,n,!0)}},{"./toSentence":63}],65:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/defaultToWhiteSpace"),o=String.prototype.trim;e.exports=function(t,e){return t=i(t),!e&&o?o.call(t):(e=r(e),t.replace(new RegExp("^"+e+"+|"+e+"+$","g"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],66:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e,n){return t=i(t),n=n||"...",e=~~e,t.length>e?t.slice(0,e)+n:t}},{"./helper/makeString":20}],67:[function(t,e,n){var i=t("./trim");e.exports=function(t){return i(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},{"./trim":65}],68:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/htmlEntities");e.exports=function(t){return i(t).replace(/\&([^;]+);/g,function(t,e){var n;return e in r?r[e]:(n=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=e.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):t})}},{"./helper/htmlEntities":19,"./helper/makeString":20}],69:[function(t,e,n){e.exports=function(t,e){return e=e||'"',t[0]===e&&t[t.length-1]===e?t.slice(1,t.length-1):t}},{}],70:[function(t,e,n){var i=t("util-deprecate");e.exports=i(t("sprintf-js").vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.")},{"sprintf-js":36,"util-deprecate":37}],71:[function(t,e,n){var i=t("./isBlank"),r=t("./trim");e.exports=function(t,e){return i(t)?[]:r(t,e).split(e||/\s+/)}},{"./isBlank":27,"./trim":65}],72:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t),e=e||{};var n,r=e.width||75,o=e.seperator||"\n",s=e.cut||!1,a=e.preserveSpaces||!1,l=e.trailingSpaces||!1;if(r<=0)return t;if(s){var u=0;for(n="";u<t.length;)u%r==0&&u>0&&(n+=o),n+=t.charAt(u),u++;if(l)for(;u%r>0;)n+=" ",u++;return n}var c=t.split(" "),d=0;for(n="";c.length>0;){if(1+c[0].length+d>r&&d>0){if(a)n+=" ",d++;else if(l)for(;d<r;)n+=" ",d++;n+=o,d=0}d>0&&(n+=" ",d++),n+=c[0],d+=c[0].length,c.shift()}if(l)for(;d<r;)n+=" ",d++;return n}},{"./helper/makeString":20}]},{},[25])(25)})}).call(e,n("./node_modules/webpack/buildin/global.js"))},"./common/static/common/js/xblock/core.js":function(t,e,n){(function(e){var i=n(0),i=i||{};i.immediateDescendents=n("./common/static/js/src/jquery.immediateDescendents.js"),function(){(function(t,e){"use strict";function n(e,n,i,r){var o;return r=r||t(i).data("request-token"),o=r?"."+e+'[data-request-token="'+r+'"]':"."+e,o+=":not(.xblock-initialized)",t(i).immediateDescendents(o).map(function(t,e){return n(e,r)}).toArray()}function i(e){var n=t(e),i=n.data("runtime-class"),r=n.data("runtime-version"),o=n.data("init");return i&&r&&o?new window[i]["v"+r]:((i||r||o)&&console.log("Block "+n.outerHTML+" is missing data-runtime, data-runtime-version or data-init, and can't be initialized"),null)}function r(n){var i=t(n).children(".xblock-json-init-args").remove().text();return i?e.parse(i):{}}function o(e,n){var r,o=t(e),s=i(e);return n.unshift(e),n.unshift(s),s?(r=function(){function t(){return e.apply(this,n)}var e=window[o.data("init")];return t.prototype=e.prototype,new t}(),r.runtime=s):r={},r.element=e,r.name=o.data("name"),r.type=o.data("block-type"),o.trigger("xblock-initialized"),o.data("initialized",!0),o.addClass("xblock-initialized"),r}var s;s={Runtime:{},initializeBlock:function(e,n){var i,a,l=t(e);return n=n||l.data("request-token"),i=s.initializeXBlocks(l,n),a=s.initializeXBlockAsides(l,n),a&&(i=i.concat(a)),l.prop("xblock_children",i),o(e,[r(e)])},initializeAside:function(e){var n=t(e).data("block-id");return o(e,[t(e).siblings('[data-usage-id="'+n+'"]')[0],r(e)])},initializeXBlocks:function(t,e){return n("xblock",s.initializeBlock,t,e)},initializeXBlockAsides:function(t,e){return n("xblock_asides-v1",s.initializeAside,t,e)},initializeBlocks:function(t,e){var n=s.initializeXBlockAsides(t,e),i=s.initializeXBlocks(t,e);return n&&(i=i.concat(n)),i}},this.XBlock=s}).call(this,e,JSON)}.call(window),t.exports=window.XBlock}).call(e,n(0))},"./common/static/common/js/xblock/runtime.v1.js":function(t,e,n){(function(e){n("./common/static/common/js/xblock/core.js");(function(){(function(){"use strict";this.XBlock.Runtime.v1=function(){function t(){var e=this;this.childMap=function(){return t.prototype.childMap.apply(e,arguments)},this.children=function(){return t.prototype.children.apply(e,arguments)}}return t.prototype.children=function(t){return e(t).prop("xblock_children")},t.prototype.childMap=function(t,e){var n,i,r,o;for(o=this.children(t),i=0,r=o.length;i<r;i++)if(n=o[i],n.name===e)return n;return null},t.prototype.notify=function(){},t}()}).call(this)}).call(window),t.exports=window.XBlock}).call(e,n(0))},"./common/static/common/templates/components/paging-footer.underscore":function(t,e){t.exports='<nav class="pagination pagination-full bottom" aria-label="<%- paginationLabel %>">\n    <div class="nav-item previous"><button class="nav-link previous-page-link"><span class="icon fa fa-angle-left" aria-hidden="true"></span> <span class="nav-label"><%- gettext("Previous") %></span></button></div>\n    <div class="nav-item page">\n        <div class="pagination-form">\n            <label class="page-number-label" for="page-number-input"><%- interpolate(\n                    gettext("Page number out of %(total_pages)s"),\n                    {total_pages: total_pages},\n                    true\n                )%></label>\n            <input id="page-number-input" class="page-number-input" name="page-number" type="text" size="4" autocomplete="off" aria-describedby="page-number-input-helper"/>\n            <span class="sr field-helper" id="page-number-input-helper"><%- gettext("Enter the page number you\'d like to quickly navigate to.") %></span>\n        </div>\n\n        <span class="current-page"><%- current_page %></span>\n        <span class="sr">&nbsp;out of&nbsp;</span>\n        <span class="page-divider" aria-hidden="true">/</span>\n        <span class="total-pages"><%- total_pages %></span>\n    </div>\n    <div class="nav-item next"><button class="nav-link next-page-link"><span class="nav-label"><%- gettext("Next") %></span> <span class="icon fa fa-angle-right" aria-hidden="true"></span></button></div>\n</nav>\n'},"./common/static/common/templates/components/system-feedback.underscore":function(t,e){t.exports='<div class="wrapper wrapper-<%- type %> wrapper-<%- type %>-<%- intent %>\n            <% if(obj.shown) { %>is-shown<% } else { %>is-hiding<% } %>\n            <% if(_.contains([\'help\', \'mini\'], intent)) { %>wrapper-<%- type %>-status<% } %>"\n     id="<%- type %>-<%- intent %>"\n     aria-hidden="<% if(obj.shown) { %>false<% } else { %>true<% } %>"\n     aria-labelledby="<%- type %>-<%- intent %>-title"\n     tabindex="-1"\n     <% if (obj.message) { %>aria-describedby="<%- type %>-<%- intent %>-description" <% } %>\n     <% if (obj.actions) { %>role="dialog"<% } %>\n  >\n  <div class="<%- type %> <%- intent %> <% if(obj.actions) { %>has-actions<% } %>">\n    <% if(obj.icon) { %>\n      <% var iconClass = {"warning": "warning", "confirmation": "check", "error": "warning", "announcement": "bullhorn", "step-required": "exclamation-circle", "help": "question", "mini": "cog"} %>\n      <span class="feedback-symbol fa fa-<%- iconClass[intent] %>" aria-hidden="true"></span>\n    <% } %>\n\n    <div class="copy">\n      <h2 class="title title-3" id="<%- type %>-<%- intent %>-title"><%- title %></h2>\n      <% if(obj.message) { %><p class="message" id="<%- type %>-<%- intent %>-description"><%- message %></p><% } %>\n    </div>\n\n    <% if(obj.actions) { %>\n    <nav class="nav-actions">\n      <ul>\n        <% if(actions.primary) { %>\n        <li class="nav-item">\n          <button class="action-primary <%- actions.primary.class %>"><%- actions.primary.text %></button>\n        </li>\n        <% } %>\n        <% if(actions.secondary) {\n             _.each(actions.secondary, function(secondary) { %>\n        <li class="nav-item">\n          <button class="action-secondary <%- secondary.class %>"><%- secondary.text %></button>\n        </li>\n        <%   });\n           } %>\n      </ul>\n    </nav>\n    <% } %>\n\n    <% if(obj.closeIcon) { %>\n    <a href="#" rel="view" class="action action-close action-<%- type %>-close">\n      <span class="icon fa fa-times-circle" aria-hidden="true"></span>\n      <span class="label">close <%- type %></span>\n    </a>\n    <% } %>\n  </div>\n</div>\n'},"./common/static/js/src/accessibility_tools.js":function(t,e,n){(function(t,e){t(".nav-skip").click(function(){var e=t(this).attr("href");e&&t(e).attr("tabIndex",-1).focus()}),t(".nav-skip").keypress(function(e){var n;13===e.which&&(n=t(this).attr("href"))&&t(n).attr("tabIndex",-1).focus()}),t(function(){var n;n=function(){function n(){0===t("#reader-feedback").length&&e.append(t("body"),e.interpolateHtml(e.HTML('<div id="{readerFeedbackID}" class="sr" aria-live="polite"></div>'),{readerFeedbackID:"reader-feedback"})),this.el=t("#reader-feedback")}return n.prototype.clear=function(){e.setHtml(this.el,"")},n.prototype.readElts=function(e){var n=[];return t.each(e,function(e,i){n.push(t(i).html())}),this.readTexts(n)},n.prototype.readText=function(t){return this.readTexts([t])},n.prototype.readTexts=function(n){var i=e.HTML("");t.each(n,function(t,n){i=e.interpolateHtml(e.HTML("{previous_feedback}<p>{value}</p>\n"),{previous_feedback:i,value:e.HTML(n)})}),e.setHtml(this.el,i)},n}(),window.SR=new n})}).call(e,n(0),n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js"))},"./common/static/js/src/ajax_prefix.js":function(t,e,n){(function(e){(function(){this.AjaxPrefix={addAjaxPrefix:function(t,n){return t.postWithPrefix=function(t,i,r,o){return e.post(""+n()+t,i,r,o)},t.getWithPrefix=function(t,i,r,o){return e.get(""+n()+t,i,r,o)},t.ajaxWithPrefix=function(t,i){return null!=i?e.ajax(""+n()+t,i):(i=t,i.url=""+n()+i.url,e.ajax(i))}}}}).call(this),t.exports=this.AjaxPrefix}).call(e,n(0))},"./common/static/js/src/ie_shim.js":function(t,e){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""))},"./common/static/js/src/jquery.immediateDescendents.js":function(t,e,n){(function(t){(function(){t.fn.immediateDescendents=function(e){return this.children().map(function(){var n;return n=t(this),n.is(e)?this:n.immediateDescendents(e).get()})}}).call(this)}).call(e,n(0))},"./common/static/js/src/jquery_extend_patch.js":function(t,e,n){(function(t){function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){t.extend=t.fn.extend=function(){var n,i,r,o,s,a,l=arguments[0]||{},u=1,c=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[u]||{},u++),"object"===e(l)||t.isFunction(l)||(l={}),u===c&&(l=this,u--);u<c;u++)if(null!=(n=arguments[u]))for(i in n)o=n[i],"__proto__"!==i&&l!==o&&(d&&o&&(t.isPlainObject(o)||(s=Array.isArray(o)))?(r=l[i],a=s&&!Array.isArray(r)?[]:s||t.isPlainObject(r)?r:{},s=!1,l[i]=t.extend(d,a,o)):void 0!==o&&(l[i]=o));return l}}()}).call(e,n(0))},"./common/static/js/src/lang_edx.js":function(t,e,n){(function(t){var e=function(){"use strict";var e,n=null;return{init:function(){e=t("#settings-language-value"),n=this,this.listenForLanguagePreferenceChange()},listenForLanguagePreferenceChange:function(){e.change(function(e){var i=this.value,r=t(".url-endpoint").val(),o=JSON.parse(t(".url-endpoint").data("user-is-authenticated"));e.preventDefault(),n.submitAjaxRequest(i,r,function(){o?t("#language-settings-form").submit():n.refresh()})})},submitAjaxRequest:function(e,i,r){t.ajax({type:"PATCH",data:JSON.stringify({"pref-lang":e}),url:i,dataType:"json",contentType:"application/merge-patch+json",notifyOnError:!1,beforeSend:function(e){e.setRequestHeader("X-CSRFToken",t.cookie("csrftoken"))}}).done(function(){r()}).fail(function(){n.refresh()})},refresh:function(){location.reload()}}}();t(document).ready(function(){"use strict";e.init()})}).call(e,n(0))},"./common/static/js/src/logger.js":function(t,e,n){(function(t){(function(){(function(){"use strict";var e=function(){var e,n,i={};return e=function(e,n){var i=t.ajaxWithPrefix?t.ajaxWithPrefix:t.ajax;return n=t.extend(!0,{url:"/event",type:"POST",data:e,async:!0},n),i(n)},n=function(t,e){return{}.hasOwnProperty.call(t,e)},{log:function(r,o,s,a){var l;return s||(s=null),n(i,r)&&n(i[r],s)&&(l=i[r][s],t.each(l,function(t,e){try{e(r,o,s)}catch(t){console.error({eventType:r,data:o,element:s,error:t})}})),e({event_type:r,event:JSON.stringify(o),courserun_key:"undefined"!=typeof $$course_id?$$course_id:null,page:window.location.href},a)},listen:function(t,e,n){i[t]=i[t]||{},i[t][e]=i[t][e]||[],i[t][e].push(n)},bind:function(){window.onunload=function(){e({event_type:"page_close",event:"",page:window.location.href},{type:"GET",async:!1})}}}}();this.Logger=e,this.log_event=e.log}).call(this)}).call(window)}).call(e,n(0))},"./common/static/js/src/tooltip_manager.js":function(t,e,n){(function(t,e){!function(){"use strict";var n=function(n){this.element=t(n),this.tooltip=t("div."+this.className.split(/\s+/).join(".")),this.tooltip.length||(this.tooltip=t("<div />",{class:this.className}).appendTo(this.element)),this.hide(),e.bindAll(this,"show","hide","showTooltip","moveTooltip","hideTooltip","click"),this.bindEvents()};n.prototype={className:"tooltip",SELECTOR:"[data-tooltip]",bindEvents:function(){this.element.on({"mouseover.TooltipManager":this.showTooltip,"mousemove.TooltipManager":this.moveTooltip,"mouseout.TooltipManager":this.hideTooltip,"click.TooltipManager":this.click},this.SELECTOR)},getCoords:function(t,e){return{left:t-.5*this.tooltip.outerWidth(),top:e-(this.tooltip.outerHeight()+15)}},show:function(){this.tooltip.show().css("opacity",1)},hide:function(){this.tooltip.hide().css("opacity",0)},showTooltip:function(t){this.prepareTooltip(t.currentTarget,t.pageX,t.pageY),this.tooltipTimer&&clearTimeout(this.tooltipTimer),this.tooltipTimer=setTimeout(this.show,500)},prepareTooltip:function(e,n,i){n=void 0!==n?n:e.offset().left+e.width()/2,i=void 0!==i?i:e.offset().top+e.height()/2;var r=t(e).attr("data-tooltip");this.tooltip.text(r).css(this.getCoords(n,i))},openTooltip:function(t){this.prepareTooltip(t),this.show(),this.tooltipTimer&&clearTimeout(this.tooltipTimer)},moveTooltip:function(t){this.tooltip.css(this.getCoords(t.pageX,t.pageY))},hideTooltip:function(){clearTimeout(this.tooltipTimer),this.tooltipTimer=setTimeout(this.hide,50)},click:function(e){!t(e.currentTarget).data("tooltip-show-on-click")?this.hideTooltip(e):(this.show(),this.tooltipTimer&&clearTimeout(this.tooltipTimer))},destroy:function(){this.tooltip.remove(),this.element.off(".TooltipManager",this.SELECTOR)}},window.TooltipManager=n,t(document).ready(function(){window.globalTooltipManager=new n(document.body)})}()}).call(e,n(0),n(1))},"./common/static/js/src/utility.js":function(t,e){window.isExternal=function(t){var e=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof e[1]&&e[1].length>0&&e[1].toLowerCase()!==location.protocol||"string"==typeof e[2]&&e[2].length>0&&e[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host},window.rewriteStaticLinks=function(t,e,n){function i(t){return t===e?n:t}if(null===e||null===n)return t;fromRe=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var r=new RegExp("(https?://(www.)?[-a-zA-Z0-9@:%._+~#=]{2,256}.[a-z]{2,6}([-a-zA-Z0-9@:%_+.~#?&//=]*))?"+fromRe,"g");return t.replace(r,i)}},"./common/static/js/vendor/date.js":function(t,e){/**
 * @version: 1.0 Alpha-1
 * @author: Coolite Inc. http://www.coolite.com/
 * @date: 2008-05-13
 * @copyright: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/.
 * @website: http://www.datejs.com/
 */
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]},function(){var t=Date,e=t.prototype,n=t.CultureInfo,i=function(t,e){return e||(e=2),("000"+t).slice(-1*e)};e.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},e.setTimeToNow=function(){var t=new Date;return this.setHours(t.getHours()),this.setMinutes(t.getMinutes()),this.setSeconds(t.getSeconds()),this.setMilliseconds(t.getMilliseconds()),this},t.today=function(){return(new Date).clearTime()},t.compare=function(t,e){if(isNaN(t)||isNaN(e))throw new Error(t+" - "+e);if(t instanceof Date&&e instanceof Date)return t<e?-1:t>e?1:0;throw new TypeError(t+" - "+e)},t.equals=function(t,e){return 0===t.compareTo(e)},t.getDayNumberFromName=function(t){for(var e=n.dayNames,i=n.abbreviatedDayNames,r=n.shortestDayNames,o=t.toLowerCase(),s=0;s<e.length;s++)if(e[s].toLowerCase()==o||i[s].toLowerCase()==o||r[s].toLowerCase()==o)return s;return-1},t.getMonthNumberFromName=function(t){for(var e=n.monthNames,i=n.abbreviatedMonthNames,r=t.toLowerCase(),o=0;o<e.length;o++)if(e[o].toLowerCase()==r||i[o].toLowerCase()==r)return o;return-1},t.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},t.getDaysInMonth=function(e,n){return[31,t.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][n]},t.getTimezoneAbbreviation=function(t){for(var e=n.timezones,i=0;i<e.length;i++)if(e[i].offset===t)return e[i].name;return null},t.getTimezoneOffset=function(t){for(var e=n.timezones,i=0;i<e.length;i++)if(e[i].name===t.toUpperCase())return e[i].offset;return null},e.clone=function(){return new Date(this.getTime())},e.compareTo=function(t){return Date.compare(this,t)},e.equals=function(t){return Date.equals(this,t||new Date)},e.between=function(t,e){return this.getTime()>=t.getTime()&&this.getTime()<=e.getTime()},e.isAfter=function(t){return 1===this.compareTo(t||new Date)},e.isBefore=function(t){return-1===this.compareTo(t||new Date)},e.isToday=function(){return this.isSameDay(new Date)},e.isSameDay=function(t){return this.clone().clearTime().equals(t.clone().clearTime())},e.addMilliseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+t),this},e.addSeconds=function(t){return this.addMilliseconds(1e3*t)},e.addMinutes=function(t){return this.addMilliseconds(6e4*t)},e.addHours=function(t){return this.addMilliseconds(36e5*t)},e.addDays=function(t){return this.setDate(this.getDate()+t),this},e.addWeeks=function(t){return this.addDays(7*t)},e.addMonths=function(e){var n=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(n,t.getDaysInMonth(this.getFullYear(),this.getMonth()))),this},e.addYears=function(t){return this.addMonths(12*t)},e.add=function(t){if("number"==typeof t)return this._orient=t,this;var e=t;return e.milliseconds&&this.addMilliseconds(e.milliseconds),e.seconds&&this.addSeconds(e.seconds),e.minutes&&this.addMinutes(e.minutes),e.hours&&this.addHours(e.hours),e.weeks&&this.addWeeks(e.weeks),e.months&&this.addMonths(e.months),e.years&&this.addYears(e.years),e.days&&this.addDays(e.days),this};var r,o,s;e.getWeek=function(){var t,e,n,i,a,l,u,c,d,f;return r=r||this.getFullYear(),o=o||this.getMonth()+1,s=s||this.getDate(),o<=2?(t=r-1,e=(t/4|0)-(t/100|0)+(t/400|0),n=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0),d=e-n,a=0,l=s-1+31*(o-1)):(t=r,e=(t/4|0)-(t/100|0)+(t/400|0),n=((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0),d=e-n,a=d+1,l=s+(153*(o-3)+2)/5+58+d),u=(t+e)%7,i=(l+u-a)%7,c=l+3-i|0,f=c<0?53-((u-d)/5|0):c>364+d?1:1+(c/7|0),r=o=s=null,f},e.getISOWeek=function(){return r=this.getUTCFullYear(),o=this.getUTCMonth()+1,s=this.getUTCDate(),i(this.getWeek())},e.setWeek=function(t){return this.moveToDayOfWeek(1).addWeeks(t-this.getWeek())},t._validate=function(t,e,n,i){if(void 0===t)return!1;if("number"!=typeof t)throw new TypeError(t+" is not a Number.");if(t<e||t>n)throw new RangeError(t+" is not a valid value for "+i+".");return!0},t.validateMillisecond=function(e){return t._validate(e,0,999,"millisecond")},t.validateSecond=function(e){return t._validate(e,0,59,"second")},t.validateMinute=function(e){return t._validate(e,0,59,"minute")},t.validateHour=function(e){return t._validate(e,0,23,"hour")},t.validateDay=function(e,n,i){return t._validate(e,1,t.getDaysInMonth(n,i),"day")},t.validateMonth=function(e){return t._validate(e,0,11,"month")},t.validateYear=function(e){return t._validate(e,0,9999,"year")},e.set=function(e){return t.validateMillisecond(e.millisecond)&&this.addMilliseconds(e.millisecond-this.getMilliseconds()),t.validateSecond(e.second)&&this.addSeconds(e.second-this.getSeconds()),t.validateMinute(e.minute)&&this.addMinutes(e.minute-this.getMinutes()),t.validateHour(e.hour)&&this.addHours(e.hour-this.getHours()),t.validateMonth(e.month)&&this.addMonths(e.month-this.getMonth()),t.validateYear(e.year)&&this.addYears(e.year-this.getFullYear()),t.validateDay(e.day,this.getFullYear(),this.getMonth())&&this.addDays(e.day-this.getDate()),e.timezone&&this.setTimezone(e.timezone),e.timezoneOffset&&this.setTimezoneOffset(e.timezoneOffset),e.week&&t._validate(e.week,0,53,"week")&&this.setWeek(e.week),this},e.moveToFirstDayOfMonth=function(){return this.set({day:1})},e.moveToLastDayOfMonth=function(){return this.set({day:t.getDaysInMonth(this.getFullYear(),this.getMonth())})},e.moveToNthOccurrence=function(t,e){var n=0;if(e>0)n=e-1;else if(-1===e)return this.moveToLastDayOfMonth(),this.getDay()!==t&&this.moveToDayOfWeek(t,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(t,1).addWeeks(n)},e.moveToDayOfWeek=function(t,e){var n=(t-this.getDay()+7*(e||1))%7;return this.addDays(0===n?n+=7*(e||1):n)},e.moveToMonth=function(t,e){var n=(t-this.getMonth()+12*(e||1))%12;return this.addMonths(0===n?n+=12*(e||1):n)},e.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1},e.getTimezone=function(){return t.getTimezoneAbbreviation(this.getUTCOffset())},e.setTimezoneOffset=function(t){var e=this.getTimezoneOffset(),n=-6*Number(t)/10;return this.addMinutes(n-e)},e.setTimezone=function(e){return this.setTimezoneOffset(t.getTimezoneOffset(e))},e.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()},e.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()},e.getUTCOffset=function(){var t,e=-10*this.getTimezoneOffset()/6;return e<0?(t=(e-1e4).toString(),t.charAt(0)+t.substr(2)):(t=(e+1e4).toString(),"+"+t.substr(1))},e.getElapsed=function(t){return(t||new Date)-this},e.toISOString||(e.toISOString=function(){function t(t){return t<10?"0"+t:t}return'"'+this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+'Z"'}),void 0===e._toString&&(e._toString=e.toString),e.toString=function(t){var e=this;if(t&&1==t.length){var r=n.formatPatterns;switch(e.t=e.toString,t){case"d":return e.t(r.shortDate);case"D":return e.t(r.longDate);case"F":return e.t(r.fullDateTime);case"m":return e.t(r.monthDay);case"r":return e.t(r.rfc1123);case"s":return e.t(r.sortableDateTime);case"t":return e.t(r.shortTime);case"T":return e.t(r.longTime);case"u":return e.t(r.universalSortableDateTime);case"y":return e.t(r.yearMonth)}}var o=function(t){switch(1*t){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return t?t.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(t){if("\\"===t.charAt(0))return t.replace("\\","");switch(e.h=e.getHours,t){case"hh":return i(e.h()<13?0===e.h()?12:e.h():e.h()-12);case"h":return e.h()<13?0===e.h()?12:e.h():e.h()-12;case"HH":return i(e.h());case"H":return e.h();case"mm":return i(e.getMinutes());case"m":return e.getMinutes();case"ss":return i(e.getSeconds());case"s":return e.getSeconds();case"yyyy":return i(e.getFullYear(),4);case"yy":return i(e.getFullYear());case"dddd":return n.dayNames[e.getDay()];case"ddd":return n.abbreviatedDayNames[e.getDay()];case"dd":return i(e.getDate());case"d":return e.getDate();case"MMMM":return n.monthNames[e.getMonth()];case"MMM":return n.abbreviatedMonthNames[e.getMonth()];case"MM":return i(e.getMonth()+1);case"M":return e.getMonth()+1;case"t":return e.h()<12?n.amDesignator.substring(0,1):n.pmDesignator.substring(0,1);case"tt":return e.h()<12?n.amDesignator:n.pmDesignator;case"S":return o(e.getDate());default:return t}}):this._toString()}}(),function(){var t=Date,e=t.prototype,n=t.CultureInfo,i=Number.prototype;e._orient=1,e._nth=null,e._is=!1,e._same=!1,e._isSecond=!1,i._dateElement="day",e.next=function(){return this._orient=1,this},t.next=function(){return t.today().next()},e.last=e.prev=e.previous=function(){return this._orient=-1,this},t.last=t.prev=t.previous=function(){return t.today().last()},e.is=function(){return this._is=!0,this},e.same=function(){return this._same=!0,this._isSecond=!1,this},e.today=function(){return this.same().day()},e.weekday=function(){return!!this._is&&(this._is=!1,!this.is().sat()&&!this.is().sun())},e.at=function(e){return"string"==typeof e?t.parse(this.toString("d")+" "+e):this.set(e)},i.fromNow=i.after=function(t){var e={};return e[this._dateElement]=this,(t?t.clone():new Date).add(e)},i.ago=i.before=function(t){var e={};return e[this._dateElement]=-1*this,(t?t.clone():new Date).add(e)};var r,o="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),s="january february march april may june july august september october november december".split(/\s/),a="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),l="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),u="final first second third fourth fifth".split(/\s/);e.toObject=function(){for(var t={},e=0;e<a.length;e++)t[a[e].toLowerCase()]=this["get"+l[e]]();return t},t.fromObject=function(t){return t.week=null,Date.today().set(t)};for(var c=0;c<o.length;c++)t[o[c].toUpperCase()]=t[o[c].toUpperCase().substring(0,3)]=c,t[o[c]]=t[o[c].substring(0,3)]=function(e){return function(){var i=t.today(),r=e-i.getDay();return 0===e&&1===n.firstDayOfWeek&&0!==i.getDay()&&(r+=7),i.addDays(r)}}(c),e[o[c]]=e[o[c].substring(0,3)]=function(e){return function(){if(this._is)return this._is=!1,this.getDay()==e;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*this._orient),this._isSecond=!1;var n=this._nth;this._nth=null;var i=this.clone().moveToLastDayOfMonth();if(this.moveToNthOccurrence(e,n),this>i)throw new RangeError(t.getDayName(e)+" does not occur "+n+" times in the month of "+t.getMonthName(i.getMonth())+" "+i.getFullYear()+".");return this}return this.moveToDayOfWeek(e,this._orient)}}(c);for(var d=0;d<s.length;d++)t[s[d].toUpperCase()]=t[s[d].toUpperCase().substring(0,3)]=d,t[s[d]]=t[s[d].substring(0,3)]=function(e){return function(){return t.today().set({month:e,day:1})}}(d),e[s[d]]=e[s[d].substring(0,3)]=function(t){return function(){return this._is?(this._is=!1,this.getMonth()===t):this.moveToMonth(t,this._orient)}}(d);for(var f=function(t){return function(){if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;for(var e=this.toObject(),n=(arguments[0]||new Date).toObject(),i="",r=t.toLowerCase(),o=a.length-1;o>-1;o--){if(i=a[o].toLowerCase(),e[i]!=n[i])return!1;if(r==i)break}return!0}return"s"!=t.substring(t.length-1)&&(t+="s"),this["add"+t](this._orient)}},h=0;h<a.length;h++)r=a[h].toLowerCase(),e[r]=e[r+"s"]=f(a[h]),i[r]=i[r+"s"]=function(t){return function(){return this._dateElement=t,this}}(r);e._ss=f("Second");for(var p=function(t){return function(e){return this._same?this._ss(arguments[0]):e||0===e?this.moveToNthOccurrence(e,t):(this._nth=t,2!==t||void 0!==e&&null!==e?this:(this._isSecond=!0,this.addSeconds(this._orient)))}},m=0;m<u.length;m++)e[u[m]]=p(0===m?-1:m)}(),function(){Date.Parsing={Exception:function(t){this.message="Parse error at '"+t.substring(0,10)+" ...'"}};for(var t=Date.Parsing,e=t.Operators={rtoken:function(e){return function(n){var i=n.match(e);if(i)return[i[0],n.substring(i[0].length)];throw new t.Exception(n)}},token:function(t){return function(t){return e.rtoken(new RegExp("^s*"+t+"s*"))(t)}},stoken:function(t){return e.rtoken(new RegExp("^"+t))},until:function(t){return function(e){for(var n=[],i=null;e.length;){try{i=t.call(this,e)}catch(t){n.push(i[0]),e=i[1];continue}break}return[n,e]}},many:function(t){return function(e){for(var n=[],i=null;e.length;){try{i=t.call(this,e)}catch(t){return[n,e]}n.push(i[0]),e=i[1]}return[n,e]}},optional:function(t){return function(e){var n=null;try{n=t.call(this,e)}catch(t){return[null,e]}return[n[0],n[1]]}},not:function(e){return function(n){try{e.call(this,n)}catch(t){return[null,n]}throw new t.Exception(n)}},ignore:function(t){return t?function(e){var n=null;return n=t.call(this,e),[null,n[1]]}:null},product:function(){for(var t=arguments[0],n=Array.prototype.slice.call(arguments,1),i=[],r=0;r<t.length;r++)i.push(e.each(t[r],n));return i},cache:function(e){var n={},i=null;return function(r){try{i=n[r]=n[r]||e.call(this,r)}catch(t){i=n[r]=t}if(i instanceof t.Exception)throw i;return i}},any:function(){var e=arguments;return function(n){for(var i=null,r=0;r<e.length;r++)if(null!=e[r]){try{i=e[r].call(this,n)}catch(t){i=null}if(i)return i}throw new t.Exception(n)}},each:function(){var e=arguments;return function(n){for(var i=[],r=null,o=0;o<e.length;o++)if(null!=e[o]){try{r=e[o].call(this,n)}catch(e){throw new t.Exception(n)}i.push(r[0]),n=r[1]}return[i,n]}},all:function(){var t=arguments,e=e;return e.each(e.optional(t))},sequence:function(n,i,r){return i=i||e.rtoken(/^\s*/),r=r||null,1==n.length?n[0]:function(e){for(var o=null,s=null,a=[],l=0;l<n.length;l++){try{o=n[l].call(this,e)}catch(t){break}a.push(o[0]);try{s=i.call(this,o[1])}catch(t){s=null;break}e=s[1]}if(!o)throw new t.Exception(e);if(s)throw new t.Exception(s[1]);if(r)try{o=r.call(this,o[1])}catch(e){throw new t.Exception(o[1])}return[a,o?o[1]:e]}},between:function(t,n,i){i=i||t;var o=e.each(e.ignore(t),n,e.ignore(i));return function(t){var e=o.call(this,t);return[[e[0][0],r[0][2]],e[1]]}},list:function(t,n,i){return n=n||e.rtoken(/^\s*/),i=i||null,t instanceof Array?e.each(e.product(t.slice(0,-1),e.ignore(n)),t.slice(-1),e.ignore(i)):e.each(e.many(e.each(t,e.ignore(n))),px,e.ignore(i))},set:function(n,i,r){return i=i||e.rtoken(/^\s*/),r=r||null,function(o){for(var s=null,a=null,l=null,u=null,c=[[],o],d=!1,f=0;f<n.length;f++){l=null,a=null,s=null,d=1==n.length;try{s=n[f].call(this,o)}catch(t){continue}if(u=[[s[0]],s[1]],s[1].length>0&&!d)try{l=i.call(this,s[1])}catch(t){d=!0}else d=!0;if(d||0!==l[1].length||(d=!0),!d){for(var h=[],p=0;p<n.length;p++)f!=p&&h.push(n[p]);a=e.set(h,i).call(this,l[1]),a[0].length>0&&(u[0]=u[0].concat(a[0]),u[1]=a[1])}if(u[1].length<c[1].length&&(c=u),0===c[1].length)break}if(0===c[0].length)return c;if(r){try{l=r.call(this,c[1])}catch(e){throw new t.Exception(c[1])}c[1]=l[1]}return c}},forward:function(t,e){return function(n){return t[e].call(this,n)}},replace:function(t,e){return function(n){var i=t.call(this,n);return[e,i[1]]}},process:function(t,e){return function(n){var i=t.call(this,n);return[e.call(this,i[0]),i[1]]}},min:function(e,n){return function(i){var r=n.call(this,i);if(r[0].length<e)throw new t.Exception(i);return r}}},n="optional not ignore cache".split(/\s/),i=0;i<n.length;i++)e[n[i]]=function(t){return function(){var e=null,n=[];if(arguments.length>1?e=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(e=arguments[0]),!e)return t.apply(null,arguments);for(var i=0,r=e.shift();i<r.length;i++)return e.unshift(r[i]),n.push(t.apply(null,e)),e.shift(),n}}(e[n[i]]);for(var o="each any all".split(/\s/),s=0;s<o.length;s++)e[o[s]]=function(t){return function(){return arguments[0]instanceof Array?t.apply(null,arguments[0]):t.apply(null,arguments)}}(e[o[s]])}(),function(){var t=Date,e=(t.prototype,t.CultureInfo),n=function t(e){for(var n=[],i=0;i<e.length;i++)e[i]instanceof Array?n=n.concat(t(e[i])):e[i]&&n.push(e[i]);return n};t.Grammar={},t.Translator={hour:function(t){return function(){this.hour=Number(t)}},minute:function(t){return function(){this.minute=Number(t)}},second:function(t){return function(){this.second=Number(t)}},meridian:function(t){return function(){this.meridian=t.slice(0,1).toLowerCase()}},timezone:function(t){return function(){var e=t.replace(/[^\d\+\-]/g,"");e.length?this.timezoneOffset=Number(e):this.timezone=t.toLowerCase()}},day:function(t){var e=t[0];return function(){this.day=Number(e.match(/\d+/)[0])}},month:function(t){return function(){this.month=3==t.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(t)/4:Number(t)-1}},year:function(t){return function(){var n=Number(t);this.year=t.length>2?n:n+(n+2e3<e.twoDigitYearMax?2e3:1900)}},rday:function(t){return function(){switch(t){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(e){e=e instanceof Array?e:[e];for(var n=0;n<e.length;n++)e[n]&&e[n].call(this);var i=new Date;if(!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=i.getDate()),this.year||(this.year=i.getFullYear()),this.month||0===this.month||(this.month=i.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.meridian&&this.hour&&("p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.day>t.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var r=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?r.set({timezone:this.timezone}):this.timezoneOffset&&r.set({timezoneOffset:this.timezoneOffset}),r},finish:function(e){if(e=e instanceof Array?n(e):[e],0===e.length)return null;for(var i=0;i<e.length;i++)"function"==typeof e[i]&&e[i].call(this);var r=t.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(r=new Date);var o,s,a,l=!!(this.days&&null!==this.days||this.orient||this.operator);if(a="past"==this.orient||"subtract"==this.operator?-1:1,this.now||-1=="hour minute second".indexOf(this.unit)||r.setTimeToNow(),(this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit)&&(this.value=this.month+1,this.month=null,l=!0),!l&&this.weekday&&!this.day&&!this.days){var u=Date[this.weekday]();this.day=u.getDate(),this.month||(this.month=u.getMonth()),this.year=u.getFullYear()}if(l&&this.weekday&&"month"!=this.unit&&(this.unit="day",o=t.getDayNumberFromName(this.weekday)-r.getDay(),s=7,this.days=o?(o+a*s)%s:a*s),this.month&&"day"==this.unit&&this.operator&&(this.value=this.month+1,this.month=null),null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value),this.month&&!this.day&&this.value&&(r.set({day:1*this.value}),l||(this.day=1*this.value)),this.month||!this.value||"month"!=this.unit||this.now||(this.month=this.value,l=!0),l&&(this.month||0===this.month)&&"year"!=this.unit&&(this.unit="month",o=this.month-r.getMonth(),s=12,this.months=o?(o+a*s)%s:a*s,this.month=null),this.unit||(this.unit="day"),!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"]?this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*a:null!=this[this.unit+"s"]&&null==this.operator||(this.value||(this.value=1),this[this.unit+"s"]=this.value*a),this.meridian&&this.hour&&("p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.weekday&&!this.day&&!this.days){var u=Date[this.weekday]();this.day=u.getDate(),u.getMonth()!==r.getMonth()&&(this.month=u.getMonth())}return!this.month&&0!==this.month||this.day||(this.day=1),this.orient||this.operator||"week"!=this.unit||!this.value||this.day||this.month?(l&&this.timezone&&this.day&&this.days&&(this.day=this.days),l?r.add(this):r.set(this)):Date.today().setWeek(this.value)}};var i,r=t.Parsing.Operators,o=t.Grammar,s=t.Translator;o.datePartDelimiter=r.rtoken(/^([\s\-\.\,\/\x27]+)/),o.timePartDelimiter=r.stoken(":"),o.whiteSpace=r.rtoken(/^\s*/),o.generalDelimiter=r.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};o.ctoken=function(t){var n=a[t];if(!n){for(var i=e.regexPatterns,o=t.split(/\s+/),s=[],l=0;l<o.length;l++)s.push(r.replace(r.rtoken(i[o[l]]),o[l]));n=a[t]=r.any.apply(null,s)}return n},o.ctoken2=function(t){return r.rtoken(e.regexPatterns[t])},o.h=r.cache(r.process(r.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),s.hour)),o.hh=r.cache(r.process(r.rtoken(/^(0[0-9]|1[0-2])/),s.hour)),o.H=r.cache(r.process(r.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),s.hour)),o.HH=r.cache(r.process(r.rtoken(/^([0-1][0-9]|2[0-3])/),s.hour)),o.m=r.cache(r.process(r.rtoken(/^([0-5][0-9]|[0-9])/),s.minute)),o.mm=r.cache(r.process(r.rtoken(/^[0-5][0-9]/),s.minute)),o.s=r.cache(r.process(r.rtoken(/^([0-5][0-9]|[0-9])/),s.second)),o.ss=r.cache(r.process(r.rtoken(/^[0-5][0-9]/),s.second)),o.hms=r.cache(r.sequence([o.H,o.m,o.s],o.timePartDelimiter)),o.t=r.cache(r.process(o.ctoken2("shortMeridian"),s.meridian)),o.tt=r.cache(r.process(o.ctoken2("longMeridian"),s.meridian)),o.z=r.cache(r.process(r.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),s.timezone)),o.zz=r.cache(r.process(r.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),s.timezone)),o.zzz=r.cache(r.process(o.ctoken2("timezone"),s.timezone)),o.timeSuffix=r.each(r.ignore(o.whiteSpace),r.set([o.tt,o.zzz])),o.time=r.each(r.optional(r.ignore(r.stoken("T"))),o.hms,o.timeSuffix),o.d=r.cache(r.process(r.each(r.rtoken(/^([0-2]\d|3[0-1]|\d)/),r.optional(o.ctoken2("ordinalSuffix"))),s.day)),o.dd=r.cache(r.process(r.each(r.rtoken(/^([0-2]\d|3[0-1])/),r.optional(o.ctoken2("ordinalSuffix"))),s.day)),o.ddd=o.dddd=r.cache(r.process(o.ctoken("sun mon tue wed thu fri sat"),function(t){return function(){this.weekday=t}})),o.M=r.cache(r.process(r.rtoken(/^(1[0-2]|0\d|\d)/),s.month)),o.MM=r.cache(r.process(r.rtoken(/^(1[0-2]|0\d)/),s.month)),o.MMM=o.MMMM=r.cache(r.process(o.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),s.month)),o.y=r.cache(r.process(r.rtoken(/^(\d\d?)/),s.year)),o.yy=r.cache(r.process(r.rtoken(/^(\d\d)/),s.year)),o.yyy=r.cache(r.process(r.rtoken(/^(\d\d?\d?\d?)/),s.year)),o.yyyy=r.cache(r.process(r.rtoken(/^(\d\d\d\d)/),s.year)),i=function(){return r.each(r.any.apply(null,arguments),r.not(o.ctoken2("timeContext")))},o.day=i(o.d,o.dd),o.month=i(o.M,o.MMM),o.year=i(o.yyyy,o.yy),o.orientation=r.process(o.ctoken("past future"),function(t){return function(){this.orient=t}}),o.operator=r.process(o.ctoken("add subtract"),function(t){return function(){this.operator=t}}),o.rday=r.process(o.ctoken("yesterday tomorrow today now"),s.rday),o.unit=r.process(o.ctoken("second minute hour day week month year"),function(t){return function(){this.unit=t}}),o.value=r.process(r.rtoken(/^\d\d?(st|nd|rd|th)?/),function(t){return function(){this.value=t.replace(/\D/g,"")}}),o.expression=r.set([o.rday,o.operator,o.value,o.unit,o.orientation,o.ddd,o.MMM]),i=function(){return r.set(arguments,o.datePartDelimiter)},o.mdy=i(o.ddd,o.month,o.day,o.year),o.ymd=i(o.ddd,o.year,o.month,o.day),o.dmy=i(o.ddd,o.day,o.month,o.year),o.date=function(t){return(o[e.dateElementOrder]||o.mdy).call(this,t)},o.format=r.process(r.many(r.any(r.process(r.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(e){if(o[e])return o[e];throw t.Parsing.Exception(e)}),r.process(r.rtoken(/^[^dMyhHmstz]+/),function(t){return r.ignore(r.stoken(t))}))),function(t){return r.process(r.each.apply(null,t),s.finishExact)});var l={},u=function(t){return l[t]=l[t]||o.format(t)[0]};o.formats=function(t){if(t instanceof Array){for(var e=[],n=0;n<t.length;n++)e.push(u(t[n]));return r.any.apply(null,e)}return u(t)},o._formats=o.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]),o._start=r.process(r.set([o.date,o.time,o.expression],o.generalDelimiter,o.whiteSpace),s.finish),o.start=function(t){try{var e=o._formats.call({},t);if(0===e[1].length)return e}catch(t){}return o._start.call({},t)},t._parse=t.parse,t.parse=function(e){var n=null;if(!e)return null;if(e instanceof Date)return e;try{n=t.Grammar.start.call({},e.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(t){return null}return 0===n[1].length?n[0]:null},t.getParseFunction=function(e){var n=t.Grammar.formats(e);return function(t){var e=null;try{e=n.call({},t)}catch(t){return null}return 0===e[1].length?e[0]:null}},t.parseExact=function(e,n){return t.getParseFunction(n)(e)}}()},"./common/static/js/vendor/domReady.js":function(t,e,n){var i;void 0!==(i=function(){"use strict";function t(t){var e;for(e=0;e<t.length;e+=1)t[e](u)}function e(){var e=c;l&&e.length&&(c=[],t(e))}function n(){l||(l=!0,s&&clearInterval(s),e())}function i(t){return l?t(u):c.push(t),i}var r,o,s,a="undefined"!=typeof window&&window.document,l=!a,u=a?document:null,c=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),o=document.createElement("div");try{r=null===window.frameElement}catch(t){}o.doScroll&&r&&window.external&&(s=setInterval(function(){try{o.doScroll(),n()}catch(t){}},30))}"complete"===document.readyState&&n()}return i.version="2.0.1",i.load=function(t,e,n,r){r.isBuild?n(null):i(n)},i}.call(e,n,e,t))&&(t.exports=i)},"./common/static/js/vendor/flot/jquery.flot.min.js":function(t,e,n){(function(t){function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){t.color={},t.color.make=function(e,n,i,r){var o={};return o.r=e||0,o.g=n||0,o.b=i||0,o.a=null!=r?r:1,o.add=function(t,e){for(var n=0;n<t.length;++n)o[t.charAt(n)]+=e;return o.normalize()},o.scale=function(t,e){for(var n=0;n<t.length;++n)o[t.charAt(n)]*=e;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,e,n){return e<t?t:e>n?n:e}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return t.color.make(o.r,o.b,o.g,o.a)},o.normalize()},t.color.extract=function(e,n){var i;do{if(""!=(i=e.css(n).toLowerCase())&&"transparent"!=i)break;e=e.parent()}while(!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),t.color.parse(i)},t.color.parse=function(n){var i,r=t.color.make;if(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10));if(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]));if(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return r(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]));if(i=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]),parseFloat(i[4]));if(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return r(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16));if(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return r(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16));var o=t.trim(n).toLowerCase();return"transparent"==o?r(255,255,255,0):(i=e[o]||[0,0,0],r(i[0],i[1],i[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(t),function(t){function n(n,o,s,a){function l(t,e){e=[vt].concat(e);for(var n=0;n<t.length;++n)t[n].apply(this,e)}function u(t){nt=c(t),g(),v()}function c(e){for(var n=[],i=0;i<e.length;++i){var r=t.extend(!0,{},it.series);null!=e[i].data?(r.data=e[i].data,delete e[i].data,t.extend(!0,r,e[i]),e[i].data=r.data):r.data=e[i],n.push(r)}return n}function d(t,n){var i=t[n+"axis"];return"object"==e(i)&&(i=i.n),"number"!=typeof i&&(i=1),i}function f(){return t.grep(ut.concat(ct),function(t){return t})}function h(t){var e,n,i={};for(e=0;e<ut.length;++e)(n=ut[e])&&n.used&&(i["x"+n.n]=n.c2p(t.left));for(e=0;e<ct.length;++e)(n=ct[e])&&n.used&&(i["y"+n.n]=n.c2p(t.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function p(t){var e,n,i,r={};for(e=0;e<ut.length;++e)if((n=ut[e])&&n.used&&(i="x"+n.n,null==t[i]&&1==n.n&&(i="x"),null!=t[i])){r.left=n.p2c(t[i]);break}for(e=0;e<ct.length;++e)if((n=ct[e])&&n.used&&(i="y"+n.n,null==t[i]&&1==n.n&&(i="y"),null!=t[i])){r.top=n.p2c(t[i]);break}return r}function m(e,n){return e[n-1]||(e[n-1]={n:n,direction:e==ut?"x":"y",options:t.extend(!0,{},e==ut?it.xaxis:it.yaxis)}),e[n-1]}function g(){var e,n=nt.length,i=[],r=[];for(e=0;e<nt.length;++e){var o=nt[e].color;null!=o&&(--n,"number"==typeof o?r.push(o):i.push(t.color.parse(nt[e].color)))}for(e=0;e<r.length;++e)n=Math.max(n,r[e]+1);var s=[],a=0;for(e=0;s.length<n;){var l;l=it.colors.length==e?t.color.make(100,100,100):t.color.parse(it.colors[e]);var u=a%2==1?-1:1;l.scale("rgb",1+u*Math.ceil(a/2)*.2),s.push(l),++e,e>=it.colors.length&&(e=0,++a)}var c,f=0;for(e=0;e<nt.length;++e){if(c=nt[e],null==c.color?(c.color=s[f].toString(),++f):"number"==typeof c.color&&(c.color=s[c.color].toString()),null==c.lines.show){var h,p=!0;for(h in c)if(c[h]&&c[h].show){p=!1;break}p&&(c.lines.show=!0)}c.xaxis=m(ut,d(c,"x")),c.yaxis=m(ct,d(c,"y"))}}function v(){function e(t,e,n){e<t.datamin&&e!=-g&&(t.datamin=e),n>t.datamax&&n!=g&&(t.datamax=n)}var n,i,r,o,s,a,u,c,d,h,p=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=Number.MAX_VALUE;for(t.each(f(),function(t,e){e.datamin=p,e.datamax=m,e.used=!1}),n=0;n<nt.length;++n)s=nt[n],s.datapoints={points:[]},l(gt.processRawData,[s,s.data,s.datapoints]);for(n=0;n<nt.length;++n){s=nt[n];var v=s.data,b=s.datapoints.format;if(b||(b=[],b.push({x:!0,number:!0,required:!0}),b.push({y:!0,number:!0,required:!0}),(s.bars.show||s.lines.show&&s.lines.fill)&&(b.push({y:!0,number:!0,required:!1,defaultValue:0}),s.bars.horizontal&&(delete b[b.length-1].y,b[b.length-1].x=!0)),s.datapoints.format=b),null==s.datapoints.pointsize)for(s.datapoints.pointsize=b.length,u=s.datapoints.pointsize,a=s.datapoints.points,insertSteps=s.lines.show&&s.lines.steps,s.xaxis.used=s.yaxis.used=!0,i=r=0;i<v.length;++i,r+=u){h=v[i];var y=null==h;if(!y)for(o=0;o<u;++o)c=h[o],d=b[o],d&&(d.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=g:c==-1/0&&(c=-g)),null==c&&(d.required&&(y=!0),null!=d.defaultValue&&(c=d.defaultValue))),a[r+o]=c;if(y)for(o=0;o<u;++o)c=a[r+o],null!=c&&(d=b[o],d.x&&e(s.xaxis,c,c),d.y&&e(s.yaxis,c,c)),a[r+o]=null;else if(insertSteps&&r>0&&null!=a[r-u]&&a[r-u]!=a[r]&&a[r-u+1]!=a[r+1]){for(o=0;o<u;++o)a[r+u+o]=a[r+o];a[r+1]=a[r-u+1],r+=u}}}for(n=0;n<nt.length;++n)s=nt[n],l(gt.processDatapoints,[s,s.datapoints]);for(n=0;n<nt.length;++n){s=nt[n],a=s.datapoints.points,u=s.datapoints.pointsize;var w=p,x=p,_=m,k=m;for(i=0;i<a.length;i+=u)if(null!=a[i])for(o=0;o<u;++o)c=a[i+o],(d=b[o])&&c!=g&&c!=-g&&(d.x&&(c<w&&(w=c),c>_&&(_=c)),d.y&&(c<x&&(x=c),c>k&&(k=c)));if(s.bars.show){var C="left"==s.bars.align?0:-s.bars.barWidth/2;s.bars.horizontal?(x+=C,k+=C+s.bars.barWidth):(w+=C,_+=C+s.bars.barWidth)}e(s.xaxis,w,_),e(s.yaxis,x,k)}t.each(f(),function(t,e){e.datamin==p&&(e.datamin=null),e.datamax==m&&(e.datamax=null)})}function b(e,i){var r=document.createElement("canvas");return r.className=i,r.width=ft,r.height=ht,e||t(r).css({position:"absolute",left:0,top:0}),t(r).appendTo(n),r.getContext||(r=window.G_vmlCanvasManager.initElement(r)),r.getContext("2d").save(),r}function y(){if(ft=n.width(),ht=n.height(),ft<=0||ht<=0)throw"Invalid dimensions for plot, width = "+ft+", height = "+ht}function w(t){t.width!=ft&&(t.width=ft),t.height!=ht&&(t.height=ht);var e=t.getContext("2d");e.restore(),e.save()}function x(){yt&&clearTimeout(yt),st.unbind("mousemove",V),st.unbind("mouseleave",$),st.unbind("click",q),l(gt.shutdown,[st])}function _(t){function e(t){return t}var n,i,r=t.options.transform||e,o=t.options.inverseTransform;"x"==t.direction?(n=t.scale=pt/Math.abs(r(t.max)-r(t.min)),i=Math.min(r(t.max),r(t.min))):(n=t.scale=mt/Math.abs(r(t.max)-r(t.min)),n=-n,i=Math.max(r(t.max),r(t.min))),t.p2c=r==e?function(t){return(t-i)*n}:function(t){return(r(t)-i)*n},t.c2p=o?function(t){return o(i+t/n)}:function(t){return i+t/n}}function k(e){function i(i,r){return t('<div style="position:absolute;top:-10000px;'+r+'font-size:smaller"><div class="'+e.direction+"Axis "+e.direction+e.n+'Axis">'+i.join("")+"</div></div>").appendTo(n)}var r,o,s,a=e.options,l=e.ticks||[],u=[],c=a.labelWidth,d=a.labelHeight;if("x"==e.direction){if(null==c&&(c=Math.floor(ft/(l.length>0?l.length:1))),null==d){for(u=[],r=0;r<l.length;++r)(o=l[r].label)&&u.push('<div class="tickLabel" style="float:left;width:'+c+'px">'+o+"</div>");u.length>0&&(u.push('<div style="clear:left"></div>'),s=i(u,"width:10000px;"),d=s.height(),s.remove())}}else if(null==c||null==d){for(r=0;r<l.length;++r)(o=l[r].label)&&u.push('<div class="tickLabel">'+o+"</div>");u.length>0&&(s=i(u,""),null==c&&(c=s.children().width()),null==d&&(d=s.find("div.tickLabel").height()),s.remove())}null==c&&(c=0),null==d&&(d=0),e.labelWidth=c,e.labelHeight=d}function C(e){var n=e.labelWidth,i=e.labelHeight,r=e.options.position,o=e.options.tickLength,s=it.grid.axisMargin,a=it.grid.labelMargin,l="x"==e.direction?ut:ct,u=t.grep(l,function(t){return t&&t.options.position==r&&t.reserveSpace});t.inArray(e,u)==u.length-1&&(s=0),null==o&&(o="full");var c=t.grep(l,function(t){return t&&t.reserveSpace}),d=0==t.inArray(e,c);d||"full"!=o||(o=5),isNaN(+o)||(a+=+o),"x"==e.direction?(i+=a,"bottom"==r?(dt.bottom+=i+s,e.box={top:ht-dt.bottom,height:i}):(e.box={top:dt.top+s,height:i},dt.top+=i+s)):(n+=a,"left"==r?(e.box={left:dt.left+s,width:n},dt.left+=n+s):(dt.right+=n+s,e.box={left:ft-dt.right,width:n})),e.position=r,e.tickLength=o,e.box.padding=a,e.innermost=d}function T(t){"x"==t.direction?(t.box.left=dt.left,t.box.width=pt):(t.box.top=dt.top,t.box.height=mt)}function S(){var e,n=f();if(t.each(n,function(t,e){e.show=e.options.show,null==e.show&&(e.show=e.used),e.reserveSpace=e.show||e.options.reserveSpace,D(e)}),allocatedAxes=t.grep(n,function(t){return t.reserveSpace}),dt.left=dt.right=dt.top=dt.bottom=0,it.grid.show){for(t.each(allocatedAxes,function(t,e){E(e),N(e),M(e,e.ticks),k(e)}),e=allocatedAxes.length-1;e>=0;--e)C(allocatedAxes[e]);var i=it.grid.minBorderMargin;if(null==i)for(i=0,e=0;e<nt.length;++e)i=Math.max(i,nt[e].points.radius+nt[e].points.lineWidth/2);for(var r in dt)dt[r]+=it.grid.borderWidth,dt[r]=Math.max(i,dt[r])}pt=ft-dt.left-dt.right,mt=ht-dt.bottom-dt.top,t.each(n,function(t,e){_(e)}),it.grid.show&&(t.each(allocatedAxes,function(t,e){T(e)}),O()),W()}function D(t){var e=t.options,n=+(null!=e.min?e.min:t.datamin),i=+(null!=e.max?e.max:t.datamax),r=i-n;if(0==r){var o=0==i?1:.01;null==e.min&&(n-=o),null!=e.max&&null==e.min||(i+=o)}else{var s=e.autoscaleMargin;null!=s&&(null==e.min&&(n-=r*s)<0&&null!=t.datamin&&t.datamin>=0&&(n=0),null==e.max&&(i+=r*s)>0&&null!=t.datamax&&t.datamax<=0&&(i=0))}t.min=n,t.max=i}function E(e){var n,i=e.options;n="number"==typeof i.ticks&&i.ticks>0?i.ticks:.3*Math.sqrt("x"==e.direction?ft:ht);var o,s,a,l,u,c,d,f=(e.max-e.min)/n;if("time"==i.mode){var h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},p=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],m=0;null!=i.minTickSize&&(m="number"==typeof i.tickSize?i.tickSize:i.minTickSize[0]*h[i.minTickSize[1]]);for(var u=0;u<p.length-1&&!(f<(p[u][0]*h[p[u][1]]+p[u+1][0]*h[p[u+1][1]])/2&&p[u][0]*h[p[u][1]]>=m);++u);o=p[u][0],a=p[u][1],"year"==a&&(c=Math.pow(10,Math.floor(Math.log(f/h.year)/Math.LN10)),d=f/h.year/c,o=d<1.5?1:d<3?2:d<7.5?5:10,o*=c),e.tickSize=i.tickSize||[o,a],s=function(t){var e=[],n=t.tickSize[0],i=t.tickSize[1],o=new Date(t.min),s=n*h[i];"second"==i&&o.setUTCSeconds(r(o.getUTCSeconds(),n)),"minute"==i&&o.setUTCMinutes(r(o.getUTCMinutes(),n)),"hour"==i&&o.setUTCHours(r(o.getUTCHours(),n)),"month"==i&&o.setUTCMonth(r(o.getUTCMonth(),n)),"year"==i&&o.setUTCFullYear(r(o.getUTCFullYear(),n)),o.setUTCMilliseconds(0),s>=h.minute&&o.setUTCSeconds(0),s>=h.hour&&o.setUTCMinutes(0),s>=h.day&&o.setUTCHours(0),s>=4*h.day&&o.setUTCDate(1),s>=h.year&&o.setUTCMonth(0);var a,l=0,u=Number.NaN;do{if(a=u,u=o.getTime(),e.push(u),"month"==i)if(n<1){o.setUTCDate(1);var c=o.getTime();o.setUTCMonth(o.getUTCMonth()+1);var d=o.getTime();o.setTime(u+l*h.hour+(d-c)*n),l=o.getUTCHours(),o.setUTCHours(0)}else o.setUTCMonth(o.getUTCMonth()+n);else"year"==i?o.setUTCFullYear(o.getUTCFullYear()+n):o.setTime(u+s)}while(u<t.max&&u!=a);return e},l=function(e,n){var r=new Date(e);if(null!=i.timeformat)return t.plot.formatDate(r,i.timeformat,i.monthNames);var o=n.tickSize[0]*h[n.tickSize[1]],s=n.max-n.min,a=i.twelveHourClock?" %p":"";return fmt=o<h.minute?"%h:%M:%S"+a:o<h.day?s<2*h.day?"%h:%M"+a:"%b %d %h:%M"+a:o<h.month?"%b %d":o<h.year?s<h.year?"%b":"%b %y":"%y",t.plot.formatDate(r,fmt,i.monthNames)}}else{var g=i.tickDecimals,v=-Math.floor(Math.log(f)/Math.LN10);null!=g&&v>g&&(v=g),c=Math.pow(10,-v),d=f/c,d<1.5?o=1:d<3?(o=2,d>2.25&&(null==g||v+1<=g)&&(o=2.5,++v)):o=d<7.5?5:10,o*=c,null!=i.minTickSize&&o<i.minTickSize&&(o=i.minTickSize),e.tickDecimals=Math.max(0,null!=g?g:v),e.tickSize=i.tickSize||o,s=function(t){var e,n=[],i=r(t.min,t.tickSize),o=0,s=Number.NaN;do{e=s,s=i+o*t.tickSize,n.push(s),++o}while(s<t.max&&s!=e);return n},l=function(t,e){return t.toFixed(e.tickDecimals)}}if(null!=i.alignTicksWithAxis){var b=("x"==e.direction?ut:ct)[i.alignTicksWithAxis-1];if(b&&b.used&&b!=e){var y=s(e);if(y.length>0&&(null==i.min&&(e.min=Math.min(e.min,y[0])),null==i.max&&y.length>1&&(e.max=Math.max(e.max,y[y.length-1]))),s=function(t){var e,n,i=[];for(n=0;n<b.ticks.length;++n)e=(b.ticks[n].v-b.min)/(b.max-b.min),e=t.min+e*(t.max-t.min),i.push(e);return i},"time"!=e.mode&&null==i.tickDecimals){var w=Math.max(0,1-Math.floor(Math.log(f)/Math.LN10)),x=s(e);x.length>1&&/\..*0$/.test((x[1]-x[0]).toFixed(w))||(e.tickDecimals=w)}}}e.tickGenerator=s,t.isFunction(i.tickFormatter)?e.tickFormatter=function(t,e){return""+i.tickFormatter(t,e)}:e.tickFormatter=l}function N(n){var i=n.options.ticks,r=[];null==i||"number"==typeof i&&i>0?r=n.tickGenerator(n):i&&(r=t.isFunction(i)?i({min:n.min,max:n.max}):i);var o,s;for(n.ticks=[],o=0;o<r.length;++o){var a=null,l=r[o];"object"==e(l)?(s=+l[0],l.length>1&&(a=l[1])):s=+l,null==a&&(a=n.tickFormatter(s,n)),isNaN(s)||n.ticks.push({v:s,label:a})}}function M(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function A(){at.clearRect(0,0,ft,ht);var t=it.grid;t.show&&t.backgroundColor&&P(),t.show&&!t.aboveData&&I();for(var e=0;e<nt.length;++e)l(gt.drawSeries,[at,nt[e]]),R(nt[e]);l(gt.draw,[at]),t.show&&t.aboveData&&I()}function j(t,e){var n,r,o,s,a=f();for(i=0;i<a.length;++i)if(n=a[i],n.direction==e&&(s=e+n.n+"axis",t[s]||1!=n.n||(s=e+"axis"),t[s])){r=t[s].from,o=t[s].to;break}if(t[s]||(n="x"==e?ut[0]:ct[0],r=t[e+"1"],o=t[e+"2"]),null!=r&&null!=o&&r>o){var l=r;r=o,o=l}return{from:r,to:o,axis:n}}function P(){at.save(),at.translate(dt.left,dt.top),at.fillStyle=et(it.grid.backgroundColor,mt,0,"rgba(255, 255, 255, 0)"),at.fillRect(0,0,pt,mt),at.restore()}function I(){var e;at.save(),at.translate(dt.left,dt.top);var n=it.grid.markings;if(n){if(t.isFunction(n)){var i=vt.getAxes();i.xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,n=n(i)}for(e=0;e<n.length;++e){var r=n[e],o=j(r,"x"),s=j(r,"y");null==o.from&&(o.from=o.axis.min),null==o.to&&(o.to=o.axis.max),null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),o.to<o.axis.min||o.from>o.axis.max||s.to<s.axis.min||s.from>s.axis.max||(o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max),s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),o.from==o.to&&s.from==s.to||(o.from=o.axis.p2c(o.from),o.to=o.axis.p2c(o.to),s.from=s.axis.p2c(s.from),s.to=s.axis.p2c(s.to),o.from==o.to||s.from==s.to?(at.beginPath(),at.strokeStyle=r.color||it.grid.markingsColor,at.lineWidth=r.lineWidth||it.grid.markingsLineWidth,at.moveTo(o.from,s.from),at.lineTo(o.to,s.to),at.stroke()):(at.fillStyle=r.color||it.grid.markingsColor,at.fillRect(o.from,s.to,o.to-o.from,s.from-s.to))))}}for(var i=f(),a=it.grid.borderWidth,l=0;l<i.length;++l){var u,c,d,h,p=i[l],m=p.box,g=p.tickLength;if(p.show&&0!=p.ticks.length){for(at.strokeStyle=p.options.tickColor||t.color.parse(p.options.color).scale("a",.22).toString(),at.lineWidth=1,"x"==p.direction?(u=0,c="full"==g?"top"==p.position?0:mt:m.top-dt.top+("top"==p.position?m.height:0)):(c=0,u="full"==g?"left"==p.position?0:pt:m.left-dt.left+("left"==p.position?m.width:0)),p.innermost||(at.beginPath(),d=h=0,"x"==p.direction?d=pt:h=mt,1==at.lineWidth&&(u=Math.floor(u)+.5,c=Math.floor(c)+.5),at.moveTo(u,c),at.lineTo(u+d,c+h),at.stroke()),at.beginPath(),e=0;e<p.ticks.length;++e){var v=p.ticks[e].v;d=h=0,v<p.min||v>p.max||"full"==g&&a>0&&(v==p.min||v==p.max)||("x"==p.direction?(u=p.p2c(v),h="full"==g?-mt:g,"top"==p.position&&(h=-h)):(c=p.p2c(v),d="full"==g?-pt:g,"left"==p.position&&(d=-d)),1==at.lineWidth&&("x"==p.direction?u=Math.floor(u)+.5:c=Math.floor(c)+.5),at.moveTo(u,c),at.lineTo(u+d,c+h))}at.stroke()}}a&&(at.lineWidth=a,at.strokeStyle=it.grid.borderColor,at.strokeRect(-a/2,-a/2,pt+a,mt+a)),at.restore()}function O(){n.find(".tickLabels").remove();for(var t=['<div class="tickLabels" style="font-size:smaller">'],e=f(),i=0;i<e.length;++i){var r=e[i],o=r.box;if(r.show){t.push('<div class="'+r.direction+"Axis "+r.direction+r.n+'Axis" style="color:'+r.options.color+'">');for(var s=0;s<r.ticks.length;++s){var a=r.ticks[s];if(!(!a.label||a.v<r.min||a.v>r.max)){var l,u={};"x"==r.direction?(l="center",u.left=Math.round(dt.left+r.p2c(a.v)-r.labelWidth/2),"bottom"==r.position?u.top=o.top+o.padding:u.bottom=ht-(o.top+o.height-o.padding)):(u.top=Math.round(dt.top+r.p2c(a.v)-r.labelHeight/2),"left"==r.position?(u.right=ft-(o.left+o.width-o.padding),l="right"):(u.left=o.left+o.padding,l="left")),u.width=r.labelWidth;var c=["position:absolute","text-align:"+l];for(var d in u)c.push(d+":"+u[d]+"px");t.push('<div class="tickLabel" style="'+c.join(";")+'">'+a.label+"</div>")}}t.push("</div>")}}t.push("</div>"),n.append(t.join(""))}function R(t){t.lines.show&&B(t),t.bars.show&&F(t),t.points.show&&L(t)}function B(t){function e(t,e,n,i,r){var o=t.points,s=t.pointsize,a=null,l=null;at.beginPath();for(var u=s;u<o.length;u+=s){var c=o[u-s],d=o[u-s+1],f=o[u],h=o[u+1];if(null!=c&&null!=f){if(d<=h&&d<r.min){if(h<r.min)continue;c=(r.min-d)/(h-d)*(f-c)+c,d=r.min}else if(h<=d&&h<r.min){if(d<r.min)continue;f=(r.min-d)/(h-d)*(f-c)+c,h=r.min}if(d>=h&&d>r.max){if(h>r.max)continue;c=(r.max-d)/(h-d)*(f-c)+c,d=r.max}else if(h>=d&&h>r.max){if(d>r.max)continue;f=(r.max-d)/(h-d)*(f-c)+c,h=r.max}if(c<=f&&c<i.min){if(f<i.min)continue;d=(i.min-c)/(f-c)*(h-d)+d,c=i.min}else if(f<=c&&f<i.min){if(c<i.min)continue;h=(i.min-c)/(f-c)*(h-d)+d,f=i.min}if(c>=f&&c>i.max){if(f>i.max)continue;d=(i.max-c)/(f-c)*(h-d)+d,c=i.max}else if(f>=c&&f>i.max){if(c>i.max)continue;h=(i.max-c)/(f-c)*(h-d)+d,f=i.max}c==a&&d==l||at.moveTo(i.p2c(c)+e,r.p2c(d)+n),a=f,l=h,at.lineTo(i.p2c(f)+e,r.p2c(h)+n)}}at.stroke()}at.save(),at.translate(dt.left,dt.top),at.lineJoin="round";var n=t.lines.lineWidth,i=t.shadowSize;if(n>0&&i>0){at.lineWidth=i,at.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;e(t.datapoints,Math.sin(r)*(n/2+i/2),Math.cos(r)*(n/2+i/2),t.xaxis,t.yaxis),at.lineWidth=i/2,e(t.datapoints,Math.sin(r)*(n/2+i/4),Math.cos(r)*(n/2+i/4),t.xaxis,t.yaxis)}at.lineWidth=n,at.strokeStyle=t.color;var o=H(t.lines,t.color,0,mt);o&&(at.fillStyle=o,function(t,e,n){for(var i=t.points,r=t.pointsize,o=Math.min(Math.max(0,n.min),n.max),s=0,a=!1,l=1,u=0,c=0;!(r>0&&s>i.length+r);){s+=r;var d=i[s-r],f=i[s-r+l],h=i[s],p=i[s+l];if(a){if(r>0&&null!=d&&null==h){c=s,r=-r,l=2;continue}if(r<0&&s==u+r){at.fill(),a=!1,r=-r,l=1,s=u=c+r;continue}}if(null!=d&&null!=h){if(d<=h&&d<e.min){if(h<e.min)continue;f=(e.min-d)/(h-d)*(p-f)+f,d=e.min}else if(h<=d&&h<e.min){if(d<e.min)continue;p=(e.min-d)/(h-d)*(p-f)+f,h=e.min}if(d>=h&&d>e.max){if(h>e.max)continue;f=(e.max-d)/(h-d)*(p-f)+f,d=e.max}else if(h>=d&&h>e.max){if(d>e.max)continue;p=(e.max-d)/(h-d)*(p-f)+f,h=e.max}if(a||(at.beginPath(),at.moveTo(e.p2c(d),n.p2c(o)),a=!0),f>=n.max&&p>=n.max)at.lineTo(e.p2c(d),n.p2c(n.max)),at.lineTo(e.p2c(h),n.p2c(n.max));else if(f<=n.min&&p<=n.min)at.lineTo(e.p2c(d),n.p2c(n.min)),at.lineTo(e.p2c(h),n.p2c(n.min));else{var m=d,g=h;f<=p&&f<n.min&&p>=n.min?(d=(n.min-f)/(p-f)*(h-d)+d,f=n.min):p<=f&&p<n.min&&f>=n.min&&(h=(n.min-f)/(p-f)*(h-d)+d,p=n.min),f>=p&&f>n.max&&p<=n.max?(d=(n.max-f)/(p-f)*(h-d)+d,f=n.max):p>=f&&p>n.max&&f<=n.max&&(h=(n.max-f)/(p-f)*(h-d)+d,p=n.max),d!=m&&at.lineTo(e.p2c(m),n.p2c(f)),at.lineTo(e.p2c(d),n.p2c(f)),at.lineTo(e.p2c(h),n.p2c(p)),h!=g&&(at.lineTo(e.p2c(h),n.p2c(p)),at.lineTo(e.p2c(g),n.p2c(p)))}}}}(t.datapoints,t.xaxis,t.yaxis)),n>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis),at.restore()}function L(t){function e(t,e,n,i,r,o,s,a){for(var l=t.points,u=t.pointsize,c=0;c<l.length;c+=u){var d=l[c],f=l[c+1];null==d||d<o.min||d>o.max||f<s.min||f>s.max||(at.beginPath(),d=o.p2c(d),f=s.p2c(f)+i,"circle"==a?at.arc(d,f,e,0,r?Math.PI:2*Math.PI,!1):a(at,d,f,e,r),at.closePath(),n&&(at.fillStyle=n,at.fill()),at.stroke())}}at.save(),at.translate(dt.left,dt.top);var n=t.points.lineWidth,i=t.shadowSize,r=t.points.radius,o=t.points.symbol;if(n>0&&i>0){var s=i/2;at.lineWidth=s,at.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,r,null,s+s/2,!0,t.xaxis,t.yaxis,o),at.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,r,null,s/2,!0,t.xaxis,t.yaxis,o)}at.lineWidth=n,at.strokeStyle=t.color,e(t.datapoints,r,H(t.points,t.color),0,!1,t.xaxis,t.yaxis,o),at.restore()}function z(t,e,n,i,r,o,s,a,l,u,c,d){var f,h,p,m,g,v,b,y,w;c?(y=v=b=!0,g=!1,f=n,h=t,m=e+i,p=e+r,h<f&&(w=h,h=f,f=w,g=!0,v=!1)):(g=v=b=!0,y=!1,f=t+i,h=t+r,p=n,(m=e)<p&&(w=m,m=p,p=w,y=!0,b=!1)),h<a.min||f>a.max||m<l.min||p>l.max||(f<a.min&&(f=a.min,g=!1),h>a.max&&(h=a.max,v=!1),p<l.min&&(p=l.min,y=!1),m>l.max&&(m=l.max,b=!1),f=a.p2c(f),p=l.p2c(p),h=a.p2c(h),m=l.p2c(m),s&&(u.beginPath(),u.moveTo(f,p),u.lineTo(f,m),u.lineTo(h,m),u.lineTo(h,p),u.fillStyle=s(p,m),u.fill()),d>0&&(g||v||b||y)&&(u.beginPath(),u.moveTo(f,p+o),g?u.lineTo(f,m+o):u.moveTo(f,m+o),b?u.lineTo(h,m+o):u.moveTo(h,m+o),v?u.lineTo(h,p+o):u.moveTo(h,p+o),y?u.lineTo(f,p+o):u.moveTo(f,p+o),u.stroke()))}function F(t){at.save(),at.translate(dt.left,dt.top),at.lineWidth=t.bars.lineWidth,at.strokeStyle=t.color;var e="left"==t.bars.align?0:-t.bars.barWidth/2,n=t.bars.fill?function(e,n){return H(t.bars,t.color,e,n)}:null;!function(e,n,i,r,o,s,a){for(var l=e.points,u=e.pointsize,c=0;c<l.length;c+=u)null!=l[c]&&z(l[c],l[c+1],l[c+2],n,i,r,o,s,a,at,t.bars.horizontal,t.bars.lineWidth)}(t.datapoints,e,e+t.bars.barWidth,0,n,t.xaxis,t.yaxis),at.restore()}function H(e,n,i,r){var o=e.fill;if(!o)return null;if(e.fillColor)return et(e.fillColor,i,r,n);var s=t.color.parse(n);return s.a="number"==typeof o?o:.4,s.normalize(),s.toString()}function W(){if(n.find(".legend").remove(),it.legend.show){for(var e,i,r=[],o=!1,s=it.legend.labelFormatter,a=0;a<nt.length;++a)e=nt[a],(i=e.label)&&(a%it.legend.noColumns==0&&(o&&r.push("</tr>"),r.push("<tr>"),o=!0),s&&(i=s(i,e)),r.push('<td class="legendColorBox"><div style="border:1px solid '+it.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+e.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+i+"</td>"));if(o&&r.push("</tr>"),0!=r.length){var l='<table style="font-size:smaller;color:'+it.grid.color+'">'+r.join("")+"</table>";if(null!=it.legend.container)t(it.legend.container).html(l);else{var u="",c=it.legend.position,d=it.legend.margin;null==d[0]&&(d=[d,d]),"n"==c.charAt(0)?u+="top:"+(d[1]+dt.top)+"px;":"s"==c.charAt(0)&&(u+="bottom:"+(d[1]+dt.bottom)+"px;"),"e"==c.charAt(1)?u+="right:"+(d[0]+dt.right)+"px;":"w"==c.charAt(1)&&(u+="left:"+(d[0]+dt.left)+"px;");var f=t('<div class="legend">'+l.replace('style="','style="position:absolute;'+u+";")+"</div>").appendTo(n);if(0!=it.legend.backgroundOpacity){var h=it.legend.backgroundColor;null==h&&(h=it.grid.backgroundColor,h=h&&"string"==typeof h?t.color.parse(h):t.color.extract(f,"background-color"),h.a=1,h=h.toString());var p=f.children();t('<div style="position:absolute;width:'+p.width()+"px;height:"+p.height()+"px;"+u+"background-color:"+h+';"> </div>').prependTo(f).css("opacity",it.legend.backgroundOpacity)}}}}}function U(t,e,n){var i,r,o=it.grid.mouseActiveRadius,s=o*o+1,a=null;for(i=nt.length-1;i>=0;--i)if(n(nt[i])){var l=nt[i],u=l.xaxis,c=l.yaxis,d=l.datapoints.points,f=l.datapoints.pointsize,h=u.c2p(t),p=c.c2p(e),m=o/u.scale,g=o/c.scale;if(u.options.inverseTransform&&(m=Number.MAX_VALUE),c.options.inverseTransform&&(g=Number.MAX_VALUE),l.lines.show||l.points.show)for(r=0;r<d.length;r+=f){var v=d[r],b=d[r+1];if(null!=v&&!(v-h>m||v-h<-m||b-p>g||b-p<-g)){var y=Math.abs(u.p2c(v)-t),w=Math.abs(c.p2c(b)-e),x=y*y+w*w;x<s&&(s=x,a=[i,r/f])}}if(l.bars.show&&!a){var _="left"==l.bars.align?0:-l.bars.barWidth/2,k=_+l.bars.barWidth;for(r=0;r<d.length;r+=f){var v=d[r],b=d[r+1],C=d[r+2];null!=v&&((nt[i].bars.horizontal?h<=Math.max(C,v)&&h>=Math.min(C,v)&&p>=b+_&&p<=b+k:h>=v+_&&h<=v+k&&p>=Math.min(C,b)&&p<=Math.max(C,b))&&(a=[i,r/f]))}}}return a?(i=a[0],r=a[1],f=nt[i].datapoints.pointsize,{datapoint:nt[i].datapoints.points.slice(r*f,(r+1)*f),dataIndex:r,series:nt[i],seriesIndex:i}):null}function V(t){it.grid.hoverable&&X("plothover",t,function(t){return 0!=t.hoverable})}function $(t){it.grid.hoverable&&X("plothover",t,function(t){return!1})}function q(t){X("plotclick",t,function(t){return 0!=t.clickable})}function X(t,e,i){var r=st.offset(),o=e.pageX-r.left-dt.left,s=e.pageY-r.top-dt.top,a=h({left:o,top:s});a.pageX=e.pageX,a.pageY=e.pageY;var l=U(o,s,i);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+r.left+dt.left),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+r.top+dt.top)),it.grid.autoHighlight){for(var u=0;u<bt.length;++u){var c=bt[u];c.auto!=t||l&&c.series==l.series&&c.point[0]==l.datapoint[0]&&c.point[1]==l.datapoint[1]||J(c.series,c.point)}l&&G(l.series,l.datapoint,t)}n.trigger(t,[a,l])}function Y(){yt||(yt=setTimeout(K,30))}function K(){yt=null,lt.save(),lt.clearRect(0,0,ft,ht),lt.translate(dt.left,dt.top);var t,e;for(t=0;t<bt.length;++t)e=bt[t],e.series.bars.show?tt(e.series,e.point):Z(e.series,e.point);lt.restore(),l(gt.drawOverlay,[lt])}function G(t,e,n){if("number"==typeof t&&(t=nt[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var r=Q(t,e);-1==r?(bt.push({series:t,point:e,auto:n}),Y()):n||(bt[r].auto=!1)}function J(t,e){null==t&&null==e&&(bt=[],Y()),"number"==typeof t&&(t=nt[t]),"number"==typeof e&&(e=t.data[e]);var n=Q(t,e);-1!=n&&(bt.splice(n,1),Y())}function Q(t,e){for(var n=0;n<bt.length;++n){var i=bt[n];if(i.series==t&&i.point[0]==e[0]&&i.point[1]==e[1])return n}return-1}function Z(e,n){var i=n[0],r=n[1],o=e.xaxis,s=e.yaxis;if(!(i<o.min||i>o.max||r<s.min||r>s.max)){var a=e.points.radius+e.points.lineWidth/2;lt.lineWidth=a,lt.strokeStyle=t.color.parse(e.color).scale("a",.5).toString();var l=1.5*a,i=o.p2c(i),r=s.p2c(r);lt.beginPath(),"circle"==e.points.symbol?lt.arc(i,r,l,0,2*Math.PI,!1):e.points.symbol(lt,i,r,l,!1),lt.closePath(),lt.stroke()}}function tt(e,n){lt.lineWidth=e.bars.lineWidth,lt.strokeStyle=t.color.parse(e.color).scale("a",.5).toString();var i=t.color.parse(e.color).scale("a",.5).toString(),r="left"==e.bars.align?0:-e.bars.barWidth/2;z(n[0],n[1],n[2]||0,r,r+e.bars.barWidth,0,function(){return i},e.xaxis,e.yaxis,lt,e.bars.horizontal,e.bars.lineWidth)}function et(e,n,i,r){if("string"==typeof e)return e;for(var o=at.createLinearGradient(0,i,0,n),s=0,a=e.colors.length;s<a;++s){var l=e.colors[s];if("string"!=typeof l){var u=t.color.parse(r);null!=l.brightness&&(u=u.scale("rgb",l.brightness)),null!=l.opacity&&(u.a*=l.opacity),l=u.toString()}o.addColorStop(s/(a-1),l)}return o}var nt=[],it={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},rt=null,ot=null,st=null,at=null,lt=null,ut=[],ct=[],dt={left:0,right:0,top:0,bottom:0},ft=0,ht=0,pt=0,mt=0,gt={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},vt=this;vt.setData=u,vt.setupGrid=S,vt.draw=A,vt.getPlaceholder=function(){return n},vt.getCanvas=function(){return rt},vt.getPlotOffset=function(){return dt},vt.width=function(){return pt},vt.height=function(){return mt},vt.offset=function(){var t=st.offset();return t.left+=dt.left,t.top+=dt.top,t},vt.getData=function(){return nt},vt.getAxes=function(){var e={};return t.each(ut.concat(ct),function(t,n){n&&(e[n.direction+(1!=n.n?n.n:"")+"axis"]=n)}),e},vt.getXAxes=function(){return ut},vt.getYAxes=function(){return ct},vt.c2p=h,vt.p2c=p,vt.getOptions=function(){return it},vt.highlight=G,vt.unhighlight=J,vt.triggerRedrawOverlay=Y,vt.pointOffset=function(t){return{left:parseInt(ut[d(t,"x")-1].p2c(+t.x)+dt.left),top:parseInt(ct[d(t,"y")-1].p2c(+t.y)+dt.top)}},vt.shutdown=x,vt.resize=function(){y(),w(rt),w(ot)},vt.hooks=gt,function(){for(var e=0;e<a.length;++e){var n=a[e];n.init(vt),n.options&&t.extend(!0,it,n.options)}}(),function(e){var n;for(t.extend(!0,it,e),null==it.xaxis.color&&(it.xaxis.color=it.grid.color),null==it.yaxis.color&&(it.yaxis.color=it.grid.color),null==it.xaxis.tickColor&&(it.xaxis.tickColor=it.grid.tickColor),null==it.yaxis.tickColor&&(it.yaxis.tickColor=it.grid.tickColor),null==it.grid.borderColor&&(it.grid.borderColor=it.grid.color),null==it.grid.tickColor&&(it.grid.tickColor=t.color.parse(it.grid.color).scale("a",.22).toString()),n=0;n<Math.max(1,it.xaxes.length);++n)it.xaxes[n]=t.extend(!0,{},it.xaxis,it.xaxes[n]);for(n=0;n<Math.max(1,it.yaxes.length);++n)it.yaxes[n]=t.extend(!0,{},it.yaxis,it.yaxes[n]);for(it.xaxis.noTicks&&null==it.xaxis.ticks&&(it.xaxis.ticks=it.xaxis.noTicks),it.yaxis.noTicks&&null==it.yaxis.ticks&&(it.yaxis.ticks=it.yaxis.noTicks),it.x2axis&&(it.xaxes[1]=t.extend(!0,{},it.xaxis,it.x2axis),it.xaxes[1].position="top"),it.y2axis&&(it.yaxes[1]=t.extend(!0,{},it.yaxis,it.y2axis),it.yaxes[1].position="right"),it.grid.coloredAreas&&(it.grid.markings=it.grid.coloredAreas),it.grid.coloredAreasColor&&(it.grid.markingsColor=it.grid.coloredAreasColor),it.lines&&t.extend(!0,it.series.lines,it.lines),it.points&&t.extend(!0,it.series.points,it.points),it.bars&&t.extend(!0,it.series.bars,it.bars),null!=it.shadowSize&&(it.series.shadowSize=it.shadowSize),n=0;n<it.xaxes.length;++n)m(ut,n+1).options=it.xaxes[n];for(n=0;n<it.yaxes.length;++n)m(ct,n+1).options=it.yaxes[n];for(var i in gt)it.hooks[i]&&it.hooks[i].length&&(gt[i]=gt[i].concat(it.hooks[i]));l(gt.processOptions,[it])}(s),function(){var e,i=n.children("canvas.base"),r=n.children("canvas.overlay");0==i.length||0==r?(n.html(""),n.css({padding:0}),"static"==n.css("position")&&n.css("position","relative"),y(),rt=b(!0,"base"),ot=b(!1,"overlay"),e=!1):(rt=i.get(0),ot=r.get(0),e=!0),at=rt.getContext("2d"),lt=ot.getContext("2d"),st=t([ot,rt]),e&&(n.data("plot").shutdown(),vt.resize(),lt.clearRect(0,0,ft,ht),st.unbind(),n.children().not([rt,ot]).remove()),n.data("plot",vt)}(),u(o),S(),A(),function(){it.grid.hoverable&&(st.mousemove(V),st.mouseleave($)),it.grid.clickable&&st.click(q),l(gt.bindEvents,[st])}();var bt=[],yt=null}function r(t,e){return e*Math.floor(t/e)}t.plot=function(e,i,r){return new n(t(e),i,r,t.plot.plugins)},t.plot.version="0.7",t.plot.plugins=[],t.plot.formatDate=function(t,e,n){var i=function(t){return t=""+t,1==t.length?"0"+t:t},r=[],o=!1,s=!1,a=t.getUTCHours(),l=a<12;null==n&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),-1!=e.search(/%p|%P/)&&(a>12?a-=12:0==a&&(a=12));for(var u=0;u<e.length;++u){var c=e.charAt(u);if(o){switch(c){case"h":c=""+a;break;case"H":c=i(a);break;case"M":c=i(t.getUTCMinutes());break;case"S":c=i(t.getUTCSeconds());break;case"d":c=""+t.getUTCDate();break;case"m":c=""+(t.getUTCMonth()+1);break;case"y":c=""+t.getUTCFullYear();break;case"b":c=""+n[t.getUTCMonth()];break;case"p":c=l?"am":"pm";break;case"P":c=l?"AM":"PM";break;case"0":c="",s=!0}c&&s&&(c=i(c),s=!1),r.push(c),s||(o=!1)}else"%"==c?o=!0:r.push(c)}return r.join("")}}(t)}).call(e,n(0))},"./common/static/js/vendor/html5-input-polyfills/number-polyfill.js":function(t,e,n){(function(t){(function(){!function(t){var e;e=document.createElement("input"),e.setAttribute("type","number"),"text"===e.type?(t.fn.inputNumber=function(){var e,n,i,r,o,s,a,l;return o=function(e){var n,i,r,o,s;return n=t(e),o=n.attr("step"),r=n.attr("min"),i=n.attr("max"),s=parseFloat(n.val()),o=/^-?\d+(?:\.\d+)?$/.test(o)?parseFloat(o):null,r=/^-?\d+(?:\.\d+)?$/.test(r)?parseFloat(r):null,i=/^-?\d+(?:\.\d+)?$/.test(i)?parseFloat(i):null,isNaN(s)&&(s=r||0),{min:r,max:i,step:o,val:s}},e=function(t,e,n){return null!=n&&t>n?n:null!=e&&t<e?e:t},r=function(t){var e,n;if(null!=t){for(e=0,n=t;n!==Math.round(n);)e+=1,n=t*Math.pow(10,e);return e}return 0},a=function(t,e,n,i){var o,s,a,l,u,c,d,f,h,p;return f=r(i),null==i?t:0===f?(o=(t-(e||0))%i,0===o?t:(h=t-o,p=h+i,p>n||t-h<p-t?h:p)):(s=Math.pow(10,f),l=i*s,a=(t-(e||0))*s%l,0===a?t:(d=t*s,u=d-a,c=u+l,c/s>n||d-u<c-d?u/s:c/s))},s=function(e){var n,i,s;return t(e).is(":disabled")||(i=o(e),s=Math.pow(10,Math.max(r(i.val),r(i.step))),n=(Math.round(i.val*s)+Math.round((i.step||1)*s))/s,null!=i.max&&n>i.max&&(n=i.max),n=a(n,i.min,i.max,i.step),t(e).val(n).change()),null},n=function(e){var n,i,s;return t(e).is(":disabled")||(i=o(e),s=Math.pow(10,Math.max(r(i.val),r(i.step))),n=(Math.round(i.val*s)-Math.round((i.step||1)*s))/s,null!=i.min&&n<i.min&&(n=i.min),n=a(n,i.min,i.max,i.step),t(e).val(n).change()),null},i=function(t){return t.preventDefault(),t.originalEvent.detail<0?s(this):n(this),null},l=function(t){return t.preventDefault(),t.originalEvent.wheelDelta>0?s(this):n(this),null},t(this).filter('input[type="number"]').each(function(){var r,u,c,d,f,h,p,m,g,v;return m=this,u=t(m),g=u.outerHeight()/6+"px",v=document.createElement("div"),p=document.createElement("div"),c=t(v),r=t(p),h=document.createElement("div"),c.addClass("number-spin-btn number-spin-btn-up").css("height",g),r.addClass("number-spin-btn number-spin-btn-down").css("height",g),h.appendChild(v),h.appendChild(p),t(h).addClass("number-spin-btn-container").insertAfter(m),u.on({focus:function(t){return u.on({DOMMouseScroll:i,mousewheel:l}),null},blur:function(t){return u.off({DOMMouseScroll:i,mousewheel:l}),null},keypress:function(t){var e,i;return 38===t.keyCode?s(this):40===t.keyCode?n(this):8!==(e=t.keyCode)&&9!==e&&35!==e&&36!==e&&37!==e&&39!==e&&45!==(i=t.which)&&46!==i&&48!==i&&49!==i&&50!==i&&51!==i&&52!==i&&53!==i&&54!==i&&55!==i&&56!==i&&57!==i&&t.preventDefault(),null},change:function(n){var i,r;return null!=n.originalEvent&&(r=o(this),i=e(r.val,r.min,r.max),i=a(i,r.min,r.max,r.step,r.stepDecimal),t(this).val(i)),null}}),c.on("mousedown",function(e){var n,i;return s(m),i=function(t,e){return e(t),u.data("timeoutID",window.setTimeout(i,10,t,e)),null},n=function(e){return window.clearTimeout(u.data("timeoutID")),t(document).off("mouseup",n),c.off("mouseleave",n),null},t(document).on("mouseup",n),c.on("mouseleave",n),u.data("timeoutID",window.setTimeout(i,700,m,s)),null}),r.on("mousedown",function(e){var i,o;return n(m),o=function(t,e){return e(t),u.data("timeoutID",window.setTimeout(o,10,t,e)),null},i=function(e){return window.clearTimeout(u.data("timeoutID")),t(document).off("mouseup",i),r.off("mouseleave",i),null},t(document).on("mouseup",i),r.on("mouseleave",i),u.data("timeoutID",window.setTimeout(o,700,m,n)),null}),u.css("textAlign","left"),"1"!==u.css("opacity")&&t(h).css("opacity",u.css("opacity")),"visible"!==u.css("visibility")&&t(h).css("visibility",u.css("visibility")),""!==m.style.display&&t(h).css("display",u.css("display")),"undefined"!=typeof WebKitMutationObserver&&null!==WebKitMutationObserver||"undefined"!=typeof MutationObserver&&null!==MutationObserver?(d=function(e,n){var i,r,o;for(r=0,o=e.length;r<o;r++)i=e[r],"attributes"===i.type&&("class"===i.attributeName?t(h).removeClass(i.oldValue).addClass(m.className):"style"===i.attributeName&&t(h).css({opacity:m.style.opacity,visibility:m.style.visibility,display:m.style.display}));return null},f="undefined"!=typeof WebKitMutationObserver&&null!==WebKitMutationObserver?new WebKitMutationObserver(d):"undefined"!=typeof MutationObserver&&null!==MutationObserver?new MutationObserver(d):null,f.observe(m,{attributes:!0,attributeOldValue:!0,attributeFilter:["class","style"]})):"undefined"!=typeof MutationEvent&&null!==MutationEvent&&u.on("DOMAttrModified",function(e){return"class"===e.originalEvent.attrName?t(h).removeClass(e.originalEvent.prevValue).addClass(e.originalEvent.newValue):"style"===e.originalEvent.attrName&&t(h).css({display:m.style.display,visibility:m.style.visibility,opacity:m.style.opacity}),null}),null}),t(this)},t(function(){return t('input[type="number"]').inputNumber(),null})):t.fn.inputNumber=function(){return t(this)}}(t)}).call(this)}).call(e,n(0))},"./common/static/js/vendor/jquery-ui.min.js":function(t,e,n){(function(t){function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}/*! jQuery UI - v1.10.0 - 2013-01-23
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright (c) 2013 jQuery Foundation and other contributors Licensed MIT */
!function(t,e){function n(e,n){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(!!(s=t("img[usemap=#"+o+"]")[0])&&i(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.10.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({_focus:t.fn.focus,focus:function(e,n){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){t(i).focus(),n&&n.call(i)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,r,o=t(this[0]);o.length&&o[0]!==document;){if(("absolute"===(i=o.css("position"))||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function r(e,n,i,r){return t.each(o,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?a["inner"+i].call(this):this.each(function(){t(this).css(s,r(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(s,r(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)}}))}(t),function(t,e){var n=0,i=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var n,i=0;null!=(n=e[i]);i++)try{t(n).triggerHandler("remove")}catch(t){}r(e)},t.widget=function(e,n,i){var r,o,s,a,l={},u=e.split(".")[0];e=e.split(".")[1],r=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[u]=t[u]||{},o=t[u][e],s=t[u][e]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){if(!t.isFunction(i))return void(l[e]=i);l[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:e},l,{constructor:s,namespace:u,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s)},t.widget.extend=function(n){for(var r,o,s=i.call(arguments,1),a=0,l=s.length;a<l;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==e&&(t.isPlainObject(o)?n[r]=t.isPlainObject(n[r])?t.widget.extend({},n[r],o):t.widget.extend({},o):n[r]=o);return n},t.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;t.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),u=this;return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var i,r=t.data(this,o);return r?t.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,l),i!==r&&i!==e?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+s+"' for "+n+" widget instance"):t.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(s||{})._init():t.data(this,o,new r(s,this))}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(n,i){var r,o,s,a=n;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(o=a[n]=t.widget.extend({},this.options[n]),s=0;s<r.length-1;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(n=r.pop(),i===e)return o[n]===e?null:o[n];o[n]=i}else{if(i===e)return this.options[n]===e?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^(\w+)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.delegate(c,u,a):n.bind(u,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent,o)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}})}(t),function(t,e){var n=!1;t(document).mouseup(function(){n=!1}),t.widget("ui.mouse",{version:"1.10.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!n){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,r=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),n=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(t),function(t,e){function n(t,e,n){return[parseInt(t[0],10)*(h.test(t[0])?e/100:1),parseInt(t[1],10)*(h.test(t[1])?n/100:1)]}function i(e,n){return parseInt(t.css(e,n),10)||0}function r(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,s=Math.max,a=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+%?/,f=/^\w+/,h=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,n,i=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=i.children()[0];return t("body").append(i),e=r.offsetWidth,i.css("overflow","scroll"),n=r.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),o=e-n},getScrollInfo:function(e){var n=e.isWindow?"":e.element.css("overflow-x"),i=e.isWindow?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:r?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return p.apply(this,arguments);e=t.extend({},e);var o,h,m,g,v,b,y=t(e.of),w=t.position.getWithinInfo(e.within),x=t.position.getScrollInfo(w),_=(e.collision||"flip").split(" "),k={};return b=r(y),y[0].preventDefault&&(e.at="left top"),h=b.width,m=b.height,g=b.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=u.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=u.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",t=d.exec(i[0]),n=d.exec(i[1]),k[this]=[t?t[0]:0,n?n[0]:0],e[this]=[f.exec(i[0])[0],f.exec(i[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===e.at[0]?v.left+=h:"center"===e.at[0]&&(v.left+=h/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),o=n(k.at,h,m),v.left+=o[0],v.top+=o[1],this.each(function(){var r,u,c=t(this),d=c.outerWidth(),f=c.outerHeight(),p=i(this,"marginLeft"),b=i(this,"marginTop"),C=d+p+i(this,"marginRight")+x.width,T=f+b+i(this,"marginBottom")+x.height,S=t.extend({},v),D=n(k.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?S.left-=d:"center"===e.my[0]&&(S.left-=d/2),"bottom"===e.my[1]?S.top-=f:"center"===e.my[1]&&(S.top-=f/2),S.left+=D[0],S.top+=D[1],t.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),r={marginLeft:p,marginTop:b},t.each(["left","top"],function(n,i){t.ui.position[_[n]]&&t.ui.position[_[n]][i](S,{targetWidth:h,targetHeight:m,elemWidth:d,elemHeight:f,collisionPosition:r,collisionWidth:C,collisionHeight:T,offset:[o[0]+D[0],o[1]+D[1]],my:e.my,at:e.at,within:w,elem:c})}),e.using&&(u=function(t){var n=g.left-S.left,i=n+h-d,r=g.top-S.top,o=r+m-f,l={target:{element:y,left:g.left,top:g.top,width:h,height:m},element:{element:c,left:S.left,top:S.top,width:d,height:f},horizontal:i<0?"left":n>0?"right":"center",vertical:o<0?"top":r>0?"bottom":"middle"};h<d&&a(n+i)<h&&(l.horizontal="center"),m<f&&a(r+o)<m&&(l.vertical="middle"),s(a(n),a(i))>s(a(r),a(o))?l.important="horizontal":l.important="vertical",e.using.call(this,t,l)}),c.offset(t.extend(S,{using:u}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,u=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&u<=0?(n=t.left+l+e.collisionWidth-o-r,t.left+=l-n):t.left=u>0&&l<=0?r:l>u?r+o-e.collisionWidth:r:l>0?t.left+=l:u>0?t.left-=u:t.left=s(t.left-a,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,u=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&u<=0?(n=t.top+l+e.collisionHeight-o-r,t.top+=l-n):t.top=u>0&&l<=0?r:l>u?r+o-e.collisionHeight:r:l>0?t.top+=l:u>0?t.top-=u:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,d=u+e.collisionWidth-s-l,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,h="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?((n=t.left+f+h+p+e.collisionWidth-s-o)<0||n<a(c))&&(t.left+=f+h+p):d>0&&((i=t.left-e.collisionPosition.marginLeft+f+h+p-l)>0||a(i)<d)&&(t.left+=f+h+p)},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,d=u+e.collisionHeight-s-l,f="top"===e.my[1],h=f?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];c<0?(i=t.top+h+p+m+e.collisionHeight-s-o,t.top+h+p+m>c&&(i<0||i<a(c))&&(t.top+=h+p+m)):d>0&&(n=t.top-e.collisionPosition.marginTop+h+p+m-l,t.top+h+p+m>d&&(n>0||a(n)<d)&&(t.top+=h+p+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)e.style[o]=i[o];e.appendChild(a),n=s||document.documentElement,n.insertBefore(e,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=t(a).offset().left,t.support.offsetFractions=r>10&&r<11,e.innerHTML="",n.removeChild(e)}()}(t),function(t,e){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===n.iframeFix?"iframe":n.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,n){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n,i=this,r=!1,o=!1;for(t.ui.ddmanager&&!this.options.dropBehaviour&&(o=t.ui.ddmanager.drop(this,e)),this.dropped&&(o=this.dropped,this.dropped=!1),n=this.element[0];n&&(n=n.parentNode);)n===document&&(r=!0);return!(!r&&"original"===this.options.helper)&&("invalid"===this.options.revert&&!o||"valid"===this.options.revert&&o||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,o)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1)},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var n=!this.options.handle||!t(this.options.handle,this.element).length;return t(this.options.handle,this.element).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]!==this.element[0]&&!/(fixed|absolute)/.test(i.css("position"))&&i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;if("parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=["document"===r.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===r.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===r.containment?0:t(window).scrollLeft())+t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===r.containment?0:t(window).scrollTop())+(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||r.containment.constructor===Array)r.containment.constructor===Array&&(this.containment=r.containment);else{if(n=t(r.containment),!(i=n[0]))return;e="hidden"!==t(i).css("overflow"),this.containment=[(parseInt(t(i).css("borderLeftWidth"),10)||0)+(parseInt(t(i).css("paddingLeft"),10)||0),(parseInt(t(i).css("borderTopWidth"),10)||0)+(parseInt(t(i).css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t(i).css("borderLeftWidth"),10)||0)-(parseInt(t(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t(i).css("borderTopWidth"),10)||0)-(parseInt(t(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r,o,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName),u=e.pageX,c=e.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n){var i=t(this).data("ui-draggable"),r=i.options,o=t.extend({},n,{item:i.element});i.sortables=[],t(r.connectToSortable).each(function(){var n=t.data(this,"ui-sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",e,o))})},stop:function(e,n){var i=t(this).data("ui-draggable"),r=t.extend({},n,{item:i.element});t.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,r))})},drag:function(e,n){var i=t(this).data("ui-draggable"),r=this;t.each(i.sortables,function(){var o=!1,s=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&t.ui.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",e),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",e),i.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),n=t(this).data("ui-draggable").options;e.css("cursor")&&(n._cursor=e.css("cursor")),e.css("cursor",n.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n){var i=t(n.helper),r=t(this).data("ui-draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(e,n){var i=t(this).data("ui-draggable").options;i._opacity&&t(n.helper).css("opacity",i._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var n=t(this).data("ui-draggable"),i=n.options,r=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-t(document).scrollTop()<i.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<i.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-t(document).scrollLeft()<i.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<i.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+i.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),n=e.options;e.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=t(this),i=n.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(e,n){var i,r,o,s,a,l,u,c,d,f,h=t(this).data("ui-draggable"),p=h.options,m=p.snapTolerance,g=n.offset.left,v=g+h.helperProportions.width,b=n.offset.top,y=b+h.helperProportions.height;for(d=h.snapElements.length-1;d>=0;d--)a=h.snapElements[d].left,l=a+h.snapElements[d].width,u=h.snapElements[d].top,c=u+h.snapElements[d].height,a-m<g&&g<l+m&&u-m<b&&b<c+m||a-m<g&&g<l+m&&u-m<y&&y<c+m||a-m<v&&v<l+m&&u-m<b&&b<c+m||a-m<v&&v<l+m&&u-m<y&&y<c+m?("inner"!==p.snapMode&&(i=Math.abs(u-y)<=m,r=Math.abs(c-b)<=m,o=Math.abs(a-v)<=m,s=Math.abs(l-g)<=m,i&&(n.position.top=h._convertPositionTo("relative",{top:u-h.helperProportions.height,left:0}).top-h.margins.top),r&&(n.position.top=h._convertPositionTo("relative",{top:c,left:0}).top-h.margins.top),o&&(n.position.left=h._convertPositionTo("relative",{top:0,left:a-h.helperProportions.width}).left-h.margins.left),s&&(n.position.left=h._convertPositionTo("relative",{top:0,left:l}).left-h.margins.left)),f=i||r||o||s,"outer"!==p.snapMode&&(i=Math.abs(u-b)<=m,r=Math.abs(c-y)<=m,o=Math.abs(a-g)<=m,s=Math.abs(l-v)<=m,i&&(n.position.top=h._convertPositionTo("relative",{top:u,left:0}).top-h.margins.top),r&&(n.position.top=h._convertPositionTo("relative",{top:c-h.helperProportions.height,left:0}).top-h.margins.top),o&&(n.position.left=h._convertPositionTo("relative",{top:0,left:a}).left-h.margins.left),s&&(n.position.left=h._convertPositionTo("relative",{top:0,left:l-h.helperProportions.width}).left-h.margins.left)),!h.snapElements[d].snapping&&(i||r||o||s||f)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,e,t.extend(h._uiHash(),{snapItem:h.snapElements[d].item})),h.snapElements[d].snapping=i||r||o||s||f):(h.snapElements[d].snapping&&h.options.snap.release&&h.options.snap.release.call(h.element,e,t.extend(h._uiHash(),{snapItem:h.snapElements[d].item})),h.snapElements[d].snapping=!1)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,n=t(this).data("ui-draggable").options,i=t.makeArray(t(n.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});i.length&&(e=parseInt(i[0].style.zIndex,10)||0,t(i).each(function(t){this.style.zIndex=e+t}),this[0].style.zIndex=e+i.length)}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n){var i=t(n.helper),r=t(this).data("ui-draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(e,n){var i=t(this).data("ui-draggable").options;i._zIndex&&t(n.helper).css("zIndex",i._zIndex)}})}(t),function(t,e){function n(t,e,n){return t>e&&t<e+n}t.widget("ui.droppable",{version:"1.10.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,n=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,n=t.ui.ddmanager.droppables[this.options.scope];e<n.length;e++)n[e]===this&&n.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){"accept"===e&&(this.accept=t.isFunction(n)?n:function(t){return t.is(n)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope===i.options.scope&&e.accept.call(e.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(e,{offset:e.element.offset()}),e.options.tolerance))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,e,i){if(!e.offset)return!1;var r,o,s=(t.positionAbs||t.position.absolute).left,a=s+t.helperProportions.width,l=(t.positionAbs||t.position.absolute).top,u=l+t.helperProportions.height,c=e.offset.left,d=c+e.proportions.width,f=e.offset.top,h=f+e.proportions.height;switch(i){case"fit":return c<=s&&a<=d&&f<=l&&u<=h;case"intersect":return c<s+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&f<l+t.helperProportions.height/2&&u-t.helperProportions.height/2<h;case"pointer":return r=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,o=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,n(o,f,e.proportions.height)&&n(r,c,e.proportions.width);case"touch":return(l>=f&&l<=h||u>=f&&u<=h||l<f&&u>h)&&(s>=c&&s<=d||a>=c&&a<=d||s<c&&a>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions.height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions={width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight})}},drop:function(e,n){var i=!1;return t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=t.ui.intersect(e,this,this.options.tolerance),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===r}),o.length&&(i=t.data(o[0],"ui-droppable"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}}}(t),function(t,n){function i(t){return parseInt(t,10)||0}function r(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,n,i,r,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;n<e.length;n++)i=t.trim(e[n]),o="ui-resizable-"+i,r=t("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:a.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=t(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),t(this.handles[n]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,r,o,s=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=i(this.helper.css("left")),r=i(this.helper.css("top")),s.containment&&(n+=t(s.containment).scrollLeft()||0,r+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i=this.helper,r={},o=this.originalMousePosition,s=this.axis,a=this.position.top,l=this.position.left,u=this.size.width,c=this.size.height,d=e.pageX-o.left||0,f=e.pageY-o.top||0,h=this._change[s];return!!h&&(n=h.apply(this,[e,d,f]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),this.position.top!==a&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==u&&(r.width=this.size.width+"px"),this.size.height!==c&&(r.height=this.size.height+"px"),i.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(r)||this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,u=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&t.ui.hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,s={width:c.helper.width()-o,height:c.helper.height()-r},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(s,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,i,o,s,a=this.options;s={minWidth:r(a.minWidth)?a.minWidth:0,maxWidth:r(a.maxWidth)?a.maxWidth:1/0,minHeight:r(a.minHeight)?a.minHeight:0,maxHeight:r(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,i=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),i>s.minHeight&&(s.minHeight=i),n<s.maxWidth&&(s.maxWidth=n),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),r(t.left)&&(this.position.left=t.left),r(t.top)&&(this.position.top=t.top),r(t.height)&&(this.size.height=t.height),r(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return r(t.height)?t.width=t.height*this.aspectRatio:r(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=r(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=r(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=r(t.width)&&e.minWidth&&e.minWidth>t.width,a=r(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,c=/sw|nw|w/.test(n),d=/nw|ne|n/.test(n);return s&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),s&&c&&(t.left=l-e.minWidth),i&&c&&(t.left=l-e.maxWidth),a&&d&&(t.top=u-e.minHeight),o&&d&&(t.top=u-e.maxHeight),t.width||t.height||t.left||!t.top?!t.width&&!t.height&&!t.top&&t.left&&(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,n,i,r,o=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){if(r=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],n=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],i=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],e=0;e<n.length;e++)this.borderDif[e]=(parseInt(n[e],10)||0)+(parseInt(i[e],10)||0);r.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).data("ui-resizable"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&t.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,r,o,s,a,l,u=t(this).data("ui-resizable"),c=u.options,d=u.element,f=c.containment,h=f instanceof t?f.get(0):/parent/.test(f)?d.parent().get(0):f;h&&(u.containerElement=t(h),/document/.test(f)||f===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,r){n[t]=i(e.css("padding"+r))}),u.containerOffset=e.offset(),u.containerPosition=e.position(),u.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},r=u.containerOffset,o=u.containerSize.height,s=u.containerSize.width,a=t.ui.hasScroll(h,"left")?h.scrollWidth:s,l=t.ui.hasScroll(h)?h.scrollHeight:o,u.parentData={element:h,left:r.left,top:r.top,width:a,height:l}))},resize:function(e){var n,i,r,o,s=t(this).data("ui-resizable"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||e.shiftKey,d={top:0,left:0},f=s.containerElement;f[0]!==document&&/static/.test(f.css("position"))&&(d=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),c&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?l.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,n=Math.abs((s._helper,s.offset.left-d.left+s.sizeDiff.width)),i=Math.abs((s._helper?s.offset.top-d.top:s.offset.top-l.top)+s.sizeDiff.height),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o&&(n-=s.parentData.left),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,u=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var n=t(this).data("ui-resizable"),i=n.options,r=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=e(i.alsoResize)||i.alsoResize.parentNode?r(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],r(i.alsoResize)):t.each(i.alsoResize,function(t){r(t)})},resize:function(n,i){var r=t(this).data("ui-resizable"),o=r.options,s=r.originalSize,a=r.originalPosition,l={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-a.top||0,left:r.position.left-a.left||0},u=function(e,n){t(e).each(function(){var e=t(this),r=t(this).data("ui-resizable-alsoresize"),o={},s=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(s,function(t,e){var n=(r[e]||0)+(l[e]||0);n&&n>=0&&(o[e]=n||null)}),e.css(o)})};"object"!=e(o.alsoResize)||o.alsoResize.nodeType?u(o.alsoResize):t.each(o.alsoResize,function(t,e){u(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),n=e.options,i=e.size,r=e.originalSize,o=e.originalPosition,s=e.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=a[0]||1,u=a[1]||1,c=Math.round((i.width-r.width)/l)*l,d=Math.round((i.height-r.height)/u)*u,f=r.width+c,h=r.height+d,p=n.maxWidth&&n.maxWidth<f,m=n.maxHeight&&n.maxHeight<h,g=n.minWidth&&n.minWidth>f,v=n.minHeight&&n.minHeight>h;n.grid=a,g&&(f+=l),v&&(h+=u),p&&(f-=l),m&&(h-=u),/^(se|s|e)$/.test(s)?(e.size.width=f,e.size.height=h):/^(ne)$/.test(s)?(e.size.width=f,e.size.height=h,e.position.top=o.top-d):/^(sw)$/.test(s)?(e.size.width=f,e.size.height=h,e.position.left=o.left-c):(e.size.width=f,e.size.height=h,e.position.top=o.top-d,e.position.left=o.left-c)}})}(t),function(t,e){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(n.options.filter,n.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,!e.metaKey&&!e.ctrlKey&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),u=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?u=!(n.left>a||n.right<o||n.top>l||n.bottom<s):"fit"===r.tolerance&&(u=n.left>o&&n.right<a&&n.top>s&&n.bottom<l),u?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&!e.metaKey&&!e.ctrlKey&&!n.startselected&&(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(t),function(t,e){function n(t,e,n){return t>e&&t<e+n}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,n){"disabled"===e?(this.options[e]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&(t("body").css("cursor")&&(this._storedCursor=t("body").css("cursor")),t("body").css("cursor",o.cursor)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&(i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r)))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset();this.reverting=!0,t(this.helper).animate({left:r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),top:r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,d=i+u>a&&i+u<l&&e+c>o&&e+c<s;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||n(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||n(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=e&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!r&&(this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var e=n(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=n(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&e||"up"===r&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,s=[],a=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(r=t(l[n]),i=r.length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(function(){s.push(this)});return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=t(f[n]),i=r.length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(d.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(s=d[n][1],a=d[n][0],i=0,u=a.length;i<u;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t(document.createElement(e.currentItem[0].nodeName)).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return n||(i.style.visibility="hidden"),i},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var n,i,r,o,s,a,l,u,c,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1;else{for(r=1e4,o=null,s=this.containers[f].floating?"left":"top",a=this.containers[f].floating?"width":"height",l=this.positionAbs[s]+this.offset.click[s],i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(u=this.items[i].item.offset()[s],c=!1,Math.abs(u-l)>Math.abs(u+this.items[i][a]-l)&&(c=!0,u+=this.items[i][a]),Math.abs(u-l)<r&&(r=Math.abs(u-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[f],o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"===this.cssPosition&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,n){this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!n&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!n&&r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(n||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)n||r.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&t("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){for(this._trigger("beforeStop",e,this._uiHash()),i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(n||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}(t),function(t,e){var n=0,i={},r={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",r.height=r.paddingTop=r.paddingBottom=r.borderTopWidth=r.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.0",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),!e.collapsible&&(!1===e.active||null==e.active)&&(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){if("active"===t)return void this._activate(e);"event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"===t&&!e&&!1===this.options.active&&this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),(!1===e.active&&!0===e.collapsible||!this.headers.length)&&(e.active=!1,this.active=t()),!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,i=this.options,r=i.heightStyle,o=this.element.parent(),s=this.accordionId="ui-accordion-"+(this.element.attr("id")||++n);this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var n=t(this),i=n.attr("id"),r=n.next(),o=r.attr("id");i||(i=s+"-header-"+e,n.attr("id",i)),o||(o=s+"-panel-"+e,r.attr("id",o)),n.attr("aria-controls",o),r.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===r?(e=o.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===r&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r[0]===i[0],s=o&&n.collapsible,a=s?t():r.next(),l=i.next(),u={oldHeader:i,oldPanel:l,newHeader:s?t():r,newPanel:a};e.preventDefault(),o&&!n.collapsible||!1===this._trigger("beforeActivate",e,u)||(n.active=!s&&this.headers.index(r),this.active=o?t():r,this._toggle(u),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-expanded":"false","aria-hidden":"true"}),i.prev().attr("aria-selected","false"),n.length&&i.length?i.prev().attr("tabIndex",-1):n.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,e,n){var o,s,a,l=this,u=0,c=t.length&&(!e.length||t.index()<e.index()),d=this.options.animate||{},f=c&&d.down||d,h=function(){l._toggleComplete(n)};return"number"==typeof f&&(a=f),"string"==typeof f&&(s=f),s=s||f.easing||d.easing,a=a||f.duration||d.duration,e.length?t.length?(o=t.show().outerHeight(),e.animate(i,{duration:a,easing:s,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(r,{duration:a,easing:s,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?u+=n.now:"content"!==l.options.heightStyle&&(n.now=Math.round(o-e.outerHeight()-u),u=0)}}),void 0):e.animate(i,a,s,h):t.animate(r,a,s,h)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(t),function(t,e){var n=0;t.widget("ui.autocomplete",{version:"1.10.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,n,i;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,n=!0,void 0;e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void i.preventDefault();if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(t),this._change(t)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete").appendTo(this._appendTo()).menu({input:t(),role:null}).zIndex(this.element.zIndex()+1).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(i){i.target!==e.element[0]&&i.target!==n&&!t.contains(n,i.target)&&e.close()})})},menufocus:function(e,n){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var i=n.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:i})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,e=++n;return function(i){e===n&&t.__response(i),--t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,e),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<a>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(t),function(t,e){var n,i,r,o,s="ui-button ui-widget ui-state-default ui-corner-all",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this).find(":ui-button");setTimeout(function(){e.button("refresh")},1)},u=function(e){var n=e.name,i=e.form,r=t([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?t(i).find("[name='"+n+"']"):t("[name='"+n+"']",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.10.0",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,a=this.options,c="checkbox"===this.type||"radio"===this.type,d=c?"":"ui-state-active",f="ui-state-focus";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===n&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||t(this).removeClass(d)}).bind("click"+this.eventNamespace,function(t){a.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(f)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(f)}),c&&(this.element.bind("change"+this.eventNamespace,function(){o||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){a.disabled||(o=!1,i=t.pageX,r=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){a.disabled||i===t.pageX&&r===t.pageY||(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||o)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||o)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var n=e.element[0];u(n).not(n).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(a.disabled)return!1;t(this).addClass("ui-state-active"),n=this,e.document.one("mouseup",function(){n=null})}).bind("mouseup"+this.eventNamespace,function(){if(a.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(a.disabled)return!1;(e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" ui-state-hover ui-state-active  "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?u(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(a),n=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(n)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.0",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(t),function(t,n){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=r(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(n,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",function(){t.datepicker._isDisabledDatepicker(s.inline?e.parent()[0]:s.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function o(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}t.extend(t.ui,{datepicker:{version:"1.10.0"}});var s,a="datepicker",l=(new Date).getTime();t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return o(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?r(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),t.data(e,a,n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),("focus"===(i=this._get(n,"showOn"))||"both"===i)&&e.focus(this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](n.trigger),n.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,a,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,s){var l,u,c,d,f,h=this._dialogInst;return h||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],a,h)),o(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(u=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,f=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+d,c/2-150+f]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],a,h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,a);i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,a),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,a);r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,a);r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,a)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,r){var s,a,l,u,c=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):c?"all"===i?t.extend({},c.settings):this._get(c,i):null;s=i||{},"string"==typeof i&&(s={},s[i]=r),c&&(this._curInst===c&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),l=this._getMinMaxDate(c,"min"),u=this._getMinMaxDate(c,"max"),o(c.settings,s),null!==l&&s.dateFormat!==n&&s.minDate===n&&(c.settings.minDate=this._formatDate(c,l)),null!==u&&s.dateFormat!==n&&s.maxDate===n&&(c.settings.maxDate=this._formatDate(c,u)),"disabled"in s&&(s.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,a),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),n=t.datepicker._get(o,"onSelect"),n?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var n,i,r,s,a,l,u;n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),i=t.datepicker._get(n,"beforeShow"),r=i?i.apply(e,[e,n]):{},!1!==r&&(o(n.settings,r),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return!(s|="fixed"===t(this).css("position"))}),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),a=t.datepicker._checkOffset(n,a,s),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(l=t.datepicker._get(n,"showAnim"),u=t.datepicker._get(n,"duration"),n.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?n.dpDiv.show(l,t.datepicker._get(n,"showOptions"),u):n.dpDiv[l||"show"](l?u:null),n.input.is(":visible")&&!n.input.is(":disabled")&&n.input.focus(),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,s=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,i=this._getNumberOfMonths(e),r=i[1];e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!==document.activeElement&&e.input.focus(),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;!s||e&&s!==t.data(e,a)||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(n,i){var r,o=t(n),s=this._getInst(o[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),r=this._get(s,"onSelect"),r?r.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=e(s.input[0])&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(n,i,r){if(null==n||null==i)throw"Invalid arguments";if(""===(i="object"==e(i)?i.toString():i+""))return null;var o,s,a,l,u=0,c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),f=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,h=(r?r.dayNames:null)||this._defaults.dayNames,p=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,m=(r?r.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,b=-1,y=-1,w=!1,x=function(t){var e=o+1<n.length&&n.charAt(o+1)===t;return e&&o++,e},_=function(t){var e=x(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=new RegExp("^\\d{1,"+n+"}"),o=i.substring(u).match(r);if(!o)throw"Missing number at position "+u;return u+=o[0].length,parseInt(o[0],10)},k=function(e,n,r){var o=-1,s=t.map(x(e)?r:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var n=e[1];if(i.substr(u,n.length).toLowerCase()===n.toLowerCase())return o=e[0],u+=n.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+u},C=function(){if(i.charAt(u)!==n.charAt(o))throw"Unexpected literal at position "+u;u++};for(o=0;o<n.length;o++)if(w)"'"!==n.charAt(o)||x("'")?C():w=!1;else switch(n.charAt(o)){case"d":b=_("d");break;case"D":k("D",f,h);break;case"o":y=_("o");break;case"m":v=_("m");break;case"M":v=k("M",p,m);break;case"y":g=_("y");break;case"@":l=new Date(_("@")),g=l.getFullYear(),v=l.getMonth()+1,b=l.getDate();break;case"!":l=new Date((_("!")-this._ticksTo1970)/1e4),g=l.getFullYear(),v=l.getMonth()+1,b=l.getDate();break;case"'":x("'")?C():w=!0;break;default:C()}if(u<i.length&&(a=i.substr(u),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=d?0:-100)),y>-1)for(v=1,b=y;;){if(s=this._getDaysInMonth(g,v-1),b<=s)break;v++,b-=s}if(l=this._daylightSavingAdjust(new Date(g,v-1,b)),l.getFullYear()!==g||l.getMonth()+1!==v||l.getDate()!==b)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},d="",f=!1;if(e)for(i=0;i<t.length;i++)if(f)"'"!==t.charAt(i)||l("'")?d+=t.charAt(i):f=!1;else switch(t.charAt(i)){case"d":d+=u("d",e.getDate(),2);break;case"D":d+=c("D",e.getDay(),r,o);break;case"o":d+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",e.getMonth()+1,2);break;case"M":d+=c("M",e.getMonth(),s,a);break;case"y":d+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":f=!0;break;default:d+=t.charAt(i)}return d},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return t.settings[e]!==n?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o))}l=a.exec(n)}return new Date(r,o,s)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return r=r&&"Invalid Date"===r.toString()?i:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),(r!==t.selectedMonth||o!==t.selectedYear)&&!n&&this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+l].datepicker._adjustDate(i,-n,"M")},next:function(){window["DP_jQuery_"+l].datepicker._adjustDate(i,+n,"M")},hide:function(){window["DP_jQuery_"+l].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+l].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+l].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+l].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+l].datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,l,u,c,d,f,h,p,m,g,v,b,y,w,x,_,k,C,T,S,D,E,N,M,A,j,P,I,O,R,B,L,z,F=new Date,H=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),W=this._get(t,"isRTL"),U=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),$=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),X=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),K=1!==q[0]||1!==q[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),Z=t.drawMonth-X,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),e=J&&e<J?J:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,n=this._get(t,"prevText"),n=$?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z-Y,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=$?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Z+Y,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?G:H,s=$?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(W?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(t,"showWeek"),f=this._get(t,"dayNames"),h=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),w="",_=0;_<q[0];_++){for(k="",this.maxRows=4,C=0;C<q[1];C++){if(T=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),S=" ui-corner-all",D="",K){if(D+="<div class='ui-datepicker-group",q[1]>1)switch(C){case 0:D+=" ui-datepicker-group-first",S=" ui-corner-"+(W?"right":"left");break;case q[1]-1:D+=" ui-datepicker-group-last",S=" ui-corner-"+(W?"left":"right");break;default:D+=" ui-datepicker-group-middle",S=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===_?W?o:i:"")+(/all|right/.test(S)&&0===_?W?i:o:"")+this._generateMonthYearHeader(t,Z,tt,J,Q,_>0||C>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;x<7;x++)N=(x+c)%7,E+="<th"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[N]+"'>"+h[N]+"</span></th>";for(D+=E+"</tr></thead><tbody>",M=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),A=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,j=Math.ceil((A+M)/7),P=K&&this.maxRows>j?this.maxRows:j,this.maxRows=P,I=this._daylightSavingAdjust(new Date(tt,Z,1-A)),O=0;O<P;O++){for(D+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(I)+"</td>":"",x=0;x<7;x++)B=g?g.apply(t.input?t.input[0]:null,[I]):[!0,""],L=I.getMonth()!==Z,z=L&&!b||!B[0]||J&&I<J||Q&&I>Q,R+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(I.getTime()===T.getTime()&&Z===t.selectedMonth&&t._keyEvent||y.getTime()===I.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+B[1]+(I.getTime()===G.getTime()?" "+this._currentClass:"")+(I.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!B[2]?"":" title='"+B[2]+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===H.getTime()?" ui-state-highlight":"")+(I.getTime()===G.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);D+=R+"</tr>"}Z++,Z>11&&(Z=0,tt++),D+="</tbody></table>"+(K?"</div>"+(q[0]>0&&C===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=D}w+=k}return w+=u,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var l,u,c,d,f,h,p,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(o||!g)w+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");w+="</select>"}if(b||(y+=w+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(t,"yearRange").split(":"),f=(new Date).getFullYear(),h=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?f+parseInt(t,10):parseInt(t,10);return isNaN(e)?f:e},p=h(d[0]),m=Math.max(p,h(d[1]||"")),p=i?Math.max(p,i.getFullYear()):p,m=r?Math.min(m,r.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=m;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!o&&g&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),r=t.drawMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10)+i,a=parseInt(n[1],10)+i),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,n,i,r){n||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=n?"object"==e(n)?n:this._daylightSavingAdjust(new Date(r,i,n)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.0",window["DP_jQuery_"+l]=t}(t),function(t,n){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.0",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var n=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return n&&!e&&this._trigger("focus",t),n},open:function(){if(this._isOpen)return void(this._moveToTop()&&this._focusTabbable());this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show),this._focusTabbable(),this._isOpen=!0,this._trigger("open"),this._trigger("focus")},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function n(){var e=this.document[0].activeElement;this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?(e.target===i[0]||e.target===this.uiDialog[0])&&e.shiftKey&&(r.focus(1),e.preventDefault()):(i.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n))return void this.uiDialog.removeClass("ui-dialog-buttons");t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(e.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,t("<button></button>",i).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){t(this).addClass("ui-dialog-dragging"),n._trigger("dragStart",i,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){i.position=[o.position.left-n.document.scrollLeft(),o.position.top-n.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),n._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,r){t(this).addClass("ui-dialog-resizing"),n._trigger("resizeStart",i,e(r))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(r,o){i.height=t(this).height(),i.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),n._trigger("resizeStop",r,e(o))}}).css("position",o)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,o=!1,s={};t.each(e,function(t,e){n._setOption(t,e),t in i&&(o=!0),t in r&&(s[t]=e)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,e){var n,i,r=this.uiDialog;"dialogClass"===t&&r.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(n=r.is(":data(ui-draggable)"),n&&!e&&r.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(i=r.is(":data(ui-resizable)"),i&&!e&&r.resizable("destroy"),i&&"string"==typeof e&&r.resizable("option","handles",e),!i&&!1!==e&&this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_createOverlay:function(){this.options.modal&&(t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this._on(this.document,{focusin:function(e){t(e.target).closest(".ui-dialog").length||(e.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data("ui-dialog")._focusTabbable())}})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this.document[0].body),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++)},_destroyOverlay:function(){this.options.modal&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this._off(this.document,"focusin"),this.overlay.remove())}}),t.ui.dialog.overlayInstances=0,!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var n,i=this.options.position,r=[],o=[0,0];i?(("string"==typeof i||"object"==e(i)&&"0"in i)&&(r=i.split?i.split(" "):[i[0],i[1]],1===r.length&&(r[1]=r[0]),t.each(["left","top"],function(t,e){+r[t]===r[t]&&(o[t]=r[t],r[t]=e)}),i={my:r[0]+(o[0]<0?o[0]:"+"+o[0])+" "+r[1]+(o[1]<0?o[1]:"+"+o[1]),at:r.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,n=this.uiDialog.is(":visible"),n||this.uiDialog.show(),this.uiDialog.position(i),n||this.uiDialog.hide()}})}(t),function(t,e){t.widget("ui.menu",{version:"1.10.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var n=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),n.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var n=t(e.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,r,o,s,a,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(e.keyCode),s=!1,clearTimeout(this.filterTimer),o===r?s=!0:o=r+o,a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())}),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(e.keyCode),a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())})),i.length?(this.focus(e,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev("a"),r=t("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",i.attr("id"))}),e=i.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-—–\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.height(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;if(!this.active)return void this.next(e);this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(e){var n,i,r;if(!this.active)return void this.next(e);this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)}})}(t),function(t,e){t.widget("ui.progressbar",{version:"1.10.0",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){if(t===e)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(t),function(t,e){t.widget("ui.slider",t.ui.mouse,{version:"1.10.0",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this.range=t([]),i.range&&(!0===i.range&&(i.values?i.values.length&&2!==i.values.length?i.values=[i.values[0],i.values[0]]:t.isArray(i.values)&&(i.values=i.values.slice(0)):i.values=[this._valueMin(),this._valueMin()]),this.range=t("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===i.range||"max"===i.range?" ui-slider-range-"+i.range:""))),n=i.values&&i.values.length||1,e=r.length;e<n;e++)o.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(t){t.preventDefault()}).mouseenter(function(){i.disabled||t(this).addClass("ui-state-hover")}).mouseleave(function(){t(this).removeClass("ui-state-hover")}).focus(function(){i.disabled?t(this).blur():(t(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),t(this).addClass("ui-state-focus"))}).blur(function(){t(this).removeClass("ui-state-focus")}),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)}),this._setOption("disabled",i.disabled),this._on(this.handles,this._handleEvents),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-u.values(e));(r>n||r===n&&(e===u._lastChangedValue||u.values(e)===c.min))&&(r=n,o=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),a=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&n>i||1===e&&n<i)&&(n=i),n!==this.values(e)&&(r=this.values(),r[e]=n,o=this._trigger("slide",t,{handle:this.handles[e],value:n,values:r}),i=this.values(e?0:1),!1!==o&&this.values(e,n,!0))):n!==this.value()&&!1!==(o=this._trigger("slide",t,{handle:this.handles[e],value:n}))&&this.value(n)},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch(t.isArray(this.options.values)&&(r=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0)):this.handles.prop("disabled",!1);break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<r;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var n,i,r,o,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),n=this._start(e,s),!1===n))return}switch(o=this.options.step,i=r=this.options.values&&this.options.values.length?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/5);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/5);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o)}this._slide(e,s,r)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),t(e.target).removeClass("ui-state-active"))}}})}(t),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);void 0!==r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t)},mousewheel:function(t,e){if(e)return!(!this.spinning&&!this._start(t))&&(this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault(),void 0)},"mousedown .ui-spinner-button":function(e){function n(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return e=null!==i.min?i.min:0,n=t-e,n=Math.round(n/i.step)*i.step,t=e+n,t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}})}(t),function(t,e){function n(){return++r}function i(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var r=0,o=/#.*$/;t.widget("ui.tabs",{version:"1.10.0",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(i),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(i!==this.options.active&&i),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){for(var i=this.tabs.length-1;-1!==t.inArray(function(){return e>i&&(e=0),e<0&&(e=i),e}(),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),!e&&!1===this.options.active&&this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+n()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(n,r){var o,s,a,l=t(r).uniqueId().attr("id"),u=t(r).closest("li"),c=u.attr("aria-controls");i(r)?(o=r.hash,s=e.element.find(e._sanitizeSelector(o))):(a=e._tabId(u),o="#"+a,s=e.element.find(o),s.length||(s=e._createPanel(a),s.insertAfter(e.panels[n-1]||e.tablist)),s.attr("aria-live","polite")),s.length&&(e.panels=e.panels.add(s)),c&&u.data("ui-tabs-aria-controls",c),u.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),s.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var n,i=0;n=this.tabs[i];i++)!0===e||-1!==t.inArray(i,e)?t(n).addClass("ui-state-disabled").attr("aria-disabled","true"):t(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var n={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r.closest("li"),s=o[0]===i[0],a=s&&n.collapsible,l=a?t():this._getPanelForTab(o),u=i.length?this._getPanelForTab(i):t(),c={oldTab:i,oldPanel:u,newTab:a?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!n.collapsible||!1===this._trigger("beforeActivate",e,c)||(n.active=!a&&this.tabs.index(o),this.active=s?t():o,this.xhr&&this.xhr.abort(),!u.length&&!l.length&&t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function r(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,i):(s.show(),i())}var o=this,s=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),r()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),n.oldTab.attr("aria-selected","false"),s.length&&a.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var i=this.options.disabled;!1!==i&&(n===e?i=!1:(n=this._getIndex(n),i=t.isArray(i)?t.map(i,function(t){return t!==n?t:null}):t.map(this.tabs,function(t,e){return e!==n?e:null})),this._setupDisabled(i))},disable:function(n){var i=this.options.disabled;if(!0!==i){if(n===e)i=!0;else{if(n=this._getIndex(n),-1!==t.inArray(n,i))return;i=t.isArray(i)?t.merge([n],i).sort():[n]}this._setupDisabled(i)}},load:function(e,n){e=this._getIndex(e);var r=this,o=this.tabs.eq(e),s=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),l={tab:o,panel:a};i(s[0])||(this.xhr=t.ajax(this._ajaxSettings(s,n,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){a.html(t),r._trigger("load",n,l)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&r.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===r.xhr&&delete r.xhr},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href"),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}})}(t),function(t){function e(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))}function n(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),i=t.trim(i.join(" ")),i?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")}var i=0;t.widget("ui.tooltip",{version:"1.10.0",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,n){var i=this;if("disabled"===e)return this[n?"_disable":"_enable"](),void(this.options[e]=n);this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e)})},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i[0],e.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;if("string"==typeof i)return this._open(e,t,i);(n=i.call(t[0],function(n){t.data("ui-tooltip-open")&&r._delay(function(){e&&(e.type=o),this._open(e,t,n)})}))&&this._open(e,t,n)},_open:function(n,i,r){function o(t){u.of=t,s.is(":hidden")||s.position(u)}var s,a,l,u=t.extend({},this.options.position);if(r){if(s=this._find(i),s.length)return void s.find(".ui-tooltip-content").html(r);i.is("[title]")&&(n&&"mouseover"===n.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),e(i,s.attr("id")),s.find(".ui-tooltip-content").html(r),this.options.track&&n&&/^mouse/.test(n.type)?(this._on(this.document,{mousemove:o}),o(n)):s.position(t.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){s.is(":visible")&&(o(u.of),clearInterval(l))},t.fx.interval)),this._trigger("open",n,{tooltip:s}),a={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}},remove:function(){this._removeTooltip(s)}},n&&"mouseover"!==n.type||(a.mouseleave="close"),n&&"focusin"!==n.type||(a.focusout="close"),this._on(!0,i,a)}},close:function(e){var i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);this.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&r.attr("title",r.data("ui-tooltip-title")),n(r),o.stop(!0),this._hide(o,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var n="ui-tooltip-"+i++,r=t("<div>").attr({id:n,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),this.tooltips[n]=e,r},_find:function(e){var n=e.data("ui-tooltip-id");return n?t("#"+n):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i[0],e.close(r,!0),t("#"+n).remove(),i.data("ui-tooltip-title")&&(i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))})}})}(t),t.effects||function(e,n){var i="ui-effects-";e.effects={effect:{}},function(t,e){function n(t,e,n){var i=c[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=l(),i=n._rgba=[];return e=e.toLowerCase(),h(a,function(t,r){var o,s=r.re.exec(e),a=s&&r.parse(s),l=r.space||"rgba";if(a)return o=n[l](a),n[u[l].cache]=o[u[l].cache],i=n._rgba=o._rgba,!1}),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(t,e,n){return n=(n+1)%1,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var o,s=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},f=t("<p>")[0],h=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=f.style.backgroundColor.indexOf("rgba")>-1,h(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(r,s,a,c){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var d=this,f=t.type(r),p=this._rgba=[];return s!==e&&(r=[r,s,a,c],f="array"),"string"===f?this.parse(i(r)||o._default):"array"===f?(h(u.rgba.props,function(t,e){p[e.idx]=n(r[e.idx],e)}),this):"object"===f?(r instanceof l?h(u,function(t,e){r[e.cache]&&(d[e.cache]=r[e.cache].slice())}):h(u,function(e,i){var o=i.cache;h(i.props,function(t,e){if(!d[o]&&i.to){if("alpha"===t||null==r[t])return;d[o]=i.to(d._rgba)}d[o][e.idx]=n(r[t],e,!0)}),d[o]&&t.inArray(null,d[o].slice(0,3))<0&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):void 0},is:function(t){var e=l(t),n=!0,i=this;return h(u,function(t,r){var o,s=e[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],h(r.props,function(t,e){if(null!=s[e.idx])return n=s[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return h(u,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=l(t),r=i._space(),o=u[r],s=0===this.alpha()?l("transparent"):this,a=s[o.cache]||o.to(s._rgba),d=a.slice();return i=i[o.cache],h(o.props,function(t,r){var o=r.idx,s=a[o],l=i[o],u=c[r.type]||{};null!==l&&(null===s?d[o]=l:(u.mod&&(l-s>u.mod/2?s+=u.mod:s-l>u.mod/2&&(s-=u.mod)),d[o]=n((l-s)*e+s,r)))}),this[r](d)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=l(e)._rgba;return l(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),u=a-l,c=a+l,d=.5*c;return e=l===a?0:i===a?60*(r-o)/u+360:r===a?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:d<=.5?u/c:u/(2-c),[Math.round(e)%360,n,d,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],s=i<=.5?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},h(u,function(i,r){var o=r.props,a=r.cache,u=r.to,c=r.from;l.fn[i]=function(i){if(u&&!this[a]&&(this[a]=u(this._rgba)),i===e)return this[a].slice();var r,s=t.type(i),d="array"===s||"object"===s?i:arguments,f=this[a].slice();return h(o,function(t,e){var i=d["object"===s?t:e.idx];null==i&&(i=f[e.idx]),f[e.idx]=n(i,e)}),c?(r=l(c(f)),r[a]=f,r):l(f)},h(o,function(e,n){l.fn[e]||(l.fn[e]=function(r){var o,a=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=t.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r))&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1)),u[n.idx]=r,this[l](u)))})})}),l.hook=function(e){var n=e.split(" ");h(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=l(o||r),!d.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=l(e.elem,n),e.end=l(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return h(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(t),function(){function i(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function r(t,n){var i,r,o={};for(i in n)r=n[i],t[i]!==r&&!s[i]&&(e.fx.step[i]||!isNaN(parseFloat(r)))&&(o[i]=r);return o}var o=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(n,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(t.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),e.effects.animateClass=function(t,n,s,a){var l=e.speed(n,s,a);return this.queue(function(){var n,s=e(this),a=s.attr("class")||"",u=l.children?s.find("*").addBack():s;u=u.map(function(){return{el:e(this),start:i(this)}}),n=function(){e.each(o,function(e,n){t[n]&&s[n+"Class"](t[n])})},n(),u=u.map(function(){return this.end=i(this.el[0]),this.diff=r(this.start,this.end),this}),s.attr("class",a),u=u.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,u.get()).done(function(){n(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,i,r){return n?e.effects.animateClass.call(this,{add:t},n,i,r):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,i,r){return n?e.effects.animateClass.call(this,{remove:t},n,i,r):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(t,i,r,o,s){return"boolean"==typeof i||i===n?r?e.effects.animateClass.call(this,i?{add:t}:{remove:t},r,o,s):this._toggleClass(t,i):e.effects.animateClass.call(this,{toggle:t},i,r,o)},switchClass:function(t,n,i,r,o){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,o)}})}(),function(){function t(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function r(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects.effect[t]}e.extend(e.effects,{version:"1.10.0",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(i+e[n],t[0].style[e[n]])},restore:function(t,e){var r,o;for(o=0;o<e.length;o++)null!==e[o]&&(r=t.data(i+e[o]),r===n&&(r=""),t.css(e[o],r))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return t.wrap(i),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(o)&&o.call(r[0]),e.isFunction(t)&&t()}var r=e(this),o=i.complete,a=i.mode;(r.is(":hidden")?"hide"===a:"show"===a)?n():s.call(r[0],i,n)}var i=t.apply(this,arguments),r=i.mode,o=i.queue,s=e.effects.effect[i.effect];return e.fx.off||!s?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):!1===o?this.each(n):this.queue(o||"fx",n)},_show:e.fn.show,show:function(e){if(r(e))return this._show.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)},_hide:e.fn.hide,hide:function(e){if(r(e))return this._hide.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)},__toggle:e.fn.toggle,toggle:function(n){if(r(n)||"boolean"==typeof n||e.isFunction(n))return this.__toggle.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)},cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(t){return 1-n(1-t)},e.easing["easeInOut"+t]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}})}()}(t),function(t,e){var n=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(e,r){var o,s,a,l=t(this),u=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(l,e.mode||"hide"),d=e.direction||"up",f=n.test(d),h=f?"height":"width",p=f?"top":"left",m=i.test(d),g={},v="show"===c;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),u):t.effects.save(l,u),l.show(),o=t.effects.createWrapper(l).css({overflow:"hidden"}),s=o[h](),a=parseFloat(o.css(p))||0,g[h]=v?s:0,m||(l.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),g[p]=v?a:s+a),v&&(o.css(h,0),m||o.css(p,a+s)),o.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===c&&l.hide(),t.effects.restore(l,u),t.effects.removeWrapper(l),r()}})}}(t),function(t,e){t.effects.effect.bounce=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),u="hide"===l,c="show"===l,d=e.direction||"up",f=e.distance,h=e.times||5,p=2*h+(c||u?1:0),m=e.duration/p,g=e.easing,v="up"===d||"down"===d?"top":"left",b="up"===d||"left"===d,y=s.queue(),w=y.length;for((c||u)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),f||(f=s["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,s.css("opacity",0).css(v,b?2*-f:2*f).animate(o,m,g)),u&&(f/=Math.pow(2,h-1)),o={},o[v]=0,i=0;i<h;i++)r={},r[v]=(b?"-=":"+=")+f,s.animate(r,m,g).animate(o,m,g),f=u?2*f:f/2;u&&(r={opacity:0},r[v]=(b?"-=":"+=")+f,s.animate(r,m,g)),s.queue(function(){u&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}),w>1&&y.splice.apply(y,[1,0].concat(y.splice(w,p+1))),s.dequeue()}}(t),function(t,e){t.effects.effect.clip=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"hide"),u="show"===l,c=e.direction||"vertical",d="vertical"===c,f=d?"height":"width",h=d?"top":"left",p={};t.effects.save(s,a),s.show(),i=t.effects.createWrapper(s).css({overflow:"hidden"}),r="IMG"===s[0].tagName?i:s,o=r[f](),u&&(r.css(f,0),r.css(h,o/2)),p[f]=u?o:0,p[h]=u?0:o/2,r.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){u||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),n()}})}}(t),function(t,e){t.effects.effect.drop=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(r,e.mode||"hide"),a="show"===s,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",d={opacity:a?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),i=e.distance||r["top"===u?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(u,"pos"===c?-i:i),d[u]=(a?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+i,r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})}}(t),function(t,e){t.effects.effect.explode=function(e,n){function i(){y.push(this),y.length===d*f&&r()}function r(){h.css({visibility:"visible"}),t(y).remove(),m||h.hide(),n()}var o,s,a,l,u,c,d=e.pieces?Math.round(Math.sqrt(e.pieces)):3,f=d,h=t(this),p=t.effects.setMode(h,e.mode||"hide"),m="show"===p,g=h.show().css("visibility","hidden").offset(),v=Math.ceil(h.outerWidth()/f),b=Math.ceil(h.outerHeight()/d),y=[];for(o=0;o<d;o++)for(l=g.top+o*b,c=o-(d-1)/2,s=0;s<f;s++)a=g.left+s*v,u=s-(f-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(m?u*v:0),top:l+(m?c*b:0),opacity:m?0:1}).animate({left:a+(m?0:u*v),top:l+(m?0:c*b),opacity:m?1:0},e.duration||500,e.easing,i)}}(t),function(t,e){t.effects.effect.fade=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}}(t),function(t,e){t.effects.effect.fold=function(e,n){var i,r,o=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),l="show"===a,u="hide"===a,c=e.size||15,d=/([0-9]+)%/.exec(c),f=!!e.horizFirst,h=l!==f,p=h?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(o,s),o.show(),i=t.effects.createWrapper(o).css({overflow:"hidden"}),r=h?[i.width(),i.height()]:[i.height(),i.width()],d&&(c=parseInt(d[1],10)/100*r[u?0:1]),l&&i.css(f?{height:0,width:c}:{height:c,width:0}),g[p[0]]=l?r[0]:c,v[p[1]]=l?r[1]:0,i.animate(g,m,e.easing).animate(v,m,e.easing,function(){u&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),n()})}}(t),function(t,e){t.effects.effect.highlight=function(e,n){var i=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(i,e.mode||"show"),s={backgroundColor:i.css("backgroundColor")};"hide"===o&&(s.opacity=0),t.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),t.effects.restore(i,r),n()}})}}(t),function(t,e){t.effects.effect.pulsate=function(e,n){var i,r=t(this),o=t.effects.setMode(r,e.mode||"show"),s="show"===o,a="hide"===o,l=s||"hide"===o,u=2*(e.times||5)+(l?1:0),c=e.duration/u,d=0,f=r.queue(),h=f.length;for(!s&&r.is(":visible")||(r.css("opacity",0).show(),d=1),i=1;i<u;i++)r.animate({opacity:d},c,e.easing),d=1-d;r.animate({opacity:d},c,e.easing),r.queue(function(){a&&r.hide(),n()}),h>1&&f.splice.apply(f,[1,0].concat(f.splice(h,u+1))),r.dequeue()}}(t),function(t,e){t.effects.effect.puff=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"hide"),o="hide"===r,s=parseInt(e.percent,10)||150,a=s/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:o?s:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),i.effect(e)},t.effects.effect.scale=function(e,n){var i=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(i,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),a=e.direction||"both",l=e.origin,u={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},c={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:u),r.to={height:u.height*c.y,width:u.width*c.x,outerHeight:u.outerHeight*c.y,outerWidth:u.outerWidth*c.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},t.effects.effect.size=function(e,n){var i,r,o,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],u=["width","height","overflow"],c=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],f=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=t.effects.setMode(s,e.mode||"effect"),p=e.restore||"effect"!==h,m=e.scale||"both",g=e.origin||["middle","center"],v=s.css("position"),b=p?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&s.show(),i={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===h?(s.from=e.to||y,s.to=e.from||i):(s.from=e.from||("show"===h?y:i),s.to=e.to||("hide"===h?y:i)),o={from:{y:s.from.height/i.height,x:s.from.width/i.width},to:{y:s.to.height/i.height,x:s.to.width/i.width}},"box"!==m&&"both"!==m||(o.from.y!==o.to.y&&(b=b.concat(d),s.from=t.effects.setTransition(s,d,o.from.y,s.from),s.to=t.effects.setTransition(s,d,o.to.y,s.to)),o.from.x!==o.to.x&&(b=b.concat(f),s.from=t.effects.setTransition(s,f,o.from.x,s.from),s.to=t.effects.setTransition(s,f,o.to.x,s.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(b=b.concat(c).concat(u),s.from=t.effects.setTransition(s,c,o.from.y,s.from),s.to=t.effects.setTransition(s,c,o.to.y,s.to)),t.effects.save(s,b),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(r=t.effects.getBaseline(g,i),s.from.top=(i.outerHeight-s.outerHeight())*r.y,s.from.left=(i.outerWidth-s.outerWidth())*r.x,s.to.top=(i.outerHeight-s.to.outerHeight)*r.y,s.to.left=(i.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),"content"!==m&&"both"!==m||(d=d.concat(["marginTop","marginBottom"]).concat(c),f=f.concat(["marginLeft","marginRight"]),u=a.concat(d).concat(f),s.find("*[width]").each(function(){var n=t(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};p&&t.effects.save(n,u),n.from={height:i.height*o.from.y,width:i.width*o.from.x,outerHeight:i.outerHeight*o.from.y,outerWidth:i.outerWidth*o.from.x},n.to={height:i.height*o.to.y,width:i.width*o.to.x,outerHeight:i.height*o.to.y,outerWidth:i.width*o.to.x},o.from.y!==o.to.y&&(n.from=t.effects.setTransition(n,d,o.from.y,n.from),n.to=t.effects.setTransition(n,d,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=t.effects.setTransition(n,f,o.from.x,n.from),n.to=t.effects.setTransition(n,f,o.to.x,n.to)),n.css(n.from),n.animate(n.to,e.duration,e.easing,function(){p&&t.effects.restore(n,u)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===h&&s.hide(),t.effects.restore(s,b),p||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,n){var i=parseInt(n,10),r=t?s.to.left:s.to.top;return"auto"===n?r+"px":i+r+"px"})})),t.effects.removeWrapper(s),n()}})}}(t),function(t,e){t.effects.effect.shake=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(r,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,u=e.times||3,c=2*u+1,d=Math.round(e.duration/c),f="up"===a||"down"===a?"top":"left",h="up"===a||"left"===a,p={},m={},g={},v=r.queue(),b=v.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),p[f]=(h?"-=":"+=")+l,m[f]=(h?"+=":"-=")+2*l,g[f]=(h?"-=":"+=")+2*l,r.animate(p,d,e.easing),i=1;i<u;i++)r.animate(m,d,e.easing).animate(g,d,e.easing);r.animate(m,d,e.easing).animate(p,d/2,e.easing).queue(function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,c+1))),r.dequeue()}}(t),function(t,e){t.effects.effect.slide=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(r,e.mode||"show"),a="show"===s,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d={};t.effects.save(r,o),r.show(),i=e.distance||r["top"===u?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(u,c?isNaN(i)?"-"+i:-i:i),d[u]=(a?c?"+=":"-=":c?"-=":"+=")+i,r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})}}(t),function(t,e){t.effects.effect.transfer=function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,u=r.offset(),c={top:u.top-a,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),f=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:d.top-a,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){f.remove(),n()})}}(t)}).call(e,n(0))},"./common/static/js/vendor/jquery.ajaxQueue.js":function(t,e,n){(function(t){/*
* jQuery.ajaxQueue - A queue for ajax requests
*
* @copyright: Copyright (c) 2013 Corey Frang
* @license: Licensed under the MIT license. See https://github.com/gnarf/jquery-ajaxQueue/blob/master/LICENSE-MIT.
* @website: https://github.com/gnarf/jquery-ajaxQueue
*/
!function(t){var e=t({});t.ajaxQueue=function(n){function i(e){r=t.ajax(n),r.done(o.resolve).fail(o.reject).then(e,e)}var r,o=t.Deferred(),s=o.promise();return e.queue(i),s.abort=function(a){if(r)return r.abort(a);var l=e.queue(),u=t.inArray(i,l);return u>-1&&l.splice(u,1),o.rejectWith(n.context||n,[s,a,""]),s},s}}(t)}).call(e,n(0))},"./common/static/js/vendor/jquery.cookie.js":function(t,e,n){(function(t){/*!
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
!function(t){t.cookie=function(e,n,i){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(n))||null===n||void 0===n)){if(i=t.extend({},i),null!==n&&void 0!==n||(i.expires=-1),"number"==typeof i.expires){var r=i.expires,o=i.expires=new Date;o.setDate(o.getDate()+r)}return n=String(n),document.cookie=[encodeURIComponent(e),"=",i.raw?n:encodeURIComponent(n),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}i=n||{};for(var s,a=i.raw?function(t){return t}:decodeURIComponent,l=document.cookie.split("; "),u=0;s=l[u]&&l[u].split("=");u++)if(a(s[0])===e)return a(s[1]||"");return null}}(t)}).call(e,n(0))},"./common/static/js/vendor/jquery.form.js":function(t,e,n){(function(t){function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(n){"use strict";function i(t){var e=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(this).ajaxSubmit(e))}function r(t){var e=t.target,i=n(e);if(!i.is(":submit,input:image")){var r=i.closest(":submit");if(0===r.length)return;e=r[0]}var o=this;if(o.clk=e,"image"==e.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof n.fn.offset){var s=i.offset();o.clk_x=t.pageX-s.left,o.clk_y=t.pageY-s.top}else o.clk_x=t.pageX-e.offsetLeft,o.clk_y=t.pageY-e.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function o(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var s={};s.fileapi=void 0!==n("<input type='file'/>").get(0).files,s.formdata=void 0!==window.FormData,n.fn.ajaxSubmit=function(e){function i(t){var e,i,r=n.param(t).split("&"),o=r.length,s={};for(e=0;e<o;e++)i=r[e].split("="),s[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);return s}function r(t){function i(t){return t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document}function r(){function t(){try{var e=i(g).readyState;o("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(t){o("Server abort: ",t," (",t.name,")"),s(S),x&&clearTimeout(x),x=void 0}}var e=c.attr("target"),r=c.attr("action");_.setAttribute("target",h),a||_.setAttribute("method","POST"),r!=d.url&&_.setAttribute("action",d.url),d.skipEncodingOverride||a&&!/post/i.test(a)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(x=setTimeout(function(){w=!0,s(T)},d.timeout));var l=[];try{if(d.extraData)for(var u in d.extraData)d.extraData.hasOwnProperty(u)&&(n.isPlainObject(d.extraData[u])&&d.extraData[u].hasOwnProperty("name")&&d.extraData[u].hasOwnProperty("value")?l.push(n('<input type="hidden" name="'+d.extraData[u].name+'">').attr("value",d.extraData[u].value).appendTo(_)[0]):l.push(n('<input type="hidden" name="'+u+'">').attr("value",d.extraData[u]).appendTo(_)[0]));d.iframeTarget||(m.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1)),setTimeout(t,15),_.submit()}finally{_.setAttribute("action",r),e?_.setAttribute("target",e):c.removeAttr("target"),n(l).remove()}}function s(t){if(!v.aborted&&!A){try{M=i(g)}catch(e){o("cannot access response document: ",e),t=S}if(t===T&&v)return v.abort("timeout"),void C.reject(v,"timeout");if(t==S&&v)return v.abort("server abort"),void C.reject(v,"error","server abort");if(M&&M.location.href!=d.iframeSrc||w){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var e,r="success";try{if(w)throw"timeout";var a="xml"==d.dataType||M.XMLDocument||n.isXMLDoc(M);if(o("isXml="+a),!a&&window.opera&&(null===M.body||!M.body.innerHTML)&&--j)return o("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var l=M.body?M.body:M.documentElement;v.responseText=l?l.innerHTML:null,v.responseXML=M.XMLDocument?M.XMLDocument:M,a&&(d.dataType="xml"),v.getResponseHeader=function(t){return{"content-type":d.dataType}[t]},l&&(v.status=Number(l.getAttribute("status"))||v.status,v.statusText=l.getAttribute("statusText")||v.statusText);var u=(d.dataType||"").toLowerCase(),c=/(json|script|text)/.test(u);if(c||d.textarea){var h=M.getElementsByTagName("textarea")[0];if(h)v.responseText=h.value,v.status=Number(h.getAttribute("status"))||v.status,v.statusText=h.getAttribute("statusText")||v.statusText;else if(c){var p=M.getElementsByTagName("pre")[0],b=M.getElementsByTagName("body")[0];p?v.responseText=p.textContent?p.textContent:p.innerText:b&&(v.responseText=b.textContent?b.textContent:b.innerText)}}else"xml"==u&&!v.responseXML&&v.responseText&&(v.responseXML=P(v.responseText));try{N=O(v,u,d)}catch(t){r="parsererror",v.error=e=t||r}}catch(t){o("error caught: ",t),r="error",v.error=e=t||r}v.aborted&&(o("upload aborted"),r=null),v.status&&(r=v.status>=200&&v.status<300||304===v.status?"success":"error"),"success"===r?(d.success&&d.success.call(d.context,N,"success",v),C.resolve(v.responseText,"success",v),f&&n.event.trigger("ajaxSuccess",[v,d])):r&&(void 0===e&&(e=v.statusText),d.error&&d.error.call(d.context,v,r,e),C.reject(v,"error",e),f&&n.event.trigger("ajaxError",[v,d,e])),f&&n.event.trigger("ajaxComplete",[v,d]),f&&!--n.active&&n.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,v,r),A=!0,d.timeout&&clearTimeout(x),setTimeout(function(){d.iframeTarget||m.remove(),v.responseXML=null},100)}}}var l,u,d,f,h,m,g,v,b,y,w,x,_=c[0],k=!!n.fn.prop,C=n.Deferred();if(n(":input[name=submit],:input[id=submit]",_).length)return alert('Error: Form elements must not have name or id of "submit".'),C.reject(),C;if(t)for(u=0;u<p.length;u++)l=n(p[u]),k?l.prop("disabled",!1):l.removeAttr("disabled");if(d=n.extend(!0,{},n.ajaxSettings,e),d.context=d.context||d,h="jqFormIO"+(new Date).getTime(),d.iframeTarget?(m=n(d.iframeTarget),y=m.attr("name"),y?h=y:m.attr("name",h)):(m=n('<iframe name="'+h+'" src="'+d.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=m[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var e="timeout"===t?"timeout":"aborted";if(o("aborting upload... "+e),this.aborted=1,g.contentWindow.document.execCommand)try{g.contentWindow.document.execCommand("Stop")}catch(t){}m.attr("src",d.iframeSrc),v.error=e,d.error&&d.error.call(d.context,v,e,t),f&&n.event.trigger("ajaxError",[v,d,e]),d.complete&&d.complete.call(d.context,v,e)}},f=d.global,f&&0==n.active++&&n.event.trigger("ajaxStart"),f&&n.event.trigger("ajaxSend",[v,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,v,d))return d.global&&n.active--,C.reject(),C;if(v.aborted)return C.reject(),C;(b=_.clk)&&(y=b.name)&&!b.disabled&&(d.extraData=d.extraData||{},d.extraData[y]=b.value,"image"==b.type&&(d.extraData[y+".x"]=_.clk_x,d.extraData[y+".y"]=_.clk_y));var T=1,S=2,D=n("meta[name=csrf-token]").attr("content"),E=n("meta[name=csrf-param]").attr("content");E&&D&&(d.extraData=d.extraData||{},d.extraData[E]=D),d.forceSync?r():setTimeout(r,10);var N,M,A,j=50,P=n.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},I=n.parseJSON||function(t){return window.eval("("+t+")")},O=function(t,e,i){var r=t.getResponseHeader("content-type")||"",o="xml"===e||!e&&r.indexOf("xml")>=0,s=o?t.responseXML:t.responseText;return o&&"parsererror"===s.documentElement.nodeName&&n.error&&n.error("parsererror"),i&&i.dataFilter&&(s=i.dataFilter(s,e)),"string"==typeof s&&("json"===e||!e&&r.indexOf("json")>=0?s=I(s):("script"===e||!e&&r.indexOf("javascript")>=0)&&n.globalEval(s)),s};return C}if(!this.length)return o("ajaxSubmit: skipping submit process - no element selected"),this;var a,l,u,c=this;"function"==typeof e&&(e={success:e}),a=this.attr("method"),l=this.attr("action"),u="string"==typeof l?n.trim(l):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),e=n.extend(!0,{url:u,success:n.ajaxSettings.success,type:a||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var d={};if(this.trigger("form-pre-serialize",[this,e,d]),d.veto)return o("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&!1===e.beforeSerialize(this,e))return o("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=e.traditional;void 0===f&&(f=n.ajaxSettings.traditional);var h,p=[],m=this.formToArray(e.semantic,p);if(e.data&&(e.extraData=e.data,h=n.param(e.data,f)),e.beforeSubmit&&!1===e.beforeSubmit(m,this,e))return o("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[m,this,e,d]),d.veto)return o("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=n.param(m,f);h&&(g=g?g+"&"+h:h),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+g,e.data=null):e.data=g;var v=[];if(e.resetForm&&v.push(function(){c.resetForm()}),e.clearForm&&v.push(function(){c.clearForm(e.includeHidden)}),!e.dataType&&e.target){var b=e.success||function(){};v.push(function(t){var i=e.replaceTarget?"replaceWith":"html";n(e.target)[i](t).each(b,arguments)})}else e.success&&v.push(e.success);e.success=function(t,n,i){for(var r=e.context||this,o=0,s=v.length;o<s;o++)v[o].apply(r,[t,n,i||c,c])};var y=n("input:file:enabled[value]",this),w=y.length>0,x="multipart/form-data",_=c.attr("enctype")==x||c.attr("encoding")==x,k=s.fileapi&&s.formdata;o("fileAPI :"+k);var C,T=(w||_)&&!k;!1!==e.iframe&&(e.iframe||T)?e.closeKeepAlive?n.get(e.closeKeepAlive,function(){C=r(m)}):C=r(m):C=(w||_)&&k?function(r){for(var o=new FormData,s=0;s<r.length;s++)o.append(r[s].name,r[s].value);if(e.extraData){var l=i(e.extraData);for(var u in l)l.hasOwnProperty(u)&&o.append(u,l[u])}e.data=null;var c=n.extend(!0,{},n.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:a||"POST"});e.uploadProgress&&(c.xhr=function(){var n=t.ajaxSettings.xhr();return n.upload&&(n.upload.onprogress=function(t){var n=0,i=t.loaded||t.position,r=t.total;t.lengthComputable&&(n=Math.ceil(i/r*100)),e.uploadProgress(t,i,r,n)}),n}),c.data=null;var d=c.beforeSend;return c.beforeSend=function(t,e){e.data=o,d&&d.call(this,t,e)},n.ajax(c)}(m):n.ajax(e),c.removeData("jqxhr").data("jqxhr",C);for(var S=0;S<p.length;S++)p[S]=null;return this.trigger("form-submit-notify",[this,e]),this},n.fn.ajaxForm=function(t){if(t=t||{},t.delegation=t.delegation&&n.isFunction(n.fn.on),!t.delegation&&0===this.length){var e={s:this.selector,c:this.context};return!n.isReady&&e.s?(o("DOM not ready, queuing ajaxForm"),n(function(){n(e.s,e.c).ajaxForm(t)}),this):(o("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}return t.delegation?(n(document).off("submit.form-plugin",this.selector,i).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,t,i).on("click.form-plugin",this.selector,t,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",t,i).bind("click.form-plugin",t,r)},n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},n.fn.formToArray=function(t,e){var i=[];if(0===this.length)return i;var r=this[0],o=t?r.getElementsByTagName("*"):r.elements;if(!o)return i;var a,l,u,c,d,f,h;for(a=0,f=o.length;a<f;a++)if(d=o[a],u=d.name)if(t&&r.clk&&"image"==d.type)d.disabled||r.clk!=d||(i.push({name:u,value:n(d).val(),type:d.type}),i.push({name:u+".x",value:r.clk_x},{name:u+".y",value:r.clk_y}));else if((c=n.fieldValue(d,!0))&&c.constructor==Array)for(e&&e.push(d),l=0,h=c.length;l<h;l++)i.push({name:u,value:c[l]});else if(s.fileapi&&"file"==d.type&&!d.disabled){e&&e.push(d);var p=d.files;if(p.length)for(l=0;l<p.length;l++)i.push({name:u,value:p[l],type:d.type});else i.push({name:u,value:"",type:d.type})}else null!==c&&void 0!==c&&(e&&e.push(d),i.push({name:u,value:c,type:d.type,required:d.required}));if(!t&&r.clk){var m=n(r.clk),g=m[0];u=g.name,u&&!g.disabled&&"image"==g.type&&(i.push({name:u,value:m.val()}),i.push({name:u+".x",value:r.clk_x},{name:u+".y",value:r.clk_y}))}return i},n.fn.formSerialize=function(t){return n.param(this.formToArray(t))},n.fn.fieldSerialize=function(t){var e=[];return this.each(function(){var i=this.name;if(i){var r=n.fieldValue(this,t);if(r&&r.constructor==Array)for(var o=0,s=r.length;o<s;o++)e.push({name:i,value:r[o]});else null!==r&&void 0!==r&&e.push({name:this.name,value:r})}}),n.param(e)},n.fn.fieldValue=function(t){for(var e=[],i=0,r=this.length;i<r;i++){var o=this[i],s=n.fieldValue(o,t);null===s||void 0===s||s.constructor==Array&&!s.length||(s.constructor==Array?n.merge(e,s):e.push(s))}return e},n.fieldValue=function(t,e){var i=t.name,r=t.type,o=t.tagName.toLowerCase();if(void 0===e&&(e=!0),e&&(!i||t.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!t.checked||("submit"==r||"image"==r)&&t.form&&t.form.clk!=t||"select"==o&&-1==t.selectedIndex))return null;if("select"==o){var s=t.selectedIndex;if(s<0)return null;for(var a=[],l=t.options,u="select-one"==r,c=u?s+1:l.length,d=u?s:0;d<c;d++){var f=l[d];if(f.selected){var h=f.value;if(h||(h=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),u)return h;a.push(h)}}return a}return n(t).val()},n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})},n.fn.clearFields=n.fn.clearInputs=function(t){var e=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,r=this.tagName.toLowerCase();e.test(i)||"textarea"==r?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==r?this.selectedIndex=-1:t&&(!0===t&&/hidden/.test(i)||"string"==typeof t&&n(this).is(t))&&(this.value="")})},n.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==e(this.reset)&&!this.reset.nodeType)&&this.reset()})},n.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},n.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var e=this.type;if("checkbox"==e||"radio"==e)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=n(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})},n.fn.ajaxSubmit.debug=!1}(t)}).call(e,n(0))},"./common/static/js/vendor/jquery.leanModal.js":function(t,e,n){(function(t){!function(t){t.fn.extend({leanModal:function(e){function n(e){t("#lean_overlay").fadeOut(200),t(e).css({display:"none"})}var i={top:100,overlay:.5,closeButton:null};if(0==t("#lean_overlay").length){var r=t("<div id='lean_overlay'></div>");t("body").append(r)}return e=t.extend(i,e),this.each(function(){var i=e;t(this).click(function(e){var r=t(this).attr("href");t("#lean_overlay").click(function(){n(r)}),t(i.closeButton).click(function(){n(r)});var o=(t(r).outerHeight(),t(r).outerWidth());t("#lean_overlay").css({display:"block",opacity:0}),t("#lean_overlay").fadeTo(200,i.overlay),t(r).css({display:"block",position:"fixed",opacity:0,"z-index":11e3,left:"50%","margin-left":-o/2+"px",top:i.top+"px"}),t(r).fadeTo(200,1),e.preventDefault()})})}})}(t)}).call(e,n(0))},"./common/static/js/vendor/jquery.qtip.min.js":function(t,e,n){function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,o,s;!function(i){o=[n(0)],r=i,void 0!==(s="function"==typeof r?r.apply(e,o):r)&&(t.exports=s)}(function(t){function e(e){var n,i=this,r=e.elements.tooltip,o=e.options.content.ajax,s=".qtip-ajax",a=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,l=h;e.checks.ajax={"^content.ajax":function(t,e,n){"ajax"===e&&(o=n),"once"===e?i.init():o&&o.url?i.load():r.unbind(s)}},t.extend(i,{init:function(){return o&&o.url&&r.unbind(s)[o.once?"one":"bind"]("tooltipshow"+s,i.load),i},load:function(r,s){function u(t,n,i){!l&&0!==t.status&&e.set("content.text",n+": "+i)}function c(n){l||(f&&(n=t("<div/>").append(n.replace(a,"")).find(f)),e.set("content.text",n))}function d(){l||(g&&(e.show(r.originalEvent),s=h),t.isFunction(o.complete)&&o.complete.apply(this,arguments))}var f,p=o.url.indexOf(" "),m=o.url,g=o.once&&!o.loading&&s;if(g)try{r.preventDefault()}catch(t){}else if(r&&r.isDefaultPrevented())return i;n&&n.abort&&n.abort(),p>-1&&(f=m.substr(p),m=m.substr(0,p)),n=t.ajax(t.extend({success:c,error:u,context:e},o,{url:m,complete:d}))},destroy:function(){n&&n.abort&&n.abort(),l=f}}),i.init()}function n(e,n){var a,c,d,m,g,v=t(this),b=t(document.body),y=this===document?b:v,w=v.metadata?v.metadata(n.metadata):p,x="html5"===n.metadata.type&&w?w[n.metadata.name]:p,_=v.data(n.metadata.name||"qtipopts");try{_="string"==typeof _?new Function("return "+_)():_}catch(t){s("Unable to parse HTML5 attribute data: "+_)}if(m=t.extend(f,{},l.defaults,n,"object"===i(_)?o(_):p,o(x||w)),c=m.position,m.id=e,"boolean"==typeof m.content.text){if(d=v.attr(m.content.attr),m.content.attr===h||!d)return s("Unable to locate content for tooltip! Aborting render of tooltip on element: ",v),h;m.content.text=d}if(c.container.length||(c.container=b),c.target===h&&(c.target=y),m.show.target===h&&(m.show.target=y),m.show.solo===f&&(m.show.solo=c.container.closest("body")),m.hide.target===h&&(m.hide.target=y),m.position.viewport===f&&(m.position.viewport=c.container),c.container=c.container.eq(0),c.at=new u.Corner(c.at),c.my=new u.Corner(c.my),t.data(this,"qtip"))if(m.overwrite)v.qtip("destroy");else if(m.overwrite===h)return h;return m.suppress&&(g=t.attr(this,"title"))&&t(this).removeAttr("title").attr(T,g),a=new r(v,m,e,!!d),t.data(this,"qtip",a),v.bind("remove.qtip-"+e+" removeqtip.qtip-"+e,function(){a.destroy()}),a}function r(e,n,r,s){function C(){var e=[n.show.target[0],n.hide.target[0],B.rendered&&O.tooltip[0],n.position.container[0],n.position.viewport[0],window,document];B.rendered?t([]).pushStack(t.grep(e,function(t){return"object"===i(t)})).unbind(U):n.show.target.unbind(U+"-create")}function S(){function i(t){W.is(":visible")&&B.reposition(t)}function o(t){if(W.hasClass(b))return h;clearTimeout(B.timers.inactive),B.timers.inactive=setTimeout(function(){B.hide(t)},n.hide.inactive)}function s(e){if(W.hasClass(b)||F||H)return h;var i=t(e.relatedTarget||e.target),r=i.closest(y)[0]===W[0],o=i[0]===d.show[0];if(clearTimeout(B.timers.show),clearTimeout(B.timers.hide),"mouse"===u.target&&r||n.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(r||o))try{e.preventDefault(),e.stopImmediatePropagation()}catch(t){}else n.hide.delay>0?B.timers.hide=setTimeout(function(){B.hide(e)},n.hide.delay):B.hide(e)}function a(t){if(W.hasClass(b))return h;clearTimeout(B.timers.show),clearTimeout(B.timers.hide);var e=function(){B.toggle(f,t)};n.show.delay>0?B.timers.show=setTimeout(e,n.show.delay):e()}var u=n.position,d={show:n.show.target,hide:n.hide.target,viewport:t(u.viewport),document:t(document),body:t(document.body),window:t(window)},p={show:t.trim(""+n.show.event).split(" "),hide:t.trim(""+n.hide.event).split(" ")},m=t.browser.msie&&6===parseInt(t.browser.version,10);W.bind("mouseenter"+U+" mouseleave"+U,function(t){var e="mouseenter"===t.type;e&&B.focus(t),W.toggleClass(_,e)}),n.hide.fixed&&(d.hide=d.hide.add(W),W.bind("mouseover"+U,function(){W.hasClass(b)||clearTimeout(B.timers.hide)})),/mouse(out|leave)/i.test(n.hide.event)?"window"===n.hide.leave&&d.window.bind("mouseout"+U+" blur"+U,function(t){/select|option/.test(t.target)&&!t.relatedTarget&&B.hide(t)}):/mouse(over|enter)/i.test(n.show.event)&&d.hide.bind("mouseleave"+U,function(t){clearTimeout(B.timers.show)}),(""+n.hide.event).indexOf("unfocus")>-1&&u.container.closest("html").bind("mousedown"+U,function(n){var i=t(n.target),r=(!W.hasClass(b)&&W.is(":visible"),i.parents(y).filter(W[0]).length>0);i[0]!==e[0]&&i[0]!==W[0]&&!r&&!e.has(i[0]).length&&!i.attr("disabled")&&B.hide(n)}),"number"==typeof n.hide.inactive&&(d.show.bind("qtip-"+r+"-inactive",o),t.each(l.inactiveEvents,function(t,e){d.hide.add(O.tooltip).bind(e+U+"-inactive",o)})),t.each(p.hide,function(e,n){var i=t.inArray(n,p.show),r=t(d.hide);i>-1&&r.add(d.show).length===r.length||"unfocus"===n?(d.show.bind(n+U,function(t){W.is(":visible")?s(t):a(t)}),delete p.show[i]):d.hide.bind(n+U,s)}),t.each(p.show,function(t,e){d.show.bind(e+U,a)}),"number"==typeof n.hide.distance&&d.show.add(W).bind("mousemove"+U,function(t){var e=R.origin||{},i=n.hide.distance,r=Math.abs;(r(t.pageX-e.pageX)>=i||r(t.pageY-e.pageY)>=i)&&B.hide(t)}),"mouse"===u.target&&(d.show.bind("mousemove"+U,function(t){c={pageX:t.pageX,pageY:t.pageY,type:"mousemove"}}),u.adjust.mouse&&(n.hide.event&&(W.bind("mouseleave"+U,function(t){(t.relatedTarget||t.target)!==d.show[0]&&B.hide(t)}),O.target.bind("mouseenter"+U+" mouseleave"+U,function(t){R.onTarget="mouseenter"===t.type})),d.document.bind("mousemove"+U,function(t){R.onTarget&&!W.hasClass(b)&&W.is(":visible")&&B.reposition(t||c)}))),(u.adjust.resize||d.viewport.length)&&(t.event.special.resize?d.viewport:d.window).bind("resize"+U,i),(d.viewport.length||m&&"fixed"===W.css("position"))&&d.viewport.bind("scroll"+U,i)}function D(n,i){function r(e){function n(n){n&&(delete s[n.src],clearTimeout(B.timers.img[n.src]),t(n).unbind(U)),t.isEmptyObject(s)&&(B.redraw(),i!==h&&B.reposition(R.event),e())}var r,s={};if(0===(r=o.find("img[src]:not([height]):not([width])")).length)return n();r.each(function(e,i){if(s[i.src]===a){var r=0;(function t(){if(i.height||i.width||r>3)return n(i);r+=1,B.timers.img[i.src]=setTimeout(t,700)})(),t(i).bind("error"+U+" load"+U,function(){n(this)}),s[i.src]=i}})}var o=O.content;return B.rendered&&n?(t.isFunction(n)&&(n=n.call(e,R.event,B)||""),n.jquery&&n.length>0?o.empty().append(n.css({display:"block"})):o.html(n),B.rendered<0?W.queue("fx",r):(H=0,r(t.noop)),B):h}function E(n,i){var r=O.title;return B.rendered&&n?(t.isFunction(n)&&(n=n.call(e,R.event,B)),n===h||!n&&""!==n?j(h):(n.jquery&&n.length>0?r.empty().append(n.css({display:"block"})):r.html(n),B.redraw(),i!==h&&B.rendered&&W.is(":visible")&&B.reposition(R.event),void 0)):h}function N(t){var e=O.button,n=O.title;if(!B.rendered)return h;t?(n||M(),A()):e.remove()}function M(){var e=z+"-title";O.titlebar&&j(),O.titlebar=t("<div />",{class:g+"-titlebar "+(n.style.widget?"ui-widget-header":"")}).append(O.title=t("<div />",{id:e,class:g+"-title","aria-atomic":f})).insertBefore(O.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(e){t(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".ui-tooltip-close","mouseover mouseout",function(e){t(this).toggleClass("ui-state-hover","mouseover"===e.type)}),n.content.title.button?A():B.rendered&&B.redraw()}function A(){var e=n.content.title.button,i="string"==typeof e,r=i?e:"Close tooltip";O.button&&O.button.remove(),e.jquery?O.button=e:O.button=t("<a />",{class:"ui-state-default ui-tooltip-close "+(n.style.widget?"":g+"-icon"),title:r,"aria-label":r}).prepend(t("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),O.button.appendTo(O.titlebar).attr("role","button").click(function(t){return W.hasClass(b)||B.hide(t),h}),B.redraw()}function j(t){O.title&&(O.titlebar.remove(),O.titlebar=O.title=O.button=p,t!==h&&B.reposition())}function P(){var t=n.style.widget;W.toggleClass(v,t).toggleClass(w,n.style.def&&!t),O.content.toggleClass(v+"-content",t),O.titlebar&&O.titlebar.toggleClass(v+"-header",t),O.button&&O.button.toggleClass(g+"-icon",!t)}function I(t){for(var e,i=0,r=n,o=t.split(".");r=r[o[i++]];)i<o.length&&(e=r);return[e||n,o.pop()]}var O,R,B=this,L=document.body,z=g+"-"+r,F=0,H=0,W=t(),U=".qtip-"+r;B.id=r,B.rendered=h,B.elements=O={target:e},B.timers={img:{}},B.options=n,B.checks={},B.plugins={},B.cache=R={event:{},target:t(),disabled:h,attr:s,onTarget:h},B.checks.builtin={"^id$":function(e,n,i){var r=i===f?l.nextid:i,o=g+"-"+r;r!==h&&r.length>0&&!t("#"+o).length&&(W[0].id=o,O.content[0].id=o+"-content",O.title[0].id=o+"-title")},"^content.text$":function(t,e,n){D(n)},"^content.title.text$":function(t,e,n){if(!n)return j();!O.title&&n&&M(),E(n)},"^content.title.button$":function(t,e,n){N(n)},"^position.(my|at)$":function(t,e,n){"string"==typeof n&&(t[e]=new u.Corner(n))},"^position.container$":function(t,e,n){B.rendered&&W.appendTo(n)},"^show.ready$":function(){B.rendered?B.toggle(f):B.render(1)},"^style.classes$":function(t,e,n){W.attr("class",g+" qtip ui-helper-reset "+n)},"^style.widget|content.title":P,"^events.(render|show|move|hide|focus|blur)$":function(e,n,i){W[(t.isFunction(i)?"":"un")+"bind"]("tooltip"+n,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var t=n.position;W.attr("tracking","mouse"===t.target&&t.adjust.mouse),C(),S()}},t.extend(B,{render:function(i){if(B.rendered)return B;var r=n.content.text,o=n.content.title.text,s=n.position,a=t.Event("tooltiprender");return t.attr(e[0],"aria-describedby",z),W=O.tooltip=t("<div/>",{id:z,class:g+" qtip ui-helper-reset "+w+" "+n.style.classes+" "+g+"-pos-"+n.position.my.abbrev(),width:n.style.width||"",height:n.style.height||"",tracking:"mouse"===s.target&&s.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":h,"aria-describedby":z+"-content","aria-hidden":f}).toggleClass(b,R.disabled).data("qtip",B).appendTo(n.position.container).append(O.content=t("<div />",{class:g+"-content",id:z+"-content","aria-atomic":f})),B.rendered=-1,F=H=1,o&&(M(),t.isFunction(o)||E(o,h)),t.isFunction(r)||D(r,h),B.rendered=f,P(),t.each(n.events,function(e,n){t.isFunction(n)&&W.bind("toggle"===e?"tooltipshow tooltiphide":"tooltip"+e,n)}),t.each(u,function(){"render"===this.initialize&&this(B)}),S(),W.queue("fx",function(t){a.originalEvent=R.event,W.trigger(a,[B]),F=H=0,B.redraw(),(n.show.ready||i)&&B.toggle(f,R.event,h),t()}),B},get:function(t){var e,i;switch(t.toLowerCase()){case"dimensions":e={height:W.outerHeight(),width:W.outerWidth()};break;case"offset":e=u.offset(W,n.position.container);break;default:i=I(t.toLowerCase()),e=i[0][i[1]],e=e.precedance?e.string():e}return e},set:function(e,r){function s(t,e){var n,i,r;for(n in m)for(i in m[n])(r=new RegExp(i,"i").exec(t))&&(e.push(r),m[n][i].apply(B,e))}var a,l=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,u=/^content\.(title|attr)|style/i,c=h,d=h,m=B.checks;return"string"==typeof e?(a=e,e={},e[a]=r):e=t.extend(f,{},e),t.each(e,function(n,r){var o,s=I(n.toLowerCase());o=s[0][s[1]],s[0][s[1]]="object"===i(r)&&r.nodeType?t(r):r,e[n]=[s[0],s[1],r,o],c=l.test(n)||c,d=u.test(n)||d}),o(n),F=H=1,t.each(e,s),F=H=0,W.is(":visible")&&B.rendered&&(c&&B.reposition("mouse"===n.position.target?p:R.event),d&&B.redraw()),B},toggle:function(e,o){function s(){e?(t.browser.msie&&W[0].style.removeAttribute("filter"),W.css("overflow",""),"string"==typeof u.autofocus&&t(u.autofocus,W).focus(),u.target.trigger("qtip-"+r+"-inactive")):W.css({display:"",visibility:"",opacity:"",left:"",top:""}),a=t.Event("tooltip"+(e?"visible":"hidden")),a.originalEvent=o?R.event:p,W.trigger(a,[B])}if(!B.rendered)return e?B.render(1):B;var a,l=e?"show":"hide",u=n[l],m=W.is(":visible"),g=!o||u.target.length<2||R.target[0]===o.target,v=o&&u.target.add(o.target).length!==u.target.length,b=n.position,w=n.content;if(i(e).search("boolean|number")&&(e=!m),!W.is(":animated")&&m===e&&g)return B;if(o){if(/over|enter/.test(o.type)&&/out|leave/.test(R.event.type)&&n.show.target.add(o.target).length===n.show.target.length&&W.has(o.relatedTarget).length)return B;R.event=t.extend({},o)}return a=t.Event("tooltip"+l),a.originalEvent=o?R.event:p,W.trigger(a,[B,90]),a.isDefaultPrevented()?B:(t.attr(W[0],"aria-hidden",!e),e?(R.origin=t.extend({},c),B.focus(o),t.isFunction(w.text)&&D(w.text,h),t.isFunction(w.title.text)&&E(w.title.text,h),!d&&"mouse"===b.target&&b.adjust.mouse&&(t(document).bind("mousemove.qtip",function(t){c={pageX:t.pageX,pageY:t.pageY,type:"mousemove"}}),d=f),B.reposition(o,arguments[2]),(a.solo=!!u.solo)&&t(y,u.solo).not(W).qtip("hide",a)):(clearTimeout(B.timers.show),delete R.origin,d&&!t(y+'[tracking="true"]:visible',u.solo).not(W).length&&(t(document).unbind("mousemove.qtip"),d=h),B.blur(o)),W.stop(v,!v),u.effect===h?(W[l](),s.call(W)):t.isFunction(u.effect)?(u.effect.call(W,B),W.queue("fx",function(t){s(),t()})):W.fadeTo(90,e?1:0,s),e&&u.target.trigger("qtip-"+r+"-inactive"),B)},show:function(t){return B.toggle(f,t)},hide:function(t){return B.toggle(h,t)},focus:function(e){if(!B.rendered)return B;var n,i=t(y),r=parseInt(W[0].style.zIndex,10),o=l.zindex+i.length,s=t.extend({},e);return W.hasClass(x)||(n=t.Event("tooltipfocus"),n.originalEvent=s,W.trigger(n,[B,o]),n.isDefaultPrevented()||(r!==o&&(i.each(function(){this.style.zIndex>r&&(this.style.zIndex=this.style.zIndex-1)}),i.filter("."+x).qtip("blur",s)),W.addClass(x)[0].style.zIndex=o)),B},blur:function(e){var n,i=t.extend({},e);return W.removeClass(x),n=t.Event("tooltipblur"),n.originalEvent=i,W.trigger(n,[B]),B},reposition:function(e,i){if(!B.rendered||F)return B;F=1;var r,o=n.position.target,s=n.position,a=s.my,l=s.at,d=s.adjust,f=d.method.split(" "),p=W.outerWidth(),m=W.outerHeight(),v=0,b=0,y=t.Event("tooltipmove"),w="fixed"===W.css("position"),x=s.viewport,_={left:0,top:0},k=s.container,C=h,T=B.plugins.tip,S={horizontal:f[0],vertical:f[1]=f[1]||f[0],enabled:x.jquery&&o[0]!==window&&o[0]!==L&&"none"!==d.method,left:function(t){var e="shift"===S.horizontal,n=-k.offset.left+x.offset.left+x.scrollLeft,i="left"===a.x?p:"right"===a.x?-p:-p/2,r="left"===l.x?v:"right"===l.x?-v:-v/2,o=T&&T.size?T.size.width||0:0,s=T&&T.corner&&"x"===T.corner.precedance&&!e?o:0,u=n-t+s,c=t+p-x.width-n+s,f=i-("x"===a.precedance||a.x===a.y?r:0)-("center"===l.x?v/2:0),h="center"===a.x;return e?(s=T&&T.corner&&"y"===T.corner.precedance?o:0,f=("left"===a.x?1:-1)*i-s,_.left+=u>0?u:c>0?-c:0,_.left=Math.max(-k.offset.left+x.offset.left+(s&&"center"===T.corner.x?T.offset:0),t-f,Math.min(Math.max(-k.offset.left+x.offset.left+x.width,t+f),_.left))):(u>0&&("left"!==a.x||c>0)?_.left-=f:c>0&&("right"!==a.x||u>0)&&(_.left-=h?-f:f),_.left!==t&&h&&(_.left-=d.x),_.left<n&&-_.left>c&&(_.left=t)),_.left-t},top:function(t){var e="shift"===S.vertical,n=-k.offset.top+x.offset.top+x.scrollTop,i="top"===a.y?m:"bottom"===a.y?-m:-m/2,r="top"===l.y?b:"bottom"===l.y?-b:-b/2,o=T&&T.size?T.size.height||0:0,s=T&&T.corner&&"y"===T.corner.precedance&&!e?o:0,u=n-t+s,c=t+m-x.height-n+s,f=i-("y"===a.precedance||a.x===a.y?r:0)-("center"===l.y?b/2:0),h="center"===a.y;return e?(s=T&&T.corner&&"x"===T.corner.precedance?o:0,f=("top"===a.y?1:-1)*i-s,_.top+=u>0?u:c>0?-c:0,_.top=Math.max(-k.offset.top+x.offset.top+(s&&"center"===T.corner.x?T.offset:0),t-f,Math.min(Math.max(-k.offset.top+x.offset.top+x.height,t+f),_.top))):(u>0&&("top"!==a.y||c>0)?_.top-=f:c>0&&("bottom"!==a.y||u>0)&&(_.top-=h?-f:f),_.top!==t&&h&&(_.top-=d.y),_.top<0&&-_.top>c&&(_.top=t)),_.top-t}};if(t.isArray(o)&&2===o.length)l={x:"left",y:"top"},_={left:o[0],top:o[1]};else if("mouse"===o&&(e&&e.pageX||R.event.pageX))l={x:"left",y:"top"},e=(!e||"resize"!==e.type&&"scroll"!==e.type?e&&e.pageX&&"mousemove"===e.type?e:!c||!c.pageX||!d.mouse&&e&&e.pageX?!d.mouse&&R.origin&&R.origin.pageX&&n.show.distance?R.origin:e:{pageX:c.pageX,pageY:c.pageY}:R.event)||e||R.event||c||{},_={top:e.pageY,left:e.pageX};else{if(o="event"===o?e&&e.target&&"scroll"!==e.type&&"resize"!==e.type?R.target=t(e.target):R.target:R.target=t(o.jquery?o:O.target),o=t(o).eq(0),0===o.length)return B;o[0]===document||o[0]===window?(v=u.iOS?window.innerWidth:o.width(),b=u.iOS?window.innerHeight:o.height(),o[0]===window&&(_={top:(x||o).scrollTop(),left:(x||o).scrollLeft()})):o.is("area")&&u.imagemap?_=u.imagemap(o,l,S.enabled?f:h):"http://www.w3.org/2000/svg"===o[0].namespaceURI&&u.svg?_=u.svg(o,l):(v=o.outerWidth(),b=o.outerHeight(),_=u.offset(o,k)),_.offset&&(v=_.width,b=_.height,C=_.flipoffset,_=_.offset),(u.iOS<4.1&&u.iOS>3.1||4.3==u.iOS||!u.iOS&&w)&&(r=t(window),_.left-=r.scrollLeft(),_.top-=r.scrollTop()),_.left+="right"===l.x?v:"center"===l.x?v/2:0,_.top+="bottom"===l.y?b:"center"===l.y?b/2:0}return _.left+=d.x+("right"===a.x?-p:"center"===a.x?-p/2:0),_.top+=d.y+("bottom"===a.y?-m:"center"===a.y?-m/2:0),S.enabled?(x={elem:x,height:x[(x[0]===window?"h":"outerH")+"eight"](),width:x[(x[0]===window?"w":"outerW")+"idth"](),scrollLeft:w?0:x.scrollLeft(),scrollTop:w?0:x.scrollTop(),offset:x.offset()||{left:0,top:0}},k={elem:k,scrollLeft:k.scrollLeft(),scrollTop:k.scrollTop(),offset:k.offset()||{left:0,top:0}},_.adjusted={left:"none"!==S.horizontal?S.left(_.left):0,top:"none"!==S.vertical?S.top(_.top):0},_.adjusted.left+_.adjusted.top&&W.attr("class",W[0].className.replace(/ui-tooltip-pos-\w+/i,g+"-pos-"+a.abbrev())),C&&_.adjusted.left&&(_.left+=C.left),C&&_.adjusted.top&&(_.top+=C.top)):_.adjusted={left:0,top:0},y.originalEvent=t.extend({},e),W.trigger(y,[B,_,x.elem||x]),y.isDefaultPrevented()?B:(delete _.adjusted,i===h||isNaN(_.left)||isNaN(_.top)||"mouse"===o||!t.isFunction(s.effect)?W.css(_):t.isFunction(s.effect)&&(s.effect.call(W,B,t.extend({},_)),W.queue(function(e){t(this).css({opacity:"",height:""}),t.browser.msie&&this.style.removeAttribute("filter"),e()})),F=0,B)},redraw:function(){if(B.rendered<1||H)return B;var t,e,i,r,o=n.position.container;return H=1,n.style.height&&W.css("height",n.style.height),n.style.width?W.css("width",n.style.width):(W.css("width","").addClass(k),e=W.width()+1,i=W.css("max-width")||"",r=W.css("min-width")||"",t=(i+r).indexOf("%")>-1?o.width()/100:0,i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||e,r=(r.indexOf("%")>-1?t:1)*parseInt(r,10)||0,e=i+r?Math.min(Math.max(e,r),i):e,W.css("width",Math.round(e)).removeClass(k)),H=0,B},disable:function(e){return"boolean"!=typeof e&&(e=!W.hasClass(b)&&!R.disabled),B.rendered?(W.toggleClass(b,e),t.attr(W[0],"aria-disabled",e)):R.disabled=!!e,B},enable:function(){return B.disable(h)},destroy:function(){var i=e[0],o=t.attr(i,T),s=e.data("qtip");return B.rendered&&(W.stop(1,0).remove(),t.each(B.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(B.timers.show),clearTimeout(B.timers.hide),C(),s&&B!==s||(t.removeData(i,"qtip"),n.suppress&&o&&(t.attr(i,"title",o),e.removeAttr(T)),e.removeAttr("aria-describedby")),e.unbind(".qtip-"+r),delete m[B.id],e}})}function o(e){var n;return e&&"object"===i(e)?(e.metadata!==p&&"object"===i(e.metadata)||(e.metadata={type:e.metadata}),"content"in e&&((e.content===p||"object"!==i(e.content)||e.content.jquery)&&(e.content={text:e.content}),n=e.content.text||h,!t.isFunction(n)&&(!n&&!n.attr||n.length<1||"object"===i(n)&&!n.jquery)&&(e.content.text=h),"title"in e.content&&(e.content.title!==p&&"object"===i(e.content.title)||(e.content.title={text:e.content.title}),n=e.content.title.text||h,!t.isFunction(n)&&(!n&&!n.attr||n.length<1||"object"===i(n)&&!n.jquery)&&(e.content.title.text=h))),"position"in e&&(e.position!==p&&"object"===i(e.position)||(e.position={my:e.position,at:e.position})),"show"in e&&(e.show!==p&&"object"===i(e.show)||(e.show.jquery?e.show={target:e.show}:e.show={event:e.show})),"hide"in e&&(e.hide!==p&&"object"===i(e.hide)||(e.hide.jquery?e.hide={target:e.hide}:e.hide={event:e.hide})),"style"in e&&(e.style!==p&&"object"===i(e.style)||(e.style={classes:e.style})),t.each(u,function(){this.sanitize&&this.sanitize(e)}),e):h}function s(){if(s.history=s.history||[],s.history.push(arguments),"object"===("undefined"==typeof console?"undefined":i(console))){var t=console[console.warn?"warn":"log"],e=Array.prototype.slice.call(arguments);"string"==typeof arguments[0]&&(e[0]="qTip2: "+e[0]),t.apply?t.apply(console,e):t(e)}}var a,l,u,c,d,f=!0,h=!1,p=null,m={},g="ui-tooltip",v="ui-widget",b="ui-state-disabled",y="div.qtip."+g,w=g+"-default",x=g+"-focus",_=g+"-hover",k=g+"-fluid",C="_replacedByqTip",T="oldtitle";l=t.fn.qtip=function(e,n,r){var s=(""+e).toLowerCase(),u=p,c=t.makeArray(arguments).slice(1),d=c[c.length-1],m=this[0]?t.data(this[0],"qtip"):p;return!arguments.length&&m||"api"===s?m:"string"==typeof e?(this.each(function(){var e=t.data(this,"qtip");if(!e)return f;if(d&&d.timeStamp&&(e.cache.event=d),"option"!==s&&"options"!==s||!n)e[s]&&e[s].apply(e[s],c);else{if(!t.isPlainObject(n)&&r===a)return u=e.get(n),h;e.set(n,r)}}),u!==p?u:this):"object"!==i(e)&&arguments.length?void 0:(m=o(t.extend(f,{},e)),l.bind.call(this,m,d))},l.bind=function(e,r){return this.each(function(o){function s(e){function n(){b.render("object"===i(e)||d.show.ready),p.show.add(p.hide).unbind(v)}if(b.cache.disabled)return h;b.cache.event=t.extend({},e),b.cache.target=e?t(e.target):[a],d.show.delay>0?(clearTimeout(b.timers.show),b.timers.show=setTimeout(n,d.show.delay),g.show!==g.hide&&p.hide.bind(g.hide,function(){clearTimeout(b.timers.show)})):n()}var d,p,g,v,b,y;if(y=t.isArray(e.id)?e.id[o]:e.id,y=!y||y===h||y.length<1||m[y]?l.nextid++:m[y]=y,v=".qtip-"+y+"-create",b=n.call(this,y,e),b===h)return f;d=b.options,t.each(u,function(){"initialize"===this.initialize&&this(b)}),p={show:d.show.target,hide:d.hide.target},g={show:t.trim(""+d.show.event).replace(/ /g,v+" ")+v,hide:t.trim(""+d.hide.event).replace(/ /g,v+" ")+v},/mouse(over|enter)/i.test(g.show)&&!/mouse(out|leave)/i.test(g.hide)&&(g.hide+=" mouseleave"+v),p.show.bind("mousemove"+v,function(t){c={pageX:t.pageX,pageY:t.pageY,type:"mousemove"},b.cache.onTarget=f}),p.show.bind(g.show,s),(d.show.ready||d.prerender)&&s(r)})},u=l.plugins={Corner:function(t){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var e=t.charAt(0);this.precedance="t"===e||"b"===e?"y":"x",this.string=function(){return"y"===this.precedance?this.y+this.x:this.x+this.y},this.abbrev=function(){var t=this.x.substr(0,1),e=this.y.substr(0,1);return t===e?t:"c"===t||"c"!==t&&"c"!==e?e+t:t+e},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone}}},offset:function(e,n){var i,r,o,s=e.offset(),a=e.closest("body")[0],l=n;if(l){do{"static"!==l.css("position")&&(r=l.position(),s.left-=r.left+(parseInt(l.css("borderLeftWidth"),10)||0)+(parseInt(l.css("marginLeft"),10)||0),s.top-=r.top+(parseInt(l.css("borderTopWidth"),10)||0)+(parseInt(l.css("marginTop"),10)||0),!i&&"hidden"!==(o=l.css("overflow"))&&"visible"!==o&&(i=l))}while((l=t(l[0].offsetParent)).length);i&&i[0]!==a&&function(t,e){s.left+=e*t.scrollLeft(),s.top+=e*t.scrollTop()}(i,1)}return s},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,3})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_","."))||h,fn:{attr:function(e,n){if(this.length){var r=this[0],o="title",s=t.data(r,"qtip");if(e===o&&s&&"object"===i(s)&&s.options.suppress)return arguments.length<2?t.attr(r,T):(s&&s.options.content.attr===o&&s.cache.attr&&s.set("content.text",n),this.attr(T,n))}return t.fn["attr"+C].apply(this,arguments)},clone:function(e){var n=(t([]),t.fn["clone"+C].apply(this,arguments));return e||n.filter("["+T+"]").attr("title",function(){return t.attr(this,T)}).removeAttr(T),n}}},t.each(u.fn,function(e,n){if(!n||t.fn[e+C])return f;var i=t.fn[e+C]=t.fn[e];t.fn[e]=function(){return n.apply(this,arguments)||i.apply(this,arguments)}}),t.ui||(t["cleanData"+C]=t.cleanData,t.cleanData=function(e){for(var n,i=0;(n=e[i])!==a;i++)try{t(n).triggerHandler("removeqtip")}catch(t){}t["cleanData"+C](e)}),l.version="nightly",l.nextid=0,l.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),l.zindex=15e3,l.defaults={prerender:h,id:h,overwrite:f,suppress:f,content:{text:f,attr:"title",title:{text:h,button:h}},position:{my:"top left",at:"bottom right",target:h,container:h,viewport:h,adjust:{x:0,y:0,mouse:f,resize:f,method:"flip flip"},effect:function(e,n,i){t(this).animate(n,{duration:200,queue:h})}},show:{target:h,event:"mouseenter",effect:f,delay:90,solo:h,ready:h,autofocus:h},hide:{target:h,event:"mouseleave",effect:f,delay:0,fixed:h,inactive:h,leave:"window",distance:h},style:{classes:"",widget:h,width:h,height:h,def:f},events:{render:p,move:p,show:p,hide:p,toggle:p,visible:p,hidden:p,focus:p,blur:p}},u.ajax=function(t){var n=t.plugins.ajax;return"object"===i(n)?n:t.plugins.ajax=new e(t)},u.ajax.initialize="render",u.ajax.sanitize=function(t){var e,n=t.content;n&&"ajax"in n&&(e=n.ajax,"object"!==i(e)&&(e=t.content.ajax={url:e}),"boolean"!=typeof e.once&&e.once&&(e.once=!!e.once))},t.extend(f,l.defaults,{content:{ajax:{loading:f,once:f}}})})},"./common/static/js/vendor/jquery.smooth-scroll.min.js":function(t,e,n){(function(t){/*!
 * Smooth Scroll - v1.4.10 - 2013-03-02
 * https://github.com/kswedberg/jquery-smooth-scroll
 * Copyright (c) 2013 Karl Swedberg
 * Licensed MIT (https://github.com/kswedberg/jquery-smooth-scroll/blob/master/LICENSE-MIT)
 */
!function(t){function e(t){return t.replace(/(:|\.)/g,"\\$1")}var n={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2},i=function(e){var n=[],i=!1,r=e.dir&&"left"==e.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var e=t(this);e[r]()>0?n.push(this):(e[r](1),i=e[r]()>0,i&&n.push(this),e[r](0))}}),n.length||this.each(function(){"BODY"===this.nodeName&&(n=[this])}),"first"===e.el&&n.length>1&&(n=[n[0]]),n};t.fn.extend({scrollable:function(t){var e=i.call(this,{dir:t});return this.pushStack(e)},firstScrollable:function(t){var e=i.call(this,{el:"first",dir:t});return this.pushStack(e)},smoothScroll:function(n){n=n||{};var i=t.extend({},t.fn.smoothScroll.defaults,n),r=t.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(n){var o=this,s=t(this),a=i.exclude,l=i.excludeWithin,u=0,c=0,d=!0,f={},h=location.hostname===o.hostname||!o.hostname,p=i.scrollTarget||(t.smoothScroll.filterPath(o.pathname)||r)===r,m=e(o.hash);if(i.scrollTarget||h&&p&&m){for(;d&&a.length>u;)s.is(e(a[u++]))&&(d=!1);for(;d&&l.length>c;)s.closest(l[c++]).length&&(d=!1)}else d=!1;d&&(n.preventDefault(),t.extend(f,i,{scrollTarget:i.scrollTarget||m,link:o}),t.smoothScroll(f))}),this}}),t.smoothScroll=function(e,n){var i,r,o,s,a=0,l="offset",u="scrollTop",c={},d={};"number"==typeof e?(i=t.fn.smoothScroll.defaults,o=e):(i=t.extend({},t.fn.smoothScroll.defaults,e||{}),i.scrollElement&&(l="position","static"==i.scrollElement.css("position")&&i.scrollElement.css("position","relative"))),i=t.extend({link:null},i),u="left"==i.direction?"scrollLeft":u,i.scrollElement?(r=i.scrollElement,a=r[u]()):r=t("html, body").firstScrollable(),i.beforeScroll.call(r,i),o="number"==typeof e?e:n||t(i.scrollTarget)[l]()&&t(i.scrollTarget)[l]()[i.direction]||0,c[u]=o+a+i.offset,s=i.speed,"auto"===s&&(s=c[u]||r.scrollTop(),s/=i.autoCoefficent),d={duration:s,easing:i.easing,complete:function(){i.afterScroll.call(i.link,i)}},i.step&&(d.step=i.step),r.length?r.stop().animate(c,d):i.afterScroll.call(i.link,i)},t.smoothScroll.version="1.4.10",t.smoothScroll.filterPath=function(t){return t.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},t.fn.smoothScroll.defaults=n}(t)}).call(e,n(0))},"./common/static/js/vendor/timepicker/datepair.js":function(t,e,n){var i,r;i=[n(0),n("./common/static/js/vendor/jquery-ui.min.js"),n("./common/static/js/vendor/timepicker/jquery.timepicker.js")],void 0!==(r=function(t){t(function(){function e(){var e=t(this),n=e.find("input.start.date"),i=e.find("input.end.date"),r=0;if(n.length&&i.length){var o=new Date(n.val());r=new Date(i.val()).getTime()-o.getTime(),e.data("dateDelta",r)}var s=e.find("input.start.time"),a=e.find("input.end.time");if(s.length&&a.length){var l=s.timepicker("getSecondsFromMidnight"),u=a.timepicker("getSecondsFromMidnight");e.data("timeDelta",u-l),r<864e5&&a.timepicker("option","minTime",l)}}function n(){var e=t(this);if(""!=e.val()){var n=e.closest(".datepair");e.hasClass("date")?i(e,n):e.hasClass("time")&&r(e,n)}}function i(t,e){var n=e.find("input.start.date"),i=e.find("input.end.date");if(n.length&&i.length){var r=new Date(n.val()),o=new Date(i.val()),s=e.data("dateDelta");if(s&&t.hasClass("start")){var a=new Date(r.getTime()+s);return i.val(a.format("m/d/Y")),void i.datepicker("update")}var l=o.getTime()-r.getTime();if(l<0&&(l=0,t.hasClass("start")?(i.val(r.format("m/d/Y")),i.datepicker("update")):t.hasClass("end")&&(n.val(o.format("m/d/Y")),n.datepicker("update"))),l<864e5){var u=e.find("input.start.time").val();u&&e.find("input.end.time").timepicker("option",{minTime:u})}else e.find("input.end.time").timepicker("option",{minTime:null});e.data("dateDelta",l)}}function r(t,e){var n=e.find("input.start.time"),i=e.find("input.end.time");if(n.length&&i.length){var r=n.timepicker("getSecondsFromMidnight"),o=i.timepicker("getSecondsFromMidnight"),s=e.data("timeDelta"),a=e.data("dateDelta");t.hasClass("start")&&(!a||a<864e5)&&i.timepicker("option","minTime",r);var l,u=0;if(s&&t.hasClass("start")){var c=(r+s)%86400;c<0&&(c+=86400),i.timepicker("setTime",c),l=c-r}else{if(null===r||null===o)return;l=o-r}if(e.data("timeDelta",l),l<0&&(!s||s>0))var u=864e5;else if(l>0&&s<0)var u=-864e5;var d=e.find(".start.date"),f=e.find(".end.date");if(d.val()&&!f.val()&&(f.val(d.val()),f.datepicker("update"),a=0,e.data("dateDelta",0)),0!=u&&(a||0===a)){var h=new Date(f.val()),c=new Date(h.getTime()+u);f.val(c.format("m/d/Y")),f.datepicker("update"),e.data("dateDelta",a+u)}}}t(".datepair input.date").each(function(){var e=t(this);e.datepicker({dateFormat:"m/d/yy"}),(e.hasClass("start")||e.hasClass("end"))&&e.on("changeDate change",n)}),t(".datepair input.time").each(function(){var e=t(this),i={showDuration:!0,timeFormat:"H:i",scrollDefaultNow:!0};(e.hasClass("start")||e.hasClass("end"))&&(i.onSelect=n),e.timepicker(i)}),t(".datepair").each(e)}),Date.prototype.format=function(t){for(var e="",n=Date.replaceChars,i=0;i<t.length;i++){var r=t.charAt(i);n[r]?e+=n[r].call(this):e+=r}return e},Date.replaceChars={shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d:function(){return(this.getDate()<10?"0":"")+this.getDate()},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return this.getDate()%10==1&&11!=this.getDate()?"st":this.getDate()%10==2&&12!=this.getDate()?"nd":this.getDate()%10==3&&13!=this.getDate()?"rd":"th"},w:function(){return this.getDay()},z:function(){return"Not Yet Supported"},W:function(){return"Not Yet Supported"},F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?"0":"")+(this.getMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){return"Not Yet Supported"},L:function(){return this.getFullYear()%4==0&&this.getFullYear()%100!=0||this.getFullYear()%400==0?"1":"0"},o:function(){return"Not Supported"},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return"Not Yet Supported"},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?"0":"")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?"0":"")+this.getHours()},i:function(){return(this.getMinutes()<10?"0":"")+this.getMinutes()},s:function(){return(this.getSeconds()<10?"0":"")+this.getSeconds()},e:function(){return"Not Yet Supported"},I:function(){return"Not Supported"},O:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+"00"},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+":"+(Math.abs(this.getTimezoneOffset()%60)<10?"0":"")+Math.abs(this.getTimezoneOffset()%60)},T:function(){var t=this.getMonth();this.setMonth(0);var e=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1");return this.setMonth(t),e},Z:function(){return 60*-this.getTimezoneOffset()},c:function(){return this.format("Y-m-d")+"T"+this.format("H:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1e3}}}.apply(e,i))&&(t.exports=r)},"./common/static/js/vendor/timepicker/jquery.timepicker.js":function(t,e,n){function i(t){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r,o,s;!function(i){o=[n(0)],r=i,void 0!==(s="function"==typeof r?r.apply(e,o):r)&&(t.exports=s)}(function(t){function e(e){var n=e.data("timepicker-settings"),i=e.data("timepicker-list");i&&i.length&&(i.remove(),e.data("timepicker-list",!1)),i=t("<ul />"),i.attr("tabindex",-1),i.addClass("ui-timepicker-list"),n.className&&i.addClass(n.className),i.css({display:"none",position:"absolute"}),null===n.minTime&&null===n.durationTime||!n.showDuration||i.addClass("ui-timepicker-with-duration");var o=null!==n.durationTime?n.durationTime:n.minTime,s=null!==n.minTime?n.minTime:0,c=null!==n.maxTime?n.maxTime:s+f-1;c<=s&&(c+=f);for(var d=s;d<=c;d+=60*n.step){var h=d,p=t("<li />");if(p.data("time",h),p.text(u(h,n.timeFormat)),(null!==n.minTime||null!==n.durationTime)&&n.showDuration){var m=t("<span />");m.addClass("ui-timepicker-duration"),m.text(" ("+l(d-o)+")"),p.append(m)}i.append(p)}i.data("timepicker-input",e),e.data("timepicker-list",i);var g=n.appendTo;"string"==typeof g?g=t(g):"function"==typeof g&&(g=g(e)),g.append(i),r(e,i),i.on("click","li",function(n){e.addClass("ui-timepicker-hideme"),e[0].focus(),i.find("li").removeClass("ui-timepicker-selected"),t(this).addClass("ui-timepicker-selected"),a(e),i.hide()})}function n(e,n,i){if(!i&&0!==i)return!1;var r=e.data("timepicker-settings"),o=!1,s=30*r.step;return n.find("li").each(function(e,n){var r=t(n),a=r.data("time")-i;if(Math.abs(a)<s||a==s)return o=r,!1}),o}function r(t,e){var i=c(t.val()),r=n(t,e,i);r&&r.addClass("ui-timepicker-selected")}function o(){if(""!==this.value){var e=t(this),n=c(this.value);if(null===n)return void e.trigger("timeFormatError");var i=e.data("timepicker-settings");if(i.forceRoundTime){var r=n%(60*i.step);r>=30*i.step?n+=60*i.step-r:n-=r}var o=u(n,i.timeFormat);e.val(o)}}function s(e){var n=t(this),i=n.data("timepicker-list");if(!i.is(":visible")){if(40!=e.keyCode)return!0;n.focus()}switch(e.keyCode){case 13:return a(n),v.hide.apply(this),e.preventDefault(),!1;case 38:var r=i.find(".ui-timepicker-selected");r.length?r.is(":first-child")||(r.removeClass("ui-timepicker-selected"),r.prev().addClass("ui-timepicker-selected"),r.prev().position().top<r.outerHeight()&&i.scrollTop(i.scrollTop()-r.outerHeight())):(i.children().each(function(e,n){if(t(n).position().top>0)return r=t(n),!1}),r.addClass("ui-timepicker-selected"));break;case 40:r=i.find(".ui-timepicker-selected"),0===r.length?(i.children().each(function(e,n){if(t(n).position().top>0)return r=t(n),!1}),r.addClass("ui-timepicker-selected")):r.is(":last-child")||(r.removeClass("ui-timepicker-selected"),r.next().addClass("ui-timepicker-selected"),r.next().position().top+2*r.outerHeight()>i.outerHeight()&&i.scrollTop(i.scrollTop()+r.outerHeight()));break;case 27:i.find("li").removeClass("ui-timepicker-selected"),i.hide();break;case 9:v.hide();break;case 16:case 17:case 18:case 19:case 20:case 33:case 34:case 35:case 36:case 37:case 39:case 45:return;default:return void i.find("li").removeClass("ui-timepicker-selected")}}function a(t){var e=t.data("timepicker-settings"),n=t.data("timepicker-list"),i=null,o=n.find(".ui-timepicker-selected");if(o.length?i=o.data("time"):t.val()&&(i=c(t.val()),r(t,n)),null!==i){var s=u(i,e.timeFormat);t.attr("value",s)}t.trigger("change").trigger("changeTime")}function l(t){var e,n=Math.round(t/60);if(Math.abs(n)<60)e=[n,m.mins];else if(60==n)e=["1",m.hr];else{var i=(n/60).toFixed(1);"."!=m.decimal&&(i=i.replace(".",m.decimal)),e=[i,m.hrs]}return e.join(" ")}function u(t,e){if(null!==t){for(var n,i,r=new Date(d.valueOf()+1e3*t),o="",s=0;s<e.length;s++)switch(i=e.charAt(s)){case"a":o+=r.getHours()>11?"pm":"am";break;case"A":o+=r.getHours()>11?"PM":"AM";break;case"g":n=r.getHours()%12,o+=0===n?"12":n;break;case"G":o+=r.getHours();break;case"h":n=r.getHours()%12,0!==n&&n<10&&(n="0"+n),o+=0===n?"12":n;break;case"H":n=r.getHours(),t>=f&&(n=Math.floor(t/3600)),o+=n>9?n:"0"+n;break;case"i":var a=r.getMinutes();o+=a>9?a:"0"+a;break;case"s":t=r.getSeconds(),o+=t>9?t:"0"+t;break;default:o+=i}return o}}function c(t){if(""===t)return null;if(t+0==t)return t;"object"==i(t)&&(t=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds());var e=(new Date(0),t.toLowerCase().match(/(\d{1,2})(?::(\d{1,2}))?(?::(\d{2}))?\s*([pa]?)/));if(!e)return null;var n=parseInt(1*e[1],10);return 3600*(e[4]?12==n?"p"==e[4]?12:0:n+("p"==e[4]?12:0):n)+60*(1*e[2]||0)+(1*e[3]||0)}var d=function(){var t=new Date,e=6e4*t.getTimezoneOffset();t.setHours(0),t.setMinutes(0),t.setSeconds(0);var n=6e4*t.getTimezoneOffset();return new Date(t.valueOf()-n+e)}(),f=86400,h="ontouchstart"in document?"touchstart":"mousedown",p={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,timeFormat:"g:ia",scrollDefaultNow:!1,scrollDefaultTime:!1,selectOnBlur:!1,forceRoundTime:!1,appendTo:"body"},m={decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},g=!1,v={init:function(e){return this.each(function(){var n=t(this);if("SELECT"==n[0].tagName){for(var i=t("<input />"),r={type:"text",value:n.val()},a=n[0].attributes,l=0;l<a.length;l++)r[a[l].nodeName]=a[l].nodeValue;i.attr(r),n.replaceWith(i),n=i}var u=t.extend({},p);e&&(u=t.extend(u,e)),u.minTime&&(u.minTime=c(u.minTime)),u.maxTime&&(u.maxTime=c(u.maxTime)),u.durationTime&&(u.durationTime=c(u.durationTime)),u.lang&&(m=t.extend(m,u.lang)),n.data("timepicker-settings",u),n.attr("autocomplete","off"),n.on("click.timepicker focus.timepicker",v.show),n.on("blur.timepicker",o),n.on("keydown.timepicker",s),n.addClass("ui-timepicker-input"),o.call(n.get(0)),g||(t("body").on(h,function(e){var n=t(e.target);0===n.closest(".ui-timepicker-input").length&&0===n.closest(".ui-timepicker-list").length&&v.hide()}),g=!0)})},show:function(i){var r=t(this);"ontouchstart"in document&&r.blur();var o=r.data("timepicker-list");if(!r.attr("readonly")){if(o&&0!==o.length||(e(r),o=r.data("timepicker-list")),r.hasClass("ui-timepicker-hideme"))return r.removeClass("ui-timepicker-hideme"),void o.hide();if(!o.is(":visible")){v.hide(),r.offset().top+r.outerHeight(!0)+o.outerHeight()>t(window).height()+t(window).scrollTop()?o.css({left:r.offset().left,top:r.offset().top-o.outerHeight()}):o.css({left:r.offset().left,top:r.offset().top+r.outerHeight()}),o.show();var s=r.data("timepicker-settings"),a=o.find(".ui-timepicker-selected");if(a.length||(r.val()?a=n(r,o,c(r.val())):s.scrollDefaultNow?a=n(r,o,c(new Date)):!1!==s.scrollDefaultTime&&(a=n(r,o,c(s.scrollDefaultTime)))),a&&a.length){var l=o.scrollTop()+a.position().top-a.outerHeight();o.scrollTop(l)}else o.scrollTop(0);r.trigger("showTimepicker")}}},hide:function(e){t(".ui-timepicker-list:visible").each(function(){var e=t(this),n=e.data("timepicker-input"),i=n.data("timepicker-settings");i&&i.selectOnBlur&&a(n),e.hide(),n.trigger("hideTimepicker")})},option:function(e,n){var r=t(this),o=r.data("timepicker-settings"),s=r.data("timepicker-list");if("object"==i(e))o=t.extend(o,e);else if("string"==typeof e&&void 0!==n)o[e]=n;else if("string"==typeof e)return o[e];o.minTime&&(o.minTime=c(o.minTime)),o.maxTime&&(o.maxTime=c(o.maxTime)),o.durationTime&&(o.durationTime=c(o.durationTime)),r.data("timepicker-settings",o),s&&(s.remove(),r.data("timepicker-list",!1))},getSecondsFromMidnight:function(){return c(t(this).val())},getTime:function(){return new Date(d.valueOf()+1e3*c(t(this).val()))},setTime:function(e){var n=t(this),i=u(c(e),n.data("timepicker-settings").timeFormat);n.val(i)},remove:function(){var e=t(this);e.hasClass("ui-timepicker-input")&&(e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),e.removeData("timepicker-list"))}};t.fn.timepicker=function(e){return v[e]?v[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==i(e)&&e?void t.error("Method "+e+" does not exist on jQuery.timepicker"):v.init.apply(this,arguments)}})},"./common/static/js/vendor/tinymce/js/tinymce/jquery.tinymce.min.js":function(t,e){(function(){!function(){var t,e,n,i=[],r="undefined"!=typeof global?global:window,o=r.jQuery,s=function(){return r.tinymce};o.fn.tinymce=function(t){var l,u,c,d=this,f="";if(!d.length)return d;if(!t)return s()?s().get(d[0].id):null;d.css("visibility","hidden");var h,p=function(){var e=[],i=0;n||(a(),n=!0),d.each(function(n,r){var o,a=r.id,l=t.oninit;a||(r.id=a=s().DOM.uniqueId()),s().get(a)||(o=s().createEditor(a,t),e.push(o),o.on("init",function(){var t,n=l;d.css("visibility",""),l&&++i==e.length&&("string"==typeof n&&(t=-1===n.indexOf(".")?null:s().resolve(n.replace(/\.\w+$/,"")),n=s().resolve(n)),n.apply(t||s(),e))}))}),o.each(e,function(t,e){e.render()})};return r.tinymce||e||!(l=t.script_url)?1===e?i.push(p):p():(e=1,u=l.substring(0,l.lastIndexOf("/")),-1!=l.indexOf(".min")&&(f=".min"),r.tinymce=r.tinyMCEPreInit||{base:u,suffix:f},-1!=l.indexOf("gzip")&&(c=t.language||"en",l=l+(/\?/.test(l)?"&":"?")+"js=true&core=true&suffix="+escape(f)+"&themes="+escape(t.theme||"modern")+"&plugins="+escape(t.plugins||"")+"&languages="+(c||""),r.tinyMCE_GZ||(r.tinyMCE_GZ={start:function(){var e=function(t){s().ScriptLoader.markDone(s().baseURI.toAbsolute(t))};e("langs/"+c+".js"),e("themes/"+t.theme+"/theme"+f+".js"),e("themes/"+t.theme+"/langs/"+c+".js"),o.each(t.plugins.split(","),function(t,n){n&&(e("plugins/"+n+"/plugin"+f+".js"),e("plugins/"+n+"/langs/"+c+".js"))})},end:function(){}})),(h=document.createElement("script")).type="text/javascript",h.onload=h.onreadystatechange=function(n){n=n||window.event,2===e||"load"!=n.type&&!/complete|loaded/.test(h.readyState)||(s().dom.Event.domLoaded=1,e=2,t.script_loaded&&t.script_loaded(),p(),o.each(i,function(t,e){e()}))},h.src=l,document.body.appendChild(h)),d},o.extend(o.expr[":"],{tinymce:function(t){var e;return!!(t.id&&"tinymce"in r&&(e=s().get(t.id))&&e.editorManager===s())}});var a=function(){var e=function(t){"remove"===t&&this.each(function(t,e){var n=i(e);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(t,e){var n=s().get(e.id.replace(/_parent$/,""));n&&n.remove()})},n=function(t){var n,i=this;if(null!=t)e.call(i),i.each(function(e,n){var i;(i=s().get(n.id))&&i.setContent(t)});else if(0<i.length&&(n=s().get(i[0].id)))return n.getContent()},i=function(t){var e=null;return t&&t.id&&r.tinymce&&(e=s().get(t.id)),e},a=function(t){return!!(t&&t.length&&r.tinymce&&t.is(":tinymce"))},l={};o.each(["text","html","val"],function(e,r){var s=l[r]=o.fn[r],u="text"===r;o.fn[r]=function(e){var r=this;if(!a(r))return s.apply(r,arguments);if(e!==t)return n.call(r.filter(":tinymce"),e),s.apply(r.not(":tinymce"),arguments),r;var l="",c=arguments;return(u?r:r.eq(0)).each(function(t,e){var n=i(e);l+=n?u?n.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):n.getContent({save:!0}):s.apply(o(e),c)}),l}}),o.each(["append","prepend"],function(e,n){var r=l[n]=o.fn[n],s="prepend"===n;o.fn[n]=function(e){var n=this;return a(n)?e!==t?("string"==typeof e&&n.filter(":tinymce").each(function(t,n){var r=i(n);r&&r.setContent(s?e+r.getContent():r.getContent()+e)}),r.apply(n.not(":tinymce"),arguments),n):void 0:r.apply(n,arguments)}}),o.each(["remove","replaceWith","replaceAll","empty"],function(t,n){var i=l[n]=o.fn[n];o.fn[n]=function(){return e.call(this,n),i.apply(this,arguments)}}),l.attr=o.fn.attr,o.fn.attr=function(e,r){var s=this,u=arguments;if(!e||"value"!==e||!a(s))return l.attr.apply(s,u);if(r!==t)return n.call(s.filter(":tinymce"),r),l.attr.apply(s.not(":tinymce"),u),s;var c=s[0],d=i(c);return d?d.getContent({save:!0}):l.attr.apply(o(c),u)}}}()}).call(window)},"./common/static/js/vendor/tinymce/js/tinymce/tinymce.js":function(t,e){function n(t){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(function(){!function(){"use strict";function e(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.concat(n);return t.apply(null,r)}}function i(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function o(t,e,n,i,r){return t(n,i)?lt.some(n):xt(r)&&r(n)?lt.none():e(n,i,r)}function s(t,e){void 0===e&&(e={});var n=0,i={},r=En.fromDom(t),o=Kn(r),s=e.maxLoadTime||5e3,a=function(t){e.referrerPolicy=t},l=function(t){ki(mi(r),t)},u=function(t){var e=mi(r);wo(e,"#"+t).each(Ei)},c=function(t){return ae(i,t).getOrThunk(function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}})},d=function(n,r,a){var u,d=_n._addCacheSuffix(n),f=c(d);i[d]=f,f.count++;var h=function(t,e){for(var n=t.length;n--;)t[n]();f.status=e,f.passed=[],f.failed=[],u&&(u.onload=null,u.onerror=null,u=null)},p=function(){return h(f.passed,2)},m=function(){return h(f.failed,3)},g=function(t,e){t()||(Date.now()-y<s?No.setTimeout(e):m())},v=function e(){g(function(){for(var e=t.styleSheets,n=e.length;n--;){var i=e[n],r=i.ownerNode;if(r&&r.id===u.id)return p(),!0}return!1},e)};if(r&&f.passed.push(r),a&&f.failed.push(a),1!==f.status){if(2===f.status)return void p();if(3===f.status)return void m();f.status=1;var b=En.fromTag("link",o.dom);hr(b,{rel:"stylesheet",type:"text/css",id:f.id});var y=Date.now();e.contentCssCors&&fr(b,"crossOrigin","anonymous"),e.referrerPolicy&&fr(b,"referrerpolicy",e.referrerPolicy),u=b.dom,u.onload=v,u.onerror=m,l(b),fr(b,"href",d)}},f=function(t){return so.nu(function(e){d(t,G(e,Q(ho.value(t))),G(e,Q(ho.error(t))))})},h=function(t,e,n){lo(Mt(t,f)).get(function(t){var i=Pt(t,function(t){return t.isValue()});i.fail.length>0?n(i.fail.map(go)):e(i.pass.map(go))})},p=function(t){var e=_n._addCacheSuffix(t);ae(i,e).each(function(t){0==--t.count&&(delete i[e],u(t.id))})};return{load:d,loadAll:h,unload:p,unloadAll:function(t){At(t,function(t){p(t)})},_setReferrerPolicy:a}}function a(t){var e={},n={},i=[],r={},o={},s=function(e,n,i){var r=t[e];return r?r=wa(r,/[, ]/,wa(r.toUpperCase(),/[, ]/)):(r=ba[e])||(r=wa(n," ",wa(n.toUpperCase()," ")),r=_a(r,i),ba[e]=r),r};t=t||{};var a=Sa(t.schema);!1===t.verify_html&&(t.valid_elements="*[*]");var l=Da(t.valid_styles),u=Da(t.invalid_styles,"map"),c=Da(t.valid_classes,"map"),d=s("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=s("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=s("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=s("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m=s("non_empty_elements","td th iframe video audio object script code pre",h),g=s("move_caret_before_on_enter_elements","td th iframe video audio object script code table",h),v=s("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=s("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",v),y=s("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");xa((t.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(t){o[t]=new RegExp("</"+t+"[^>]*>","gi")});var w=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},x=function(t){var n,r,o,s,a,l,u,c,d,f,h,p,m,g,v,b,y,x,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,C=/[*?+]/;if(t){var T=Ta(t,",");for(e["@"]&&(b=e["@"].attributes,y=e["@"].attributesOrder),n=0,r=T.length;n<r;n++)if(a=_.exec(T[n])){if(g=a[1],d=a[2],v=a[3],c=a[5],p={},m=[],l={attributes:p,attributesOrder:m},"#"===g&&(l.paddEmpty=!0),"-"===g&&(l.removeEmpty=!0),"!"===a[4]&&(l.removeEmptyAttrs=!0),b&&(Qt(b,function(t,e){p[e]=t}),m.push.apply(m,y)),c)for(c=Ta(c,"|"),o=0,s=c.length;o<s;o++)if(a=k.exec(c[o])){if(u={},h=a[1],f=a[2].replace(/[\\:]:/g,":"),g=a[3],x=a[4],"!"===h&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(f),u.required=!0),"-"===h){delete p[f],m.splice(Ca(m,f),1);continue}g&&("="===g&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:f,value:x}),u.defaultValue=x),":"===g&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:f,value:x}),u.forcedValue=x),"<"===g&&(u.validValues=wa(x,"?"))),C.test(f)?(l.attributePatterns=l.attributePatterns||[],u.pattern=w(f),l.attributePatterns.push(u)):(p[f]||m.push(f),p[f]=u)}b||"@"!==d||(b=p,y=m),v&&(l.outputName=d,e[v]=l),C.test(d)?(l.pattern=w(d),i.push(l)):e[d]=l}}},_=function(t){e={},i=[],x(t),xa(a,function(t,e){n[e]=t.children})},k=function(t){var i=/^(~)?(.+)$/;t&&(ba.text_block_elements=ba.block_elements=null,xa(Ta(t,","),function(t){var o=i.exec(t),s="~"===o[1],a=s?"span":"div",l=o[2];if(n[l]=n[a],r[l]=a,s||(b[l.toUpperCase()]={},b[l]={}),!e[l]){var u=e[a];u=_a({},u),delete u.removeEmptyAttrs,delete u.removeEmpty,e[l]=u}xa(n,function(t,e){t[a]&&(n[e]=t=_a({},n[e]),t[l]=t[a])})}))},C=function(e){var i=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;ba[t.schema]=null,e&&xa(Ta(e,","),function(t){var e,r,o=i.exec(t);o&&(r=o[1],e=r?n[o[2]]:n[o[2]]={"#comment":{}},e=n[o[2]],xa(Ta(o[3],"|"),function(t){"-"===r?delete e[t]:e[t]={}}))})},T=function(t){var n,r=e[t];if(r)return r;for(n=i.length;n--;)if(r=i[n],r.pattern.test(t))return r};t.valid_elements?_(t.valid_elements):(xa(a,function(t,i){e[i]={attributes:t.attributes,attributesOrder:t.attributesOrder},n[i]=t.children}),"html5"!==t.schema&&xa(Ta("strong/b em/i"),function(t){var n=Ta(t,"/");e[n[1]].outputName=n[0]}),xa(Ta("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){e[t]&&(e[t].removeEmpty=!0)}),xa(Ta("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(t){e[t].paddEmpty=!0}),xa(Ta("span"),function(t){e[t].removeEmptyAttrs=!0})),k(t.custom_elements),C(t.valid_children),x(t.extended_valid_elements),C("+ol[ul|ol],+ul[ul|ol]"),xa({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(t,n){e[n]&&(e[n].parentsRequired=Ta(t))}),t.invalid_elements&&xa(ka(t.invalid_elements),function(t){e[t]&&delete e[t]}),T("span")||x("span[!data-mce-type|*]");var S=function(){return l},D=function(){return u},E=function(){return c},N=function(){return p},M=function(){return b},A=function(){return v},j=function(){return y};return{children:n,elements:e,getValidStyles:S,getValidClasses:E,getBlockElements:M,getInvalidStyles:D,getShortEndedElements:function(){return h},getTextBlockElements:A,getTextInlineElements:j,getBoolAttrs:N,getElementRule:T,getSelfClosingElements:function(){return f},getNonEmptyElements:function(){return m},getMoveCaretBeforeOnEnterElements:function(){return g},getWhiteSpaceElements:function(){return d},getSpecialElements:function(){return o},isValidChild:function(t,e){var i=n[t.toLowerCase()];return!(!i||!i[e.toLowerCase()])},isValid:function(t,e){var n,i,r=T(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},getCustomElements:function(){return r},addValidElements:x,setValidElements:_,addCustomElements:k,addValidChildren:C}}function l(){function t(n,i){return e.push(n+" ")>Or.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function u(t){return t[Wa]=!0,t}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Ja)-(~t.sourceIndex||Ja);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function d(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function f(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function h(t){return u(function(e){return e=+e,u(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function p(t){return t&&n(t.getElementsByTagName)!==Ga&&t}function m(){}function g(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function v(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=$a++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u=[Va,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[Wa]||(e[Wa]={}),(a=l[i])&&a[0]===Va&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function b(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function y(t,e,n){for(var i=0,r=e.length;i<r;i++)Cl(t,e[i],n);return n}function w(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function x(t,e,n,i,r,o){return i&&!i[Wa]&&(i=x(i)),r&&!r[Wa]&&(r=x(r,o)),u(function(o,s,a,l){var u,c,d,f=[],h=[],p=s.length,m=o||y(e||"*",a.nodeType?[a]:a,[]),g=!t||!o&&e?m:w(m,f,t,a,l),v=n?r||(o?t:p||i)?[]:s:g;if(n&&n(g,v,a,l),i)for(u=w(v,h),i(u,[],a,l),c=u.length;c--;)(d=u[c])&&(v[h[c]]=!(g[h[c]]=d));if(o){if(r||t){if(r){for(u=[],c=v.length;c--;)(d=v[c])&&u.push(g[c]=d);r(null,v=[],u,l)}for(c=v.length;c--;)(d=v[c])&&(u=r?rl.call(o,d):f[c])>-1&&(o[u]=!(s[u]=d))}}else v=w(v===s?v.splice(p,v.length):v),r?r(null,s,v,l):nl.apply(s,v)})}function _(t){for(var e,n,i,r=t.length,o=Or.relative[t[0].type],s=o||Or.relative[" "],a=o?1:0,l=v(function(t){return t===e},s,!0),u=v(function(t){return rl.call(e,t)>-1},s,!0),c=[function(t,n,i){return!o&&(i||n!==Hr)||((e=n).nodeType?l(t,n,i):u(t,n,i))}];a<r;a++)if(n=Or.relative[t[a].type])c=[v(b(c),n)];else{if(n=Or.filter[t[a].type].apply(null,t[a].matches),n[Wa]){for(i=++a;i<r&&!Or.relative[t[i].type];i++);return x(a>1&&b(c),a>1&&g(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ul,"$1"),n,a<i&&_(t.slice(a,i)),i<r&&_(t=t.slice(i)),i<r&&g(t))}c.push(n)}return b(c)}function k(t,e){var n=e.length>0,i=t.length>0,r=function(r,o,s,a,l){var u,c,d,f=0,h="0",p=r&&[],m=[],g=Hr,v=r||i&&Or.find.TAG("*",l),b=Va+=null==g?1:Math.random()||.1,y=v.length;for(l&&(Hr=o!==$r&&o);h!==y&&null!=(u=v[h]);h++){if(i&&u){for(c=0;d=t[c++];)if(d(u,o,s)){a.push(u);break}l&&(Va=b)}n&&((u=!d&&u)&&f--,r&&p.push(u))}if(f+=h,n&&h!==f){for(c=0;d=e[c++];)d(p,m,o,s);if(r){if(f>0)for(;h--;)p[h]||m[h]||(m[h]=tl.call(a));m=w(m)}nl.apply(a,m),l&&!r&&m.length>0&&f+e.length>1&&Cl.uniqueSort(a)}return l&&(Va=b,Hr=g),p};return n?u(r):r}function C(t,e){var n=this;void 0===e&&(e={});var i={},r=window,o={},s=0,l=Mo.forElement(En.fromDom(t),{contentCssCors:e.contentCssCors,referrerPolicy:e.referrerPolicy}),u=[],c=e.schema?e.schema:a({}),d=Na({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),f=e.ownEvents?new Ha:Ha.Event,h=c.getBlockElements(),p=tu.overrideDefaults(function(){return{context:t,element:Et.getRoot()}}),m=function(t){if("string"==typeof t)return!!h[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!h[t.nodeName])}return!1},g=function(e){return e&&t&&ht(e)?t.getElementById(e):e},v=function(t){return p("string"==typeof t?g(t):t)},b=function(t,e,n){var i,r,o=v(t);return o.length&&(i=Nt[e],r=i&&i.get?i.get(o,e):o.attr(e)),void 0===r&&(r=n||""),r},y=function(t){var e=g(t);return e?e.attributes:[]},w=function(t,n,i){""===i&&(i=null);var r=v(t),o=r.attr(n);if(r.length){var s=Nt[n];s&&s.set?s.set(r,i,n):r.attr(n,i),o!==i&&e.onSetAttrib&&e.onSetAttrib({attrElm:r,attrName:n,attrValue:i})}},x=function(e,n){if(!iu||1!==e.nodeType||n)return e.cloneNode(n);var i=t.createElement(e.nodeName);return eu(y(e),function(t){w(i,t.nodeName,b(e,t.nodeName))}),i},_=function(){return e.root_element||t.body},k=function(t){var e=Wi(t);return{x:e.x,y:e.y,w:e.width,h:e.height}},T=function(e,n){return Mr(t.body,g(e),n)},S=function(t,n,i){var r=ht(n)?v(t).css(n,i):v(t).css(n);e.update_styles&&su(d,r)},D=function(t,n){var i=v(t).css(n);e.update_styles&&su(d,i)},E=function(t,e,n){var i=v(t);return n?i.css(e):(e=e.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}),"float"===e&&(e=un.browser.isIE()?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[e]:void 0)},N=function(t){var e,n;return t=g(t),e=E(t,"width"),n=E(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},M=function(t){t=g(t);var e=T(t),n=N(t);return{x:e.x,y:e.y,w:n.w,h:n.h}},A=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(ru.test(e)){var i=e.toLowerCase().split(/,/),r=t.nodeName.toLowerCase();for(n=i.length-1;n>=0;n--)if(i[n]===r)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var o=Array.isArray(t)?t:[t];return Cl(e,o[0].ownerDocument||o[0],null,o).length>0},j=function(t,e,n,i){var r,o=[],s=g(t);for(i=void 0===i,n=n||("BODY"!==_().nodeName?_().parentNode:null),_n.is(e,"string")&&(r=e,e="*"===e?function(t){return 1===t.nodeType}:function(t){return A(t,r)});s&&s!==n&&s.nodeType&&9!==s.nodeType;){if(!e||"function"==typeof e&&e(s)){if(!i)return[s];o.push(s)}s=s.parentNode}return i?o:null},P=function(t,e,n){var i=j(t,e,n,!1);return i&&i.length>0?i[0]:null},I=function(t,e,n){var i=e;if(t)for("string"==typeof e&&(i=function(t){return A(t,e)}),t=t[n];t;t=t[n])if("function"==typeof i&&i(t))return t;return null},O=function(t,e){return I(t,e,"nextSibling")},R=function(t,e){return I(t,e,"previousSibling")},B=function(n,i){return Cl(n,g(i)||e.root_element||t,[])},L=function(t,e,i){var r,o="string"==typeof t?g(t):t;if(!o)return!1;if(_n.isArray(o)&&(o.length||0===o.length))return r=[],eu(o,function(t,n){t&&r.push(e.call(i,"string"==typeof t?g(t):t,n))}),r;var s=i||n;return e.call(s,o)},z=function(t,e){v(t).each(function(t,n){eu(e,function(t,e){w(n,e,t)})})},F=function(t,e){var n=v(t);iu?n.each(function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(t){tu("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}}):n.html(e)},H=function(e,n,i,r,o){return L(e,function(e){var s="string"==typeof n?t.createElement(n):n;return z(s,i),r&&("string"!=typeof r&&r.nodeType?s.appendChild(r):"string"==typeof r&&F(s,r)),o?s:e.appendChild(s)})},W=function(e,n,i){return H(t.createElement(e),e,n,i,!0)},U=va.decode,V=va.encodeAllRaw,$=function(t,e,n){var i,r="";r+="<"+t;for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&void 0!==e[i]&&(r+=" "+i+'="'+V(e[i])+'"');return void 0!==n?r+">"+n+"</"+t+">":r+" />"},q=function(e){var n,i=t.createElement("div"),r=t.createDocumentFragment();for(r.appendChild(i),e&&(i.innerHTML=e);n=i.firstChild;)r.appendChild(n);return r.removeChild(i),r},X=function(t,e){var n=v(t);return e?n.each(function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},Y=function(t){return L(t,function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))})},G=function(t){return d.parse(t)},J=function(t,e){return d.serialize(t,e)},Q=function(e){var n,r;if(Et!==C.DOM&&t===document){if(i[e])return;i[e]=!0}r=t.getElementById("mceDefaultStyles"),r||(r=t.createElement("style"),r.id="mceDefaultStyles",r.type="text/css",n=t.getElementsByTagName("head")[0],n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=e:r.appendChild(t.createTextNode(e))},Z=function(t){t||(t=""),At(t.split(","),function(t){o[t]=!0,l.load(t,K)})},tt=function(t,e,n){v(t).toggleClass(e,n).each(function(){""===this.className&&tu(this).attr("class",null)})},et=function(t,e){v(t).addClass(e)},nt=function(t,e){tt(t,e,!1)},it=function(t,e){return v(t).hasClass(e)},rt=function(t){v(t).show()},ot=function(t){v(t).hide()},st=function(t){return"none"===v(t).css("display")},at=function(t){return(t||"mce_")+s++},lt=function(t){var e="string"==typeof t?g(t):t;return $i(e)?e.outerHTML:tu("<div></div>").append(tu(e).clone()).html()},ut=function(t,e){v(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}X(tu(this).html(e),!0)})},ct=function(t,e){var n=g(e);return L(t,function(t){var e=n.parentNode,i=n.nextSibling;return i?e.insertBefore(t,i):e.appendChild(t),t})},dt=function(t,e,n){return L(e,function(e){return _n.is(e,"array")&&(t=t.cloneNode(!0)),n&&eu(nu(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},ft=function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=W(e),eu(y(t),function(e){w(n,e.nodeName,b(t,e.nodeName))}),dt(n,t,!0)),n||t},pt=function(t,e){for(var n,i=t;i;){for(n=e;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},mt=function(t){return d.toHex(_n.trim(t))},gt=function(t){if($i(t)){var e="a"===t.nodeName.toLowerCase()&&!b(t,"href")&&b(t,"id");if(b(t,"name")||b(t,"data-mce-bookmark")||e)return!0}return!1},vt=function(t,e){var n,i,r=0;if(gt(t))return!1;if(t=t.firstChild){var o=new Ao(t,t.parentNode),s=c?c.getWhiteSpaceElements():{};e=e||(c?c.getNonEmptyElements():null);do{if(n=t.nodeType,$i(t)){var a=t.getAttribute("data-mce-bogus");if(a){t=o.next("all"===a);continue}if(i=t.nodeName.toLowerCase(),e&&e[i]){if("br"===i){r++,t=o.next();continue}return!1}if(gt(t))return!1}if(8===n)return!1;if(3===n&&!Rs(t.nodeValue))return!1;if(3===n&&t.parentNode&&s[t.parentNode.nodeName]&&Rs(t.nodeValue))return!1;t=o.next()}while(t)}return r<=1},bt=function(){return t.createRange()},yt=function(t,e,n){var i,r,o,s=bt();if(t&&e)return s.setStart(t.parentNode,au(t)),s.setEnd(e.parentNode,au(e)),i=s.extractContents(),s=bt(),s.setStart(e.parentNode,au(e)+1),s.setEnd(t.parentNode,au(t)+1),r=s.extractContents(),o=t.parentNode,o.insertBefore(Zs(Et,i),t),n?o.insertBefore(n,t):o.insertBefore(e,t),o.insertBefore(Zs(Et,r),t),X(t),n||e},wt=function n(i,o,s,a){if(_n.isArray(i)){for(var l=i.length,c=[];l--;)c[l]=n(i[l],o,s,a);return c}return!e.collect||i!==t&&i!==r||u.push([i,o,s,a]),f.bind(i,o,s,a||Et)},xt=function e(n,i,o){if(_n.isArray(n)){for(var s=n.length,a=[];s--;)a[s]=e(n[s],i,o);return a}if(u.length>0&&(n===t||n===r))for(var s=u.length;s--;){var l=u[s];n!==l[0]||i&&i!==l[1]||o&&o!==l[2]||f.unbind(l[0],l[1],l[2])}return f.unbind(n,i,o)},_t=function(t,e,n){return f.fire(t,e,n)},kt=function(t){if(t&&$i(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},Ct=function(t){for(var e=_(),n=null;t&&t!==e&&null===(n=kt(t));t=t.parentNode);return n},Tt=function(){if(u.length>0)for(var t=u.length;t--;){var e=u[t];f.unbind(e[0],e[1],e[2])}Qt(o,function(t,e){l.unload(e),delete o[e]}),Cl.setDocument&&Cl.setDocument()},St=function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},Dt=function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},Et={doc:t,settings:e,win:r,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:l,boundEvents:u,styles:d,schema:c,events:f,isBlock:m,$:p,$$:v,root:null,clone:x,getRoot:_,getViewPort:k,getRect:M,getSize:N,getParent:P,getParents:j,get:g,getNext:O,getPrev:R,select:B,is:A,add:H,create:W,createHTML:$,createFragment:q,remove:X,setStyle:S,getStyle:E,setStyles:D,removeAllAttribs:Y,setAttrib:w,setAttribs:z,getAttrib:b,getPos:T,parseStyle:G,serializeStyle:J,addStyle:Q,loadCSS:Z,addClass:et,removeClass:nt,hasClass:it,toggleClass:tt,show:rt,hide:ot,isHidden:st,uniqueId:at,setHTML:F,getOuterHTML:lt,setOuterHTML:ut,decode:U,encode:V,insertAfter:ct,replace:dt,rename:ft,findCommonAncestor:pt,toHex:mt,run:L,getAttribs:y,isEmpty:vt,createRng:bt,nodeIndex:au,split:yt,bind:wt,unbind:xt,fire:_t,getContentEditable:kt,getContentEditableParent:Ct,destroy:Tt,isChildOf:St,dumpRng:Dt},Nt=ou(d,e,function(){return Et});return Et}function T(){var t=this,e=[],i={},r={},o=[],s=function(t,e){var n=It(o,function(n){return n.name===t&&n.state===e});At(n,function(t){return t.callback()})},a=function(t){if(r[t])return r[t].instance},l=function(t){var e;return r[t]&&(e=r[t].dependencies),e||[]},u=function(t,e){!1!==T.languageLoad&&g(t,function(){var n=Su.getCode(),r=","+(e||"")+",";!n||e&&-1===r.indexOf(","+n+",")||fu.ScriptLoader.add(i[t]+"/langs/"+n+".js")},"loaded")},c=function(t,n,i){var o=n;return e.push(o),r[t]={instance:o,dependencies:i},s(t,"added"),o},d=function(t){delete i[t],delete r[t]},f=function(t,e){return"object"===n(e)?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},h=function(e,n){var i=t.urls[e];At(n,function(t){fu.ScriptLoader.add(i+"/"+t)})},p=function(t,e,n,i){var r=l(t);At(r,function(t){var n=f(e,t);m(n.resource,n,void 0,void 0)}),n&&(i?n.call(i):n.call(fu))},m=function(t,e,n,o,a){if(!i[t]){var l="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==l.indexOf("/")&&-1===l.indexOf("://")&&(l=T.baseURL+"/"+l),i[t]=l.substring(0,l.lastIndexOf("/"));var u=function(){s(t,"loaded"),p(t,e,n,o)};r[t]?u():fu.ScriptLoader.add(l,u,o,a)}},g=function(t,e,n){void 0===n&&(n="added"),le(r,t)&&"added"===n?e():le(i,t)&&"loaded"===n?e():o.push({name:t,state:n,callback:e})};return{items:e,urls:i,lookup:r,_listeners:o,get:a,dependencies:l,requireLangPack:u,add:c,remove:d,createUrl:f,addComponents:h,load:m,waitFor:g}}function S(t,e,n){var i=function(){return Pc(t),0===e},r=function(){return Pc(t)?e>=t.data.length:e>=t.childNodes.length},o=function(){var n=Bc(t.ownerDocument);return n.setStart(t,e),n.setEnd(t,e),n},s=function(){return n||(n=qc(S(t,e))),n},a=function(){return s().length>0},l=function(n){return n&&t===n.container()&&e===n.offset()},u=function(n){return Rc(t,n?e-1:e)};return{container:Q(t),offset:Q(e),toRange:o,getClientRects:s,isVisible:a,isAtStart:i,isAtEnd:r,isEqual:l,getNode:u}}function D(t){return{getBookmark:e(Sp,t),moveToBookmark:e(Dp,t)}}function E(t){return{walk:function(e,n){return cm(t,e,n)},split:yg,normalize:function(e){return vg(t,e).fold(nt,function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0})}}}function N(t,e){void 0===e&&(e=a());var n=function(){};t=t||{},!1!==t.fix_self_closing&&(t.fix_self_closing=!0);var i=t.comment?t.comment:n,r=t.cdata?t.cdata:n,o=t.text?t.text:n,s=t.start?t.start:n,l=t.end?t.end:n,u=t.pi?t.pi:n,c=t.doctype?t.doctype:n,d=function(n,a){void 0===a&&(a="html");for(var d,f,h,p,m,g,v,b,y,w,x,_,k,C,T,S,D,E,N,M,A=n.html,j=0,P=[],I=0,O=va.decode,R=_n.makeMap("src,href,data,background,formaction,poster,xlink:href"),B=/((java|vb)script|mhtml):/i,L="html"===a?0:1,z=function(t){var e,n;for(e=P.length;e--&&P[e].name!==t;);if(e>=0){for(n=P.length-1;n>=e;n--)t=P[n],t.valid&&l(t.name);P.length=e}},F=function(t,e){return o(Nb(t,n),e)},H=function(e){""!==e&&(">"===e.charAt(0)&&(e=" "+e),t.allow_conditional_comments||"[if"!==e.substr(0,3).toLowerCase()||(e=" "+e),i(Nb(e,n)))},W=function(t){return ae(n.uris,t).getOr(t)},U=function(t,e){var n=t||"",i=!Pe(n,"--"),r=Ob(A,i,e);return t=A.substr(e,r-e),H(i?n+t:t),r+1},V=(function(e,n,i,r,o){var s,a,l=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),i=W(n in K?n:O(i||r||o||"")),G&&!b&&!1===Ab(n)){if(!(s=C[n])&&T){for(a=T.length;a--&&(s=T[a],!s.pattern.test(n)););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(i in s.validValues))return}if(R[n]&&!t.allow_script_urls){var u=i.replace(l,"");try{u=decodeURIComponent(u)}catch(t){u=unescape(u)}if(B.test(u))return;if(jb(t,u))return}b&&(n in R||0===n.indexOf("on"))||(p.map[n]=i,p.push({name:n,value:i}))}),$=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),q=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,X=e.getShortEndedElements(),Y=t.self_closing_elements||e.getSelfClosingElements(),K=e.getBoolAttrs(),G=t.validate,J=t.remove_internals,Q=t.fix_self_closing,Z=e.getSpecialElements(),tt=A+">";d=$.exec(tt);){var et=d[0];if(j<d.index&&F(O(A.substr(j,d.index-j))),f=d[7])f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),z(f);else if(f=d[8]){if(d.index+et.length>A.length){F(O(A.substr(d.index))),j=d.index+et.length;continue}f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),y=f in X,Q&&Y[f]&&P.length>0&&P[P.length-1].name===f&&z(f);var nt=Rb(q,d[9]);if(null!==nt){if("all"===nt){j=Pb(e,A,$.lastIndex),$.lastIndex=j;continue}x=!1}if(!G||(w=e.getElementRule(f))){if(x=!0,G&&(C=w.attributes,T=w.attributePatterns),(k=d[9])?(b=-1!==k.indexOf("data-mce-type"),b&&J&&(x=!1),p=[],p.map={},k.replace(q,V)):(p=[],p.map={}),G&&!b){if(S=w.attributesRequired,D=w.attributesDefault,E=w.attributesForced,N=w.removeEmptyAttrs,N&&!p.length&&(x=!1),E)for(m=E.length;m--;)_=E[m],v=_.name,M=_.value,"{$uid}"===M&&(M="mce_"+I++),p.map[v]=M,p.push({name:v,value:M});if(D)for(m=D.length;m--;)_=D[m],(v=_.name)in p.map||(M=_.value,"{$uid}"===M&&(M="mce_"+I++),p.map[v]=M,p.push({name:v,value:M}));if(S){for(m=S.length;m--&&!(S[m]in p.map););-1===m&&(x=!1)}if(_=p.map["data-mce-bogus"]){if("all"===_){j=Pb(e,A,$.lastIndex),$.lastIndex=j;continue}x=!1}}x&&s(f,p,y)}else x=!1;if(h=Z[f]){h.lastIndex=j=d.index+et.length,(d=h.exec(A))?(x&&(g=A.substr(j,d.index-j)),j=d.index+d[0].length):(g=A.substr(j),j=A.length),x&&(g.length>0&&F(g,!0),l(f)),$.lastIndex=j;continue}y||(k&&k.indexOf("/")===k.length-1?x&&l(f):P.push({name:f,valid:x}))}else if(f=d[1])H(f);else if(f=d[2]){var it=1===L||t.preserve_cdata||P.length>0&&e.isValidChild(P[P.length-1].name,"#cdata");if(!it){j=U("",d.index+2),$.lastIndex=j;continue}r(f)}else if(f=d[3])c(f);else{if((f=d[4])||"<!"===et){j=U(f,d.index+et.length),$.lastIndex=j;continue}if(f=d[5]){if(1!==L){j=U("?",d.index+2),$.lastIndex=j;continue}u(f,d[6])}}j=d.index+et.length}for(j<A.length&&F(O(A.substr(j))),m=P.length-1;m>=0;m--)f=P[m],f.valid&&l(f.name)};return{parse:function(t,e){void 0===e&&(e="html"),d(Eb(t),e)}}}function M(t,e){var n,i;return{selectorChangedWithUnbind:function(r,o){return n||(n={},i={},e.on("NodeChange",function(e){var r=e.element,o=t.getParents(r,null,t.getRoot()),s={};_n.each(n,function(e,n){_n.each(o,function(r){if(t.is(r,n))return i[n]||(_n.each(e,function(t){t(!0,{node:r,selector:n,parents:o})}),i[n]=e),s[n]=e,!1})}),_n.each(i,function(t,e){s[e]||(delete i[e],_n.each(t,function(t){t(!1,{node:r,selector:e,parents:o})}))})})),n[r]||(n[r]=[]),n[r].push(o),{unbind:function(){xT(n,r,o),xT(i,r,o)}}}}}function A(t,e){var n={};return{findAll:function(i,r){r||(r=it);var o=It(FT(i),function(e){var n=e.src;return!!un.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!n||n===un.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n)&&r(e):0===n.indexOf("data:")&&r(e)))))}),s=Mt(o,function(t){if(void 0!==n[t.src])return new _o(function(e){n[t.src].then(function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})})});var i=new _o(function(n,i){zT(e,t,n,i)}).then(function(t){return delete n[t.image.src],t}).catch(function(e){return delete n[t.src],e});return n[t.src]=i,i});return _o.all(s)}}}function j(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,reposition:t,getArgs:t}}function P(t){var e=[],n=function(){var e=t.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():j()},i=function(){return lt.from(e[0])},r=function(t,e){return!(t.type!==e.type||t.text!==e.text||t.progressBar||t.timeout||e.progressBar||e.timeout)},o=function(){e.length>0&&n().reposition(e)},s=function(t){e.push(t)},a=function(t){zt(e,function(e){return e===t}).each(function(t){e.splice(t,1)})},l=function(l){if(!t.removed&&hD(t))return Lt(e,function(t){return r(n().getArgs(t),l)}).getOrThunk(function(){t.editorManager.setActive(t);var e=n().open(l,function(){a(e),o(),i().fold(function(){return t.focus()},function(t){return Zg(En.fromDom(t.getEl()))})});return s(e),o(),e})},u=function(){i().each(function(t){n().close(t),a(t),o()})},c=function(){return e};return function(t){t.on("SkinLoaded",function(){var e=gf(t);e&&l({text:e,type:"warning",timeout:0})}),t.on("ResizeEditor ResizeWindow NodeChange",function(){No.requestAnimationFrame(o)}),t.on("remove",function(){At(e.slice(),function(t){n().close(t)})})}(t),{open:l,close:u,getNotifications:c}}function I(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}function O(t,e){var n={},i=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e},r=function(t,n,r,o){var s=new XMLHttpRequest;s.open("POST",e.url),s.withCredentials=e.credentials,s.upload.onprogress=function(t){o(t.loaded/t.total*100)},s.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){if(s.status<200||s.status>=300)return void r("HTTP Error: "+s.status);var t=JSON.parse(s.responseText);if(!t||"string"!=typeof t.location)return void r("Invalid JSON: "+s.responseText);n(i(e.basePath,t.location))};var a=new FormData;a.append("file",t.blob(),t.filename()),s.send(a)},o=function(){return new _o(function(t){t([])})},s=function(t,e){return{url:e,blobInfo:t,status:!0}},a=function(t,e,n){return{url:"",blobInfo:t,status:!1,error:{message:e,options:n}}},l=function(t,e){_n.each(n[t],function(t){t(e)}),delete n[t]},u=function(e,n,i){return t.markPending(e.blobUri()),new _o(function(r){var o,u,c=function(){};try{var d=function(){o&&(o.close(),u=c)},f=function(n){d(),t.markUploaded(e.blobUri(),n),l(e.blobUri(),s(e,n)),r(s(e,n))},h=function(n,i){var o=i||{};d(),t.removeFailed(e.blobUri()),l(e.blobUri(),a(e,n,o)),r(a(e,n,o))};u=function(t){t<0||t>100||(o||(o=i()),o.progressBar.value(t))},n(e,f,h,u)}catch(t){r(a(e,t.message,{}))}})},c=function(t){return t===r},d=function(t){var e=t.blobUri();return new _o(function(t){n[e]=n[e]||[],n[e].push(t)})},f=function(n,i){return n=_n.grep(n,function(e){return!t.isUploaded(e.blobUri())}),_o.all(_n.map(n,function(n){return t.isPending(n.blobUri())?d(n):u(n,e.handler,i)}))},h=function(t,n){return!e.url&&c(e.handler)?o():f(t,n)};return!1===xt(e.handler)&&(e.handler=r),{upload:h}}function R(){var t={},e=function(t,e){return{status:t,resultUri:e}},n=function(e){return e in t};return{hasBlobUri:n,getResultUri:function(e){var n=t[e];return n?n.resultUri:null},isPending:function(e){return!!n(e)&&1===t[e].status},isUploaded:function(e){return!!n(e)&&2===t[e].status},markPending:function(n){t[n]=e(1,null)},markUploaded:function(n,i){t[n]=e(2,i)},removeFailed:function(e){delete t[e]},destroy:function(){t={}}}}function B(t){var e={},n=function(t){return t?e[t]:e},i=function(t){return le(e,t)},r=function t(n,i){n&&("string"!=typeof n?_n.each(n,function(e,n){t(n,e)}):(mt(i)||(i=[i]),_n.each(i,function(t){void 0===t.deep&&(t.deep=!t.selector),void 0===t.split&&(t.split=!t.selector||t.inline),void 0===t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),e[n]=i))},o=function(t){return t&&e[t]&&delete e[t],e};return r(HD(t.dom)),r(wf(t)),{get:n,has:i,register:r,unregister:o}}var L=function(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=n(t);return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},z=function(t){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(t)},F=function(t,e){return Array.prototype.slice.call(t).sort(e)},H=function(t,e){return W(function(n,i){return t.eq(e(n),e(i))})},W=function(t){return{eq:t}},U=W(function(t,e){return t===e}),V=U,$=function(t){return W(function(e,n){if(e.length!==n.length)return!1;for(var i=e.length,r=0;r<i;r++)if(!t.eq(e[r],n[r]))return!1;return!0})},q=function(t,e){return H($(t),function(t){return F(t,e)})},X=function(t){return W(function(e,n){var i=Object.keys(e),r=Object.keys(n);if(!q(V).eq(i,r))return!1;for(var o=i.length,s=0;s<o;s++){var a=i[s];if(!t.eq(e[a],n[a]))return!1}return!0})},Y=W(function(t,e){if(t===e)return!0;var n=L(t);return n===L(e)&&(z(n)?t===e:"array"===n?$(Y).eq(t,e):"object"===n&&X(Y).eq(t,e))}),K=function(){},G=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t(e.apply(null,n))}},J=function(t,e){return function(n){return t(e(n))}},Q=function(t){return function(){return t}},Z=function(t){return t},tt=function(t){return function(e){return!t(e)}},et=function(t){return function(){throw new Error(t)}},nt=Q(!1),it=Q(!0),rt=function(){return ot},ot=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t};return{fold:function(t,e){return t()},is:nt,isSome:nt,isNone:it,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:Q(null),getOrUndefined:Q(void 0),or:n,orThunk:e,map:rt,each:K,bind:rt,exists:nt,forall:it,filter:rt,equals:t,equals_:t,toArray:function(){return[]},toString:Q("none()")}}(),st=function t(e){var n=Q(e),i=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:it,isNone:nt,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:i,orThunk:i,map:function(n){return t(n(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:ot},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(nt,function(t){return n(e,t)})}};return o},at=function(t){return null===t||void 0===t?ot:st(t)},lt={some:st,none:rt,from:at},ut=function(t){var e=n(t);return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},ct=function(t){return function(e){return ut(e)===t}},dt=function(t){return function(e){return n(e)===t}},ft=function(t){return function(e){return t===e}},ht=ct("string"),pt=ct("object"),mt=ct("array"),gt=ft(null),vt=dt("boolean"),bt=ft(void 0),yt=function(t){return null===t||void 0===t},wt=function(t){return!yt(t)},xt=dt("function"),_t=dt("number"),kt=Array.prototype.slice,Ct=Array.prototype.indexOf,Tt=Array.prototype.push,St=function(t,e){return Ct.call(t,e)},Dt=function(t,e){var n=St(t,e);return-1===n?lt.none():lt.some(n)},Et=function(t,e){return St(t,e)>-1},Nt=function(t,e){for(var n=0,i=t.length;n<i;n++){if(e(t[n],n))return!0}return!1},Mt=function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;r++){var o=t[r];i[r]=e(o,r)}return i},At=function(t,e){for(var n=0,i=t.length;n<i;n++){e(t[n],n)}},jt=function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n],n)}},Pt=function(t,e){for(var n=[],i=[],r=0,o=t.length;r<o;r++){var s=t[r];(e(s,r)?n:i).push(s)}return{pass:n,fail:i}},It=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];e(o,i)&&n.push(o)}return n},Ot=function(t,e,n){return jt(t,function(t){n=e(n,t)}),n},Rt=function(t,e,n){return At(t,function(t){n=e(n,t)}),n},Bt=function(t,e,n){for(var i=0,r=t.length;i<r;i++){var o=t[i];if(e(o,i))return lt.some(o);if(n(o,i))break}return lt.none()},Lt=function(t,e){return Bt(t,e,nt)},zt=function(t,e){for(var n=0,i=t.length;n<i;n++){if(e(t[n],n))return lt.some(n)}return lt.none()},Ft=function(t){for(var e=[],n=0,i=t.length;n<i;++n){if(!mt(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);Tt.apply(e,t[n])}return e},Ht=function(t,e){return Ft(Mt(t,e))},Wt=function(t,e){for(var n=0,i=t.length;n<i;++n){if(!0!==e(t[n],n))return!1}return!0},Ut=function(t){var e=kt.call(t,0);return e.reverse(),e},Vt=function(t,e){return It(t,function(t){return!Et(e,t)})},$t=function(t,e){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];n[String(o)]=e(o,i)}return n},qt=function(t,e){var n=kt.call(t,0);return n.sort(e),n},Xt=function(t){return 0===t.length?lt.none():lt.some(t[0])},Yt=function(t){return 0===t.length?lt.none():lt.some(t[t.length-1])},Kt=xt(Array.from)?Array.from:function(t){return kt.call(t)},Gt=Object.keys,Jt=Object.hasOwnProperty,Qt=function(t,e){for(var n=Gt(t),i=0,r=n.length;i<r;i++){var o=n[i];e(t[o],o)}},Zt=function(t,e){return te(t,function(t,n){return{k:n,v:e(t,n)}})},te=function(t,e){var n={};return Qt(t,function(t,i){var r=e(t,i);n[r.k]=r.v}),n},ee=function(t){return function(e,n){t[n]=e}},ne=function(t,e,n,i){var r={};return Qt(t,function(t,r){(e(t,r)?n:i)(t,r)}),r},ie=function(t,e){var n={},i={};return ne(t,e,ee(n),ee(i)),{t:n,f:i}},re=function(t,e){var n={};return ne(t,e,ee(n),K),n},oe=function(t,e){var n=[];return Qt(t,function(t,i){n.push(e(t,i))}),n},se=function(t){return oe(t,function(t){return t})},ae=function(t,e){return le(t,e)?lt.from(t[e]):lt.none()},le=function(t,e){return Jt.call(t,e)},ue=function(t,e,n){return void 0===n&&(n=Y),X(n).eq(t,e)},ce=Array.isArray,de=function(t){if(ce(t))return t;for(var e=[],n=0,i=t.length;n<i;n++)e[n]=t[n];return e},fe=function(t,e,n){var i,r;if(!t)return!1;if(n=n||t,void 0!==t.length){for(i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return!1}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return!1;return!0},he=function(t,e){var n=[];return fe(t,function(i,r){n.push(e(i,r,t))}),n},pe=function(t,e){var n=[];return fe(t,function(i,r){e&&!e(i,r,t)||n.push(i)}),n},me=function(t,e){if(t)for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},ge=function(t,e,n,i){for(var r=bt(n)?t[0]:n,o=0;o<t.length;o++)r=e.call(i,r,t[o],o);return r},ve=function(t,e,n){var i,r;for(i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return i;return-1},be=function(t){return t[t.length-1]},ye=function(){return ye=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},ye.apply(this,arguments)},we=function(t,e,n,i){var r=t.isiOS()&&!0===/ipad/i.test(n),o=t.isiOS()&&!r,s=t.isiOS()||t.isAndroid(),a=s||i("(pointer:coarse)"),l=r||!o&&s&&i("(min-device-width:768px)"),u=o||s&&!l,c=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!u&&!l&&!c;return{isiPad:Q(r),isiPhone:Q(o),isTablet:Q(l),isPhone:Q(u),isTouch:Q(a),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:Q(c),isDesktop:Q(d)}},xe=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.test(e))return i}},_e=function(t,e){var n=xe(t,e);if(!n)return{major:0,minor:0};var i=function(t){return Number(e.replace(n,"$"+t))};return Te(i(1),i(2))},ke=function(t,e){var n=String(e).toLowerCase();return 0===t.length?Ce():_e(t,n)},Ce=function(){return Te(0,0)},Te=function(t,e){return{major:t,minor:e}},Se={nu:Te,detect:ke,unknown:Ce},De=function(t,e){var n=String(e).toLowerCase();return Lt(t,function(t){return t.search(n)})},Ee=function(t,e){return De(t,e).map(function(t){var n=Se.detect(t.versionRegexes,e);return{current:t.name,version:n}})},Ne=function(t,e){return De(t,e).map(function(t){var n=Se.detect(t.versionRegexes,e);return{current:t.name,version:n}})},Me={detectBrowser:Ee,detectOs:Ne},Ae=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},je=function(t,e){return-1!==t.indexOf(e)},Pe=function(t,e){return Ae(t,e,0)},Ie=function(t){return function(e){return e.replace(t,"")}},Oe=Ie(/^\s+|\s+$/g),Re=Ie(/^\s+/g),Be=Ie(/\s+$/g),Le=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ze=function(t){return function(e){return je(e,t)}},Fe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return je(t,"edge/")&&je(t,"chrome")&&je(t,"safari")&&je(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Le],search:function(t){return je(t,"chrome")&&!je(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return je(t,"msie")||je(t,"trident")}},{name:"Opera",versionRegexes:[Le,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ze("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ze("firefox")},{name:"Safari",versionRegexes:[Le,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(je(t,"safari")||je(t,"mobile/"))&&je(t,"applewebkit")}}],He=[{name:"Windows",search:ze("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return je(t,"iphone")||je(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ze("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ze("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ze("linux"),versionRegexes:[]},{name:"Solaris",search:ze("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ze("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ze("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],We={browsers:Q(Fe),oses:Q(He)},Ue=function(){return Ve({current:void 0,version:Se.unknown()})},Ve=function(t){var e=t.current,n=t.version,i=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:i("Edge"),isChrome:i("Chrome"),isIE:i("IE"),isOpera:i("Opera"),isFirefox:i("Firefox"),isSafari:i("Safari")}},$e={unknown:Ue,nu:Ve,edge:Q("Edge"),chrome:Q("Chrome"),ie:Q("IE"),opera:Q("Opera"),firefox:Q("Firefox"),safari:Q("Safari")},qe=function(){return Xe({current:void 0,version:Se.unknown()})},Xe=function(t){var e=t.current,n=t.version,i=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:i("Windows"),isiOS:i("iOS"),isAndroid:i("Android"),isOSX:i("OSX"),isLinux:i("Linux"),isSolaris:i("Solaris"),isFreeBSD:i("FreeBSD"),isChromeOS:i("ChromeOS")}},Ye={unknown:qe,nu:Xe,windows:Q("Windows"),ios:Q("iOS"),android:Q("Android"),linux:Q("Linux"),osx:Q("OSX"),solaris:Q("Solaris"),freebsd:Q("FreeBSD"),chromeos:Q("ChromeOS")},Ke=function(t,e){var n=We.browsers(),i=We.oses(),r=Me.detectBrowser(n,t).fold($e.unknown,$e.nu),o=Me.detectOs(i,t).fold(Ye.unknown,Ye.nu);return{browser:r,os:o,deviceType:we(o,r,t,e)}},Ge={detect:Ke},Je=function(t){return window.matchMedia(t).matches},Qe=function(t){var e,n=!1;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return n||(n=!0,e=t.apply(null,i)),e}}(function(){return Ge.detect(navigator.userAgent,Je)}),Ze=function(){return Qe()},tn=navigator.userAgent,en=Ze(),nn=en.browser,rn=en.os,on=en.deviceType,sn=/WebKit/.test(tn)&&!nn.isEdge(),an="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,ln=-1!==tn.indexOf("Windows Phone"),un={opera:nn.isOpera(),webkit:sn,ie:!(!nn.isIE()&&!nn.isEdge())&&nn.version.major,gecko:nn.isFirefox(),mac:rn.isOSX()||rn.isiOS(),iOS:on.isiPad()||on.isiPhone(),android:rn.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:nn.isIE()?document.documentMode||7:10,fileApi:an,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!nn.isIE(),desktop:on.isDesktop(),windowsPhone:ln,browser:{current:nn.current,version:nn.version,isChrome:nn.isChrome,isEdge:nn.isEdge,isFirefox:nn.isFirefox,isIE:nn.isIE,isOpera:nn.isOpera,isSafari:nn.isSafari},os:{current:rn.current,version:rn.version,isAndroid:rn.isAndroid,isChromeOS:rn.isChromeOS,isFreeBSD:rn.isFreeBSD,isiOS:rn.isiOS,isLinux:rn.isLinux,isOSX:rn.isOSX,isSolaris:rn.isSolaris,isWindows:rn.isWindows},deviceType:{isDesktop:on.isDesktop,isiPad:on.isiPad,isiPhone:on.isiPhone,isPhone:on.isPhone,isTablet:on.isTablet,isTouch:on.isTouch,isWebView:on.isWebView}},cn=/^\s*|\s*$/g,dn=function(t){return null===t||void 0===t?"":(""+t).replace(cn,"")},fn=function(t,e){return e?!("array"!==e||!ce(t))||n(t)===e:void 0!==t},hn=function(t,e,n){var i;for(t=t||[],e=e||",","string"==typeof t&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n},pn=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},mn=function(t,e,n){var i,r,o,s=this,a=0;t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t);var l=t[3].match(/(^|\.)(\w+)$/i)[2],u=s.createNS(t[3].replace(/\.\w+$/,""),n);if(!u[l]){if("static"===t[2])return u[l]=e,void(this.onCreate&&this.onCreate(t[2],t[3],u[l]));e[l]||(e[l]=function(){},a=1),u[l]=e[l],s.extend(u[l].prototype,e),t[5]&&(i=s.resolve(t[5]).prototype,r=t[5].match(/\.(\w+)$/i)[1],o=u[l],u[l]=a?function(){return i[r].apply(this,arguments)}:function(){return this.parent=i[r],o.apply(this,arguments)},u[l].prototype[l]=u[l],s.each(i,function(t,e){u[l].prototype[e]=i[e]}),s.each(e,function(t,e){i[e]?u[l].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!==l&&(u[l].prototype[e]=t)})),s.each(e.static,function(t,e){u[l][e]=t})}},gn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++){var r=e[i];for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];void 0!==s&&(t[o]=s)}}return t},vn=function t(e,n,i,r){r=r||this,e&&(i&&(e=e[i]),fe(e,function(e,o){if(!1===n.call(r,e,o,i))return!1;t(e,n,i,r)}))},bn=function(t,e){var n,i;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)i=t[n],e[i]||(e[i]={}),e=e[i];return e},yn=function(t,e){var n,i;for(e=e||window,t=t.split("."),n=0,i=t.length;n<i&&(e=e[t[n]]);n++);return e},wn=function(t,e){return!t||fn(t,"array")?t:he(t.split(e||","),dn)},xn=function(t){var e=un.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t},_n={trim:dn,isArray:ce,is:fn,toArray:de,makeMap:hn,each:fe,map:he,grep:pe,inArray:me,hasOwn:pn,extend:gn,create:mn,walk:vn,createNS:bn,resolve:yn,explode:wn,_addCacheSuffix:xn},kn=function(t,e){var n=e||document,i=n.createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Sn(i.childNodes[0])},Cn=function(t,e){var n=e||document,i=n.createElement(t);return Sn(i)},Tn=function(t,e){var n=e||document,i=n.createTextNode(t);return Sn(i)},Sn=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:t}},Dn=function(t,e,n){return lt.from(t.dom.elementFromPoint(e,n)).map(Sn)},En={fromHtml:kn,fromTag:Cn,fromText:Tn,fromDom:Sn,fromPoint:Dn},Nn=function(t,e){var n=[],i=function(t){return n.push(t),e(t)},r=e(t);do{r=r.bind(i)}while(r.isSome());return n},Mn=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},An=function(t,e){return Mn(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)},jn=function(t,e){var n=t.dom;if(1!==n.nodeType)return!1;var i=n;if(void 0!==i.matches)return i.matches(e);if(void 0!==i.msMatchesSelector)return i.msMatchesSelector(e);if(void 0!==i.webkitMatchesSelector)return i.webkitMatchesSelector(e);if(void 0!==i.mozMatchesSelector)return i.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Pn=function(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount},In=function(t,e){var n=void 0===e?document:e.dom;return Pn(n)?[]:Mt(n.querySelectorAll(t),En.fromDom)},On=function(t,e){var n=void 0===e?document:e.dom;return Pn(n)?lt.none():lt.from(n.querySelector(t)).map(En.fromDom)},Rn=function(t,e){return t.dom===e.dom},Bn=function(t,e){var n=t.dom,i=e.dom;return n!==i&&n.contains(i)},Ln=function(t,e){return An(t.dom,e.dom)},zn=function(t,e){return Ze().browser.isIE()?Ln(t,e):Bn(t,e)},Fn=("undefined"!=typeof window?window:Function("return this;")(),function(t){return t.dom.nodeName.toLowerCase()}),Hn=function(t){return t.dom.nodeType},Wn=function(t){return function(e){return Hn(e)===t}},Un=function(t){return 8===Hn(t)||"#comment"===Fn(t)},Vn=Wn(1),$n=Wn(3),qn=Wn(9),Xn=Wn(11),Yn=function(t){return En.fromDom(t.dom.ownerDocument)},Kn=function(t){return qn(t)?t:Yn(t)},Gn=function(t){return En.fromDom(Kn(t).dom.documentElement)},Jn=function(t){return En.fromDom(Kn(t).dom.defaultView)},Qn=function(t){return lt.from(t.dom.parentNode).map(En.fromDom)},Zn=function(t,e){for(var n=xt(e)?e:nt,i=t.dom,r=[];null!==i.parentNode&&void 0!==i.parentNode;){var o=i.parentNode,s=En.fromDom(o);if(r.push(s),!0===n(s))break;i=o}return r},ti=function(t){var e=function(e){return It(e,function(e){return!Rn(t,e)})};return Qn(t).map(oi).map(e).getOr([])},ei=function(t){return lt.from(t.dom.previousSibling).map(En.fromDom)},ni=function(t){return lt.from(t.dom.nextSibling).map(En.fromDom)},ii=function(t){return Ut(Nn(t,ei))},ri=function(t){return Nn(t,ni)},oi=function(t){return Mt(t.dom.childNodes,En.fromDom)},si=function(t,e){var n=t.dom.childNodes;return lt.from(n[e]).map(En.fromDom)},ai=function(t){return si(t,0)},li=function(t){return si(t,t.dom.childNodes.length-1)},ui=function(t){return t.dom.childNodes.length},ci=function(t){var e=t.dom.head;if(null===e||void 0===e)throw new Error("Head is not available yet");return En.fromDom(e)},di=function(t){return Xn(t)},fi=xt(Element.prototype.attachShadow)&&xt(Node.prototype.getRootNode),hi=Q(fi),pi=fi?function(t){return En.fromDom(t.dom.getRootNode())}:Kn,mi=function(t){return di(t)?t:ci(Kn(t))},gi=function(t){var e=pi(t);return di(e)?lt.some(e):lt.none()},vi=function(t){return En.fromDom(t.dom.host)},bi=function(t){if(hi()&&wt(t.target)){var e=En.fromDom(t.target);if(Vn(e)&&yi(e)&&t.composed&&t.composedPath){var n=t.composedPath();if(n)return Xt(n)}}return lt.from(t.target)},yi=function(t){return wt(t.dom.shadowRoot)},wi=function(t,e){Qn(t).each(function(n){n.dom.insertBefore(e.dom,t.dom)})},xi=function(t,e){ni(t).fold(function(){Qn(t).each(function(t){ki(t,e)})},function(t){wi(t,e)})},_i=function(t,e){ai(t).fold(function(){ki(t,e)},function(n){t.dom.insertBefore(e.dom,n.dom)})},ki=function(t,e){t.dom.appendChild(e.dom)},Ci=function(t,e){wi(t,e),ki(e,t)},Ti=function(t,e){At(e,function(e){wi(t,e)})},Si=function(t,e){At(e,function(e){ki(t,e)})},Di=function(t){t.dom.textContent="",At(oi(t),function(t){Ei(t)})},Ei=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},Ni=function(t){var e=oi(t);e.length>0&&Ti(t,e),Ei(t)},Mi=function t(e){var n=$n(e)?e.dom.parentNode:e.dom;if(void 0===n||null===n||null===n.ownerDocument)return!1;var i=n.ownerDocument;return gi(En.fromDom(n)).fold(function(){return i.body.contains(n)},J(t,vi))},Ai=function t(e,n){return{left:e,top:n,translate:function(i,r){return t(e+i,n+r)}}},ji=Ai,Pi=function(t){var e=t.getBoundingClientRect();return ji(e.left,e.top)},Ii=function(t,e){return void 0!==t?t:void 0!==e?e:0},Oi=function(t){var e=t.dom.ownerDocument,n=e.body,i=e.defaultView,r=e.documentElement;if(n===t.dom)return ji(n.offsetLeft,n.offsetTop);var o=Ii(null===i||void 0===i?void 0:i.pageYOffset,r.scrollTop),s=Ii(null===i||void 0===i?void 0:i.pageXOffset,r.scrollLeft),a=Ii(r.clientTop,n.clientTop),l=Ii(r.clientLeft,n.clientLeft);return Ri(t).translate(s-l,o-a)},Ri=function(t){var e=t.dom,n=e.ownerDocument,i=n.body;return i===e?ji(i.offsetLeft,i.offsetTop):Mi(t)?Pi(e):ji(0,0)},Bi=function(t){var e=void 0!==t?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,i=e.body.scrollTop||e.documentElement.scrollTop;return ji(n,i)},Li=function(t,e,n){var i=void 0!==n?n.dom:document,r=i.defaultView;r&&r.scrollTo(t,e)},zi=function(t,e){Ze().browser.isSafari()&&xt(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(e)},Fi=function(t){var e=void 0===t?window:t;return lt.from(e.visualViewport)},Hi=function(t,e,n,i){return{x:t,y:e,width:n,height:i,right:t+n,bottom:e+i}},Wi=function(t){var e=void 0===t?window:t,n=e.document,i=Bi(En.fromDom(n));return Fi(e).fold(function(){var t=e.document.documentElement,n=t.clientWidth,r=t.clientHeight;return Hi(i.left,i.top,n,r)},function(t){return Hi(Math.max(t.pageLeft,i.left),Math.max(t.pageTop,i.top),t.width,t.height)})},Ui=function(t){return function(e){return!!e&&e.nodeType===t}},Vi=function(t){return!!t&&!Object.getPrototypeOf(t)},$i=Ui(1),qi=function(t){var e=t.map(function(t){return t.toLowerCase()});return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return Et(e,n)}return!1}},Xi=function(t,e){var n=e.toLowerCase().split(" ");return function(e){var i;if($i(e))for(i=0;i<n.length;i++){var r=e.ownerDocument.defaultView.getComputedStyle(e,null);if((r?r.getPropertyValue(t):null)===n[i])return!0}return!1}},Yi=function(t){return function(e){return $i(e)&&e.hasAttribute(t)}},Ki=function(t){return $i(t)&&t.hasAttribute("data-mce-bogus")},Gi=function(t){return $i(t)&&"all"===t.getAttribute("data-mce-bogus")},Ji=function(t){return $i(t)&&"TABLE"===t.tagName},Qi=function(t){return function(e){if($i(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},Zi=qi(["textarea","input"]),tr=Ui(3),er=Ui(8),nr=Ui(9),ir=Ui(11),rr=qi(["br"]),or=qi(["img"]),sr=Qi("true"),ar=Qi("false"),lr=qi(["td","th"]),ur=qi(["video","audio","object","embed"]),cr=function(t){return void 0!==t.style&&xt(t.style.getPropertyValue)},dr=function(t,e,n){if(!(ht(n)||vt(n)||_t(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},fr=function(t,e,n){dr(t.dom,e,n)},hr=function(t,e){var n=t.dom;Qt(e,function(t,e){dr(n,e,t)})},pr=function(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n},mr=function(t,e){return lt.from(pr(t,e))},gr=function(t,e){var n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},vr=function(t,e){t.dom.removeAttribute(e)},br=function(t){return Rt(t.dom.attributes,function(t,e){return t[e.name]=e.value,t},{})},yr=function(t,e,n){if(!ht(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);cr(t)&&t.style.setProperty(e,n)},wr=function(t,e){var n=t.dom;Qt(e,function(t,e){yr(n,e,t)})},xr=function(t,e){var n=t.dom,i=window.getComputedStyle(n),r=i.getPropertyValue(e);return""!==r||Mi(t)?r:_r(n,e)},_r=function(t,e){return cr(t)?t.style.getPropertyValue(e):""},kr=function(t,e){var n=t.dom,i=_r(n,e);return lt.from(i).filter(function(t){return t.length>0})},Cr=function(t){var e={},n=t.dom;if(cr(n))for(var i=0;i<n.style.length;i++){var r=n.style.item(i);e[r]=n.style[r]}return e},Tr=function(t){return t.dom.offsetWidth},Sr=Ze().browser,Dr=function(t){return Lt(t,Vn)},Er=function(t){return Sr.isFirefox()&&"table"===Fn(t)?Dr(oi(t)).filter(function(t){return"caption"===Fn(t)}).bind(function(t){return Dr(ri(t)).map(function(e){var n=e.dom.offsetTop,i=t.dom.offsetTop,r=t.dom.offsetHeight;return n<=i?-r:0})}).getOr(0):0},Nr=function(t,e){return t.children&&Et(t.children,e)},Mr=function(t,e,n){var i,r,o=0,s=0,a=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===xr(En.fromDom(t),"position"))return r=e.getBoundingClientRect(),o=r.left+(a.documentElement.scrollLeft||t.scrollLeft)-a.documentElement.clientLeft,s=r.top+(a.documentElement.scrollTop||t.scrollTop)-a.documentElement.clientTop,{x:o,y:s};for(i=e;i&&i!==n&&i.nodeType&&!Nr(i,n);)o+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!==n&&i.nodeType&&!Nr(i,n);)o-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=Er(En.fromDom(e))}return{x:o,y:s}},Ar={},jr={exports:Ar};!function(t,e,i,r){!function(r){if("object"===n(e)&&void 0!==i)i.exports=r();else if("function"==typeof t&&t.amd)t([],r);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.EphoxContactWrapper=r()}}(function(){return function(){function t(e,n,i){function o(a,l){if(!n[a]){if(!e[a]){var u="function"==typeof r&&r;if(!l&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(t){return o(e[a][1][t]||t)},d,d.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof r&&r,a=0;a<i.length;a++)o(i[a]);return o}return t}()({1:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(d===setTimeout)return setTimeout(t,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(e){try{return d.call(null,t,0)}catch(e){return d.call(this,t,0)}}}function s(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){g&&p&&(g=!1,p.length?m=p.concat(m):v=-1,m.length&&l())}function l(){if(!g){var t=o(a);g=!0;for(var e=m.length;e;){for(p=m,m=[];++v<e;)p&&p[v].run();v=-1,e=m.length}p=null,g=!1,s(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var d,f,h=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(t){d=i}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,m=[],g=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new u(t,e)),1!==m.length||g||o(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(t,e,i){(function(t){!function(i){function r(){}function o(t,e){return function(){t.apply(e,arguments)}}function s(t){if("object"!==n(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,s._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?l:u)(e.promise,t._value);var i;try{i=n(t._value)}catch(t){return void u(e.promise,t)}l(e.promise,i)})}function l(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===n(e)||"function"==typeof e)){var i=e.then;if(e instanceof s)return t._state=3,t._value=e,void c(t);if("function"==typeof i)return void f(o(i,e),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&s._immediateFn(function(){t._handled||s._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,l(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}var h=setTimeout;s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new d(t,e,n)),n},s.all=function(t){var e=Array.prototype.slice.call(t);return new s(function(t,i){function r(s,a){try{if(a&&("object"===n(a)||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,function(t){r(s,t)},i)}e[s]=a,0==--o&&t(e)}catch(t){i(t)}}if(0===e.length)return t([]);for(var o=e.length,s=0;s<e.length;s++)r(s,e[s])})},s.resolve=function(t){return t&&"object"===n(t)&&t.constructor===s?t:new s(function(e){e(t)})},s.reject=function(t){return new s(function(e,n){n(t)})},s.race=function(t){return new s(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},s._immediateFn="function"==typeof t?function(e){t(e)}:function(t){h(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},s._setImmediateFn=function(t){s._immediateFn=t},s._setUnhandledRejectionFn=function(t){s._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=s:i.Promise||(i.Promise=s)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,i){function r(t,e){this._id=t,this._clearFn=e}var o=t("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},u=0;n.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n.setImmediate="function"==typeof e?e:function(t){var e=u++,i=!(arguments.length<2)&&a.call(arguments,1);return l[e]=!0,o(function(){l[e]&&(i?t.apply(null,i):t.call(null),n.clearImmediate(e))}),e},n.clearImmediate="function"==typeof i?i:function(t){delete l[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var i=t("promise-polyfill"),r=function(){return"undefined"!=typeof window?window:Function("return this;")()}();e.exports={boltExport:r.Promise||i}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,Ar,jr,void 0);var Pr,Ir,Or,Rr,Br,Lr,zr,Fr,Hr,Wr,Ur,Vr,$r,qr,Xr,Yr,Kr,Gr,Jr,Qr=jr.exports.boltExport,Zr=function t(e){var n=lt.none(),i=[],r=function(e){return t(function(t){o(function(n){t(e(n))})})},o=function(t){a()?u(t):i.push(t)},s=function(t){a()||(n=lt.some(t),l(i),i=[])},a=function(){return n.isSome()},l=function(t){At(t,u)},u=function(t){n.each(function(e){setTimeout(function(){t(e)},0)})};return e(s),{get:o,map:r,isReady:a}},to=function(t){return Zr(function(e){e(t)})},eo={nu:Zr,pure:to},no=function(t){setTimeout(function(){throw t},0)},io=function t(e){var n=function(t){e().then(t,no)};return{map:function(n){return t(function(){return e().then(n)})},bind:function(n){return t(function(){return e().then(function(t){return n(t).toPromise()})})},anonBind:function(n){return t(function(){return e().then(function(){return n.toPromise()})})},toLazy:function(){return eo.nu(n)},toCached:function(){var n=null;return t(function(){return null===n&&(n=e()),n})},toPromise:e,get:n}},ro=function(t){return io(function(){return new Qr(t)})},oo=function(t){return io(function(){return Qr.resolve(t)})},so={nu:ro,pure:oo},ao=function(t,e){return e(function(e){var n=[],i=0,r=function(r){return function(o){n[r]=o,++i>=t.length&&e(n)}};0===t.length?e([]):At(t,function(t,e){t.get(r(e))})})},lo=function(t){return ao(t,so.nu)},uo=function t(e){var n=function(t){return e===t},i=function(n){return t(e)},r=function(n){return t(e)},o=function(n){return t(n(e))},s=function(n){return t(e)},a=function(t){t(e)},l=function(t){return t(e)},u=function(t,n){return n(e)},c=function(t){return t(e)},d=function(t){return t(e)},f=function(){return lt.some(e)};return{is:n,isValue:it,isError:nt,getOr:Q(e),getOrThunk:Q(e),getOrDie:Q(e),or:i,orThunk:r,fold:u,map:o,mapError:s,each:a,bind:l,exists:c,forall:d,toOptional:f}},co=function t(e){var n=function(t){return t()},i=function(){return et(String(e))()},r=function(t){return t},o=function(t){return t()},s=function(n){return t(e)},a=function(n){return t(n(e))},l=function(n){return t(e)};return{is:nt,isValue:nt,isError:it,getOr:Z,getOrThunk:n,getOrDie:i,or:r,orThunk:o,fold:function(t,n){return t(e)},map:s,mapError:a,each:K,bind:l,exists:nt,forall:it,toOptional:lt.none}},fo=function(t,e){return t.fold(function(){return co(e)},uo)},ho={value:uo,error:co,fromOption:fo},po=function(t){if(!mt(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return At(t,function(i,r){var o=Gt(i);if(1!==o.length)throw new Error("one and only one name per case");var s=o[0],a=i[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!mt(a))throw new Error("case arguments must be an array");e.push(s),n[s]=function(){var n=arguments.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+n);for(var i=new Array(n),o=0;o<i.length;o++)i[o]=arguments[o];var l=function(t){var n=Gt(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));if(!Wt(e,function(t){return Et(n,t)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[s].apply(null,i)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);return arguments[r].apply(null,i)},match:l,log:function(t){console.log(t,{constructors:e,constructor:s,params:i})}}}}),n},mo={generate:po},go=(mo.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t){return t.fold(Z,Z)}),vo=function(t,e,n){for(var i=t.dom,r=xt(n)?n:nt;i.parentNode;){i=i.parentNode;var o=En.fromDom(i);if(e(o))return lt.some(o);if(r(o))break}return lt.none()},bo=function(t,e,n){return o(function(t,e){return e(t)},vo,t,e,n)},yo=function(t,e,n){return vo(t,function(t){return jn(t,e)},n)},wo=function(t,e){return On(e,t)},xo=function(t,e,n){return o(function(t,e){return jn(t,e)},yo,t,e,n)},_o=window.Promise?window.Promise:function(){function t(t,e){return function(){t.apply(e,arguments)}}function e(t){var e=this;if(null===this._state)return void this._deferreds.push(t);c(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(e){return void t.reject(e)}t.resolve(i)})}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===n(e)||"function"==typeof e)){var s=e.then;if("function"==typeof s)return void a(t(s,e),t(i,this),t(r,this))}this._state=!0,this._value=e,o.call(this)}catch(t){r.call(this,t)}}function r(t){this._state=!1,this._value=t,o.call(this)}function o(){for(var t=0,n=this._deferreds.length;t<n;t++)e.call(this,this._deferreds[t]);this._deferreds=null}function s(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function a(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(t){if(i)return;i=!0,n(t)}}var l=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=function(e){if("object"!==n(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(e,t(i,this),t(r,this))},c=u.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)};return u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,n){var i=this;return new u(function(r,o){e.call(i,new s(t,n,r,o))})},u.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new u(function(e,i){function r(s,a){try{if(a&&("object"===n(a)||"function"==typeof a)){var l=a.then;if("function"==typeof l)return void l.call(a,function(t){r(s,t)},i)}t[s]=a,0==--o&&e(t)}catch(t){i(t)}}if(0===t.length)return e([]);for(var o=t.length,s=0;s<t.length;s++)r(s,t[s])})},u.resolve=function(t){return t&&"object"===n(t)&&t.constructor===u?t:new u(function(e){e(t)})},u.reject=function(t){return new u(function(e,n){n(t)})},u.race=function(t){return new u(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},u}(),ko=function(t,e){var n,i=window.requestAnimationFrame,r=["ms","moz","webkit"],o=function(t){window.setTimeout(t,0)};for(n=0;n<r.length&&!i;n++)i=window[r[n]+"RequestAnimationFrame"];i||(i=o),i(t,e)},Co=function(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)},To=function(t,e){return"number"!=typeof e&&(e=1),setInterval(t,e)},So=function(t){return clearTimeout(t)},Do=function(t){return clearInterval(t)},Eo=function(t,e){var n,i=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];clearTimeout(n),n=Co(function(){t.apply(this,i)},e)};return i.stop=function(){clearTimeout(n)},i},No={requestAnimationFrame:function(t,e){if(Pr)return void Pr.then(t);Pr=new _o(function(t){e||(e=document.body),ko(t,e)}).then(t)},setTimeout:Co,setInterval:To,setEditorTimeout:function(t,e,n){return Co(function(){t.removed||e()},n)},setEditorInterval:function(t,e,n){var i=To(function(){t.removed?clearInterval(i):e()},n);return i},debounce:Eo,throttle:Eo,clearInterval:Do,clearTimeout:So},Mo=function(){var t=new WeakMap;return{forElement:function(e,n){var i=pi(e),r=i.dom;return lt.from(t.get(r)).getOrThunk(function(){var e=s(r,n);return t.set(r,e),e})}}}(),Ao=function(){function t(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},t.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},t.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},t.prototype.findSibling=function(t,e,n,i){var r,o;if(t){if(!i&&t[e])return t[e];if(t!==this.rootNode){if(r=t[n])return r;for(o=t.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(r=o[n])return r}}},t.prototype.findPreviousNode=function(t,e,n,i){var r,o,s;if(t){if(r=t[n],this.rootNode&&r===this.rootNode)return;if(r){if(!i)for(s=r[e];s;s=s[e])if(!s[e])return s;return r}if((o=t.parentNode)&&o!==this.rootNode)return o}},t}(),jo=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Po=["td","th"],Io=["thead","tbody","tfoot"],Oo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Ro=["h1","h2","h3","h4","h5","h6"],Bo=["li","dd","dt"],Lo=["ul","ol","dl"],zo=["pre","script","textarea","style"],Fo=function(t){var e;return function(n){return e=e||$t(t,it),e.hasOwnProperty(Fn(n))}},Ho=Fo(Ro),Wo=Fo(jo),Uo=function(t){return"table"===Fn(t)},Vo=function(t){return Vn(t)&&!Wo(t)},$o=function(t){return Vn(t)&&"br"===Fn(t)},qo=Fo(Oo),Xo=Fo(Lo),Yo=Fo(Bo),Ko=Fo(Io),Go=Fo(Po),Jo=Fo(zo),Qo=function(t,e,n){return yo(t,e,n).isSome()},Zo=function(t){return"\ufeff"===t},ts=function(t){return t.replace(/\uFEFF/g,"")},es="\ufeff",ns=Zo,is=ts,rs=$i,os=tr,ss=function(t){return os(t)&&(t=t.parentNode),rs(t)&&t.hasAttribute("data-mce-caret")},as=function(t){return os(t)&&ns(t.data)},ls=function(t){return ss(t)||as(t)},us=function(t){return t.firstChild!==t.lastChild||!rr(t.firstChild)},cs=function(t,e){var n,i=t.ownerDocument,r=i.createTextNode(es),o=t.parentNode;if(e){if(n=t.previousSibling,os(n)){if(ls(n))return n;if(gs(n))return n.splitText(n.data.length-1)}o.insertBefore(r,t)}else{if(n=t.nextSibling,os(n)){if(ls(n))return n;if(ms(n))return n.splitText(1),n}t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r)}return r},ds=function(t){var e=t.container();return!!tr(e)&&(e.data.charAt(t.offset())===es||t.isAtStart()&&as(e.previousSibling))},fs=function(t){var e=t.container();return!!tr(e)&&(e.data.charAt(t.offset()-1)===es||t.isAtEnd()&&as(e.nextSibling))},hs=function(){var t=document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t},ps=function(t,e,n){var i=e.ownerDocument,r=i.createElement(t);r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(hs());var o=e.parentNode;return n?o.insertBefore(r,e):e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r),r},ms=function(t){return os(t)&&t.data[0]===es},gs=function(t){return os(t)&&t.data[t.data.length-1]===es},vs=function(t){var e=t.getElementsByTagName("br"),n=e[e.length-1];Ki(n)&&n.parentNode.removeChild(n)},bs=function(t){return t&&t.hasAttribute("data-mce-caret")?(vs(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null},ys=function(t){return ss(t.startContainer)},ws=sr,xs=ar,_s=rr,ks=tr,Cs=qi(["script","style","textarea"]),Ts=qi(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Ss=qi(["table"]),Ds=ls,Es=function(t){return!Ds(t)&&(ks(t)?!Cs(t.parentNode):Ts(t)||_s(t)||Ss(t)||Ms(t))},Ns=function(t){return $i(t)&&"true"===t.getAttribute("unselectable")},Ms=function(t){return!1===Ns(t)&&xs(t)},As=function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(Ms(t))return!1;if(ws(t))return!0}return!0},js=function(t){return!!Ms(t)&&!0!==Rt(Kt(t.getElementsByTagName("*")),function(t,e){return t||ws(e)},!1)},Ps=function(t){return Ts(t)||js(t)},Is=function(t,e){return Es(t)&&As(t,e)},Os=/^[ \t\r\n]*$/,Rs=function(t){return Os.test(t)},Bs=function(t,n){var i=En.fromDom(n),r=En.fromDom(t);return Qo(r,"pre,code",e(Rn,i))},Ls=function(t,e){return tr(t)&&Rs(t.data)&&!1===Bs(t,e)},zs=function(t){return $i(t)&&"A"===t.nodeName&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id"))},Fs=function(t,e){return Es(t)&&!1===Ls(t,e)||zs(t)||Hs(t)},Hs=Yi("data-mce-bookmark"),Ws=Yi("data-mce-bogus"),Us=function(t,e){return function(n){return $i(n)&&n.getAttribute(t)===e}}("data-mce-bogus","all"),Vs=function(t,e){var n,i=0;if(Fs(t,t))return!1;if(!(n=t.firstChild))return!0;var r=new Ao(n,t);do{if(e){if(Us(n)){n=r.next(!0);continue}if(Ws(n)){n=r.next();continue}}if(rr(n))i++,n=r.next();else{if(Fs(n,t))return!1;n=r.next()}}while(n);return i<=1},$s=function(t,e){return void 0===e&&(e=!0),Vs(t.dom,e)},qs=function(t){return"span"===t.nodeName.toLowerCase()},Xs=function(t,e){return wt(t)&&(Fs(t,e)||Vo(En.fromDom(t)))},Ys=function(t,e){var n=new Ao(t,e).prev(!1),i=new Ao(t,e).next(!1),r=bt(n)||Xs(n,e),o=bt(i)||Xs(i,e);return r&&o},Ks=function(t){return qs(t)&&"bookmark"===t.getAttribute("data-mce-type")},Gs=function(t,e){return tr(t)&&t.data.length>0&&Ys(t,e)},Js=function(t){return!!$i(t)&&t.childNodes.length>0},Qs=function(t){return ir(t)||nr(t)},Zs=function t(e,n,i){var r=i||n;if($i(n)&&Ks(n))return n;for(var o=n.childNodes,s=o.length-1;s>=0;s--)t(e,o[s],r);if($i(n)){var a=n.childNodes;1===a.length&&Ks(a[0])&&n.parentNode.insertBefore(a[0],n)}return Qs(n)||Fs(n,r)||Js(n)||Gs(n,r)||e.remove(n),n},ta=_n.makeMap,ea=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,na=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ia=/[<>&\"\']/g,ra=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,oa={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},sa={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},aa={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},la=function(t){var e=En.fromTag("div").dom;return e.innerHTML=t,e.textContent||e.innerText||t},ua=function(t,e){var n,i,r,o={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),sa[i]||(r="&"+t[n+1]+";",o[i]=r,o[r]=i);return o}},ca=ua("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),da=function(t,e){return t.replace(e?ea:na,function(t){return sa[t]||t})},fa=function(t){return(""+t).replace(ia,function(t){return sa[t]||t})},ha=function(t,e){return t.replace(e?ea:na,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":sa[t]||"&#"+t.charCodeAt(0)+";"})},pa=function(t,e,n){return n=n||ca,t.replace(e?ea:na,function(t){return sa[t]||n[t]||t})},ma=function(t,e){var n=ua(e)||ca,i=function(t,e){return t.replace(e?ea:na,function(t){return void 0!==sa[t]?sa[t]:void 0!==n[t]?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"})},r=function(t,e){return pa(t,e,n)},o=ta(t.replace(/\+/g,","));return o.named&&o.numeric?i:o.named?e?r:pa:o.numeric?ha:da},ga=function(t){return t.replace(ra,function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10),e>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):oa[e]||String.fromCharCode(e)):aa[t]||ca[t]||la(t)})},va={encodeRaw:da,encodeAllRaw:fa,encodeNumeric:ha,encodeNamed:pa,getEncodeFunc:ma,decode:ga},ba={},ya={},wa=_n.makeMap,xa=_n.each,_a=_n.extend,ka=_n.explode,Ca=_n.inArray,Ta=function(t,e){return t=_n.trim(t),t?t.split(e||" "):[]},Sa=function(t){var e,n,i,r,o,s,a={},l=function(t,n,i){var r,o,s,l=function(t,e){var n,i,r={};for(n=0,i=t.length;n<i;n++)r[t[n]]=e||{};return r};i=i||[],n=n||"","string"==typeof i&&(i=Ta(i));var u=Ta(t);for(r=u.length;r--;)o=Ta([e,n].join(" ")),s={attributes:l(o),attributesOrder:o,children:l(i,ya)},a[u[r]]=s},u=function(t,e){var n,i,r,o,s=Ta(t);n=s.length;for(var l=Ta(e);n--;)for(i=a[s[n]],r=0,o=l.length;r<o;r++)i.attributes[l[r]]={},i.attributesOrder.push(l[r])};return ba[t]?ba[t]:(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(e+=" xml:lang",s="acronym applet basefont big font strike tt",i=[i,s].join(" "),xa(Ta(s),function(t){l(t,"",i)}),o="center dir isindex noframes",n=[n,o].join(" "),r=[n,i].join(" "),xa(Ta(o),function(t){l(t,"",r)})),r=r||[n,i].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),l("address dt dd div caption","",r),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),l("blockquote","cite",r),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",r),l("dl","","dt dd"),l("a","href target rel media hreflang type",i),l("q","cite",i),l("ins del","cite datetime",r),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",r),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),l("param","name value"),l("map","name",[r,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",r),l("th","colspan rowspan headers scope abbr",r),l("form","accept-charset action autocomplete enctype method name novalidate target",r),l("fieldset","disabled form name",[r,"legend"].join(" ")),l("label","form for",i),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?r:i),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[r,"li"].join(" ")),l("noscript","",r),"html4"!==t&&(l("wbr"),l("ruby","",[i,"rt rp"].join(" ")),l("figcaption","",r),l("mark rt rp summary bdi","",i),l("canvas","width height",r),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[i,"option"].join(" ")),l("article section nav aside main header footer","",r),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[r,"figcaption"].join(" ")),l("time","datetime",i),l("dialog","open",r),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",i),l("progress","value max",i),l("meter","value min max low high optimum",i),l("details","open",[r,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==t&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("img","loading"),u("iframe","sandbox seamless allowfullscreen loading")),xa(Ta("a form meter progress dfn"),function(t){a[t]&&delete a[t].children[t]}),delete a.caption.children.table,delete a.script,ba[t]=a,a)},Da=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),xa(t,function(t,i){n[i]=n[i.toUpperCase()]="map"===e?wa(t,/[, ]/):ka(t,/[, ]/)})),n},Ea=function(t,e,n,i){var r=function(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t};return"#"+r(e)+r(n)+r(i)},Na=function(t,e){var n,i,r,o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,u={};t=t||{},e&&(i=e.getValidStyles(),r=e.getInvalidStyles());var c="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(n=0;n<c.length;n++)u[c[n]]="\ufeff"+n,u["\ufeff"+n]=c[n];return{toHex:function(t){return t.replace(o,Ea)},parse:function(e){var i,r,c,d,f={},h=t.url_converter,p=t.url_converter_scope||this,m=function(t,e,i){var r=f[t+"-top"+e];if(r){var o=f[t+"-right"+e];if(o){var s=f[t+"-bottom"+e];if(s){var a=f[t+"-left"+e];if(a){var l=[r,o,s,a];for(n=l.length-1;n--&&l[n]===l[n+1];);n>-1&&i||(f[t+e]=-1===n?l[0]:l.join(" "),delete f[t+"-top"+e],delete f[t+"-right"+e],delete f[t+"-bottom"+e],delete f[t+"-left"+e])}}}}},g=function(t){var e,n=f[t];if(n){for(n=n.split(" "),e=n.length;e--;)if(n[e]!==n[0])return!1;return f[t]=n[0],!0}},v=function(t){return d=!0,u[t]},b=function(t,e){return d&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return u[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},y=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},w=function(t){return t.replace(/\\[0-9a-f]+/gi,y)},x=function(e,n,i,r,o,s){if(o=o||s)return o=b(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=b(n||i||r),!t.allow_script_urls){var a=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return h&&(n=h.call(p,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){for(e=e.replace(/[\u0000-\u001F]/g,""),e=e.replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,v)});i=a.exec(e);)if(a.lastIndex=i.index+i[0].length,r=i[1].replace(l,"").toLowerCase(),c=i[2].replace(l,""),r&&c){if(r=w(r),c=w(c),-1!==r.indexOf("\ufeff")||-1!==r.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(c)))continue;"font-weight"===r&&"700"===c?c="bold":"color"!==r&&"background-color"!==r||(c=c.toLowerCase()),c=c.replace(o,Ea),c=c.replace(s,x),f[r]=d?b(c,!0):c}m("border","",!0),m("border","-width"),m("border","-color"),m("border","-style"),m("padding",""),m("margin",""),function(t,e,n,i){g(e)&&g(n)&&g(i)&&(f[t]=f[e]+" "+f[n]+" "+f[i],delete f[e],delete f[n],delete f[i])}("border","border-width","border-style","border-color"),"medium none"===f.border&&delete f.border,"none"===f["border-image"]&&delete f["border-image"]}return f},serialize:function(t,e){var n="",o=function(e){var r,o=i[e];if(o)for(var s=0,a=o.length;s<a;s++)e=o[s],(r=t[e])&&(n+=(n.length>0?" ":"")+e+": "+r+";")},s=function(t,e){var n=r["*"];return(!n||!n[t])&&!((n=r[e])&&n[t])};return e&&i?(o("*"),o(e)):Qt(t,function(t,i){!t||r&&!s(i,e)||(n+=(n.length>0?" ":"")+i+": "+t+";")}),n}}},Ma="mce-data-",Aa=/^(?:mouse|contextmenu)|click/,ja={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Pa=function(t){return t.isDefaultPrevented===Oa||t.isDefaultPrevented===Ia},Ia=function(){return!1},Oa=function(){return!0},Ra=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},Ba=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)},La=function(t){return Aa.test(t.type)},za=function(t,e){var n,i=e||{};for(n in t)ja[n]||(i[n]=t[n]);if(i.target||(i.target=i.srcElement||document),i.composedPath&&(i.composedPath=function(){return t.composedPath()}),t&&La(t)&&void 0===t.pageX&&void 0!==t.clientX){var r=i.target.ownerDocument||document,o=r.documentElement,s=r.body;i.pageX=t.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),i.pageY=t.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=Oa,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=Oa,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=Oa,i.stopPropagation()},!1===Pa(i)&&(i.isDefaultPrevented=Ia,i.isPropagationStopped=Ia,i.isImmediatePropagationStopped=Ia),void 0===i.metaKey&&(i.metaKey=!1),i},Fa=function(t,e,n){var i=t.document,r={type:"ready"};if(n.domLoaded)return void e(r);var o=function i(){Ba(t,"DOMContentLoaded",i),Ba(t,"load",i),n.domLoaded||(n.domLoaded=!0,e(r))};!function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body}()?Ra(t,"DOMContentLoaded",o):o(),Ra(t,"load",o)},Ha=function(){function t(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Ma+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return t.prototype.bind=function(t,e,n,i){var r,o,s,a,l,u,c,d=this,f=window,h=function(t){d.executeHandlers(za(t||f.event),r)};if(t&&3!==t.nodeType&&8!==t.nodeType){t[d.expando]?r=t[d.expando]:(r=d.count++,t[d.expando]=r,d.events[r]={}),i=i||t;var p=e.split(" ");for(s=p.length;s--;)a=p[s],u=h,l=c=!1,"DOMContentLoaded"===a&&(a="ready"),d.domLoaded&&"ready"===a&&"complete"===t.readyState?n.call(i,za({type:a})):(d.hasMouseEnterLeave||(l=d.mouseEnterLeave[a])&&(u=function(t){var e=t.currentTarget,n=t.relatedTarget;if(n&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||(t=za(t||f.event),t.type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,d.executeHandlers(t,r))}),d.hasFocusIn||"focusin"!==a&&"focusout"!==a||(c=!0,l="focusin"===a?"focus":"blur",u=function(t){t=za(t||f.event),t.type="focus"===t.type?"focusin":"focusout",d.executeHandlers(t,r)}),o=d.events[r][a],o?"ready"===a&&d.domLoaded?n(za({type:a})):o.push({func:n,scope:i}):(d.events[r][a]=o=[{func:n,scope:i}],o.fakeName=l,o.capture=c,o.nativeHandler=u,"ready"===a?Fa(t,u,d):Ra(t,l||a,u,c)));return t=o=null,n}},t.prototype.unbind=function(t,e,n){var i,r,o,s,a;if(!t||3===t.nodeType||8===t.nodeType)return this;var l=t[this.expando];if(l){if(a=this.events[l],e){var u=e.split(" ");for(r=u.length;r--;)if(s=u[r],i=a[s]){if(n)for(o=i.length;o--;)if(i[o].func===n){var c=i.nativeHandler,d=i.fakeName,f=i.capture;i=i.slice(0,o).concat(i.slice(o+1)),i.nativeHandler=c,i.fakeName=d,i.capture=f,a[s]=i}n&&0!==i.length||(delete a[s],Ba(t,i.fakeName||s,i.nativeHandler,i.capture))}}else Qt(a,function(e,n){Ba(t,e.fakeName||n,e.nativeHandler,e.capture)}),a={};for(s in a)if(le(a,s))return this;delete this.events[l];try{delete t[this.expando]}catch(e){t[this.expando]=null}}return this},t.prototype.fire=function(t,e,n){var i;if(!t||3===t.nodeType||8===t.nodeType)return this;var r=za(null,n);r.type=e,r.target=t;do{i=t[this.expando],i&&this.executeHandlers(r,i),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!r.isPropagationStopped());return this},t.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),n=t.getElementsByTagName("*"),e=n.length;e--;)t=n[e],t[this.expando]&&this.unbind(t);return this},t.prototype.destroy=function(){this.events={}},t.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},t.prototype.executeHandlers=function(t,e){var n=this.events[e],i=n&&n[t.type];if(i)for(var r=0,o=i.length;r<o;r++){var s=i[r];if(s&&!1===s.func.call(s.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}},t.Event=new t,t}(),Wa="sizzle"+-new Date,Ua=window.document,Va=0,$a=0,qa=l(),Xa=l(),Ya=l(),Ka=function(t,e){return t===e&&(Ur=!0),0},Ga="undefined",Ja=1<<31,Qa={}.hasOwnProperty,Za=[],tl=Za.pop,el=Za.push,nl=Za.push,il=Za.slice,rl=Za.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},ol="[\\x20\\t\\r\\n\\f]",sl="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",al="\\["+ol+"*("+sl+")(?:"+ol+"*([*^$|!~]?=)"+ol+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+sl+"))|)"+ol+"*\\]",ll=":("+sl+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+al+")*)|.*)\\)|)",ul=new RegExp("^"+ol+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ol+"+$","g"),cl=new RegExp("^"+ol+"*,"+ol+"*"),dl=new RegExp("^"+ol+"*([>+~]|"+ol+")"+ol+"*"),fl=new RegExp("="+ol+"*([^\\]'\"]*?)"+ol+"*\\]","g"),hl=new RegExp(ll),pl=new RegExp("^"+sl+"$"),ml={ID:new RegExp("^#("+sl+")"),CLASS:new RegExp("^\\.("+sl+")"),TAG:new RegExp("^("+sl+"|[*])"),ATTR:new RegExp("^"+al),PSEUDO:new RegExp("^"+ll),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ol+"*(even|odd|(([+-]|)(\\d*)n|)"+ol+"*(?:([+-]|)"+ol+"*(\\d+)|))"+ol+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+ol+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ol+"*((?:-\\d)?\\d*)"+ol+"*\\)|)(?=[^-]|$)","i")},gl=/^(?:input|select|textarea|button)$/i,vl=/^h\d$/i,bl=/^[^{]+\{\s*\[native \w/,yl=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wl=/[+~]/,xl=/'|\\/g,_l=new RegExp("\\\\([\\da-f]{1,6}"+ol+"?|("+ol+")|.)","ig"),kl=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{nl.apply(Za=il.call(Ua.childNodes),Ua.childNodes),Za[Ua.childNodes.length].nodeType}catch(t){nl={apply:Za.length?function(t,e){el.apply(t,il.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}var Cl=function(t,e,n,i){var r,o,s,a,l,u,c,d,f,h;if((e?e.ownerDocument||e:Ua)!==$r&&Vr(e),e=e||$r,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(Xr&&!i){if(r=yl.exec(t))if(s=r[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&Jr(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return nl.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&Ir.getElementsByClassName)return nl.apply(n,e.getElementsByClassName(s)),n}if(Ir.qsa&&(!Yr||!Yr.test(t))){if(d=c=Wa,f=e,h=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=Lr(t),(c=e.getAttribute("id"))?d=c.replace(xl,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+g(u[l]);f=wl.test(t)&&p(e.parentNode)||e,h=u.join(",")}if(h)try{return nl.apply(n,f.querySelectorAll(h)),n}catch(t){}finally{c||e.removeAttribute("id")}}}return Fr(t.replace(ul,"$1"),e,n,i)};Ir=Cl.support={},Br=Cl.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},Vr=Cl.setDocument=function(t){var e,i=t?t.ownerDocument||t:Ua,r=i.defaultView;return i!==$r&&9===i.nodeType&&i.documentElement?($r=i,qr=i.documentElement,Xr=!Br(i),r&&r!==function(t){try{return t.top}catch(t){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",function(){Vr()},!1):r.attachEvent&&r.attachEvent("onunload",function(){Vr()})),Ir.attributes=!0,Ir.getElementsByTagName=!0,Ir.getElementsByClassName=bl.test(i.getElementsByClassName),Ir.getById=!0,Or.find.ID=function(t,e){if(n(e.getElementById)!==Ga&&Xr){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},Or.filter.ID=function(t){var e=t.replace(_l,kl);return function(t){return t.getAttribute("id")===e}},Or.find.TAG=Ir.getElementsByTagName?function(t,e){if(n(e.getElementsByTagName)!==Ga)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},Or.find.CLASS=Ir.getElementsByClassName&&function(t,e){if(Xr)return e.getElementsByClassName(t)},Kr=[],Yr=[],Ir.disconnectedMatch=!0,Yr=Yr.length&&new RegExp(Yr.join("|")),Kr=Kr.length&&new RegExp(Kr.join("|")),e=bl.test(qr.compareDocumentPosition),Jr=e||bl.test(qr.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Ka=e?function(t,e){if(t===e)return Ur=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!Ir.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===Ua&&Jr(Ua,t)?-1:e===i||e.ownerDocument===Ua&&Jr(Ua,e)?1:Wr?rl.call(Wr,t)-rl.call(Wr,e):0:4&n?-1:1)}:function(t,e){if(t===e)return Ur=!0,0;var n,r=0,o=t.parentNode,s=e.parentNode,a=[t],l=[e];if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:Wr?rl.call(Wr,t)-rl.call(Wr,e):0;if(o===s)return c(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[r]===l[r];)r++;return r?c(a[r],l[r]):a[r]===Ua?-1:l[r]===Ua?1:0},i):$r},Cl.matches=function(t,e){return Cl(t,null,null,e)},Cl.matchesSelector=function(t,e){if((t.ownerDocument||t)!==$r&&Vr(t),e=e.replace(fl,"='$1']"),Ir.matchesSelector&&Xr&&(!Kr||!Kr.test(e))&&(!Yr||!Yr.test(e)))try{var n=Gr.call(t,e);if(n||Ir.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return Cl(e,$r,null,[t]).length>0},Cl.contains=function(t,e){return(t.ownerDocument||t)!==$r&&Vr(t),Jr(t,e)},Cl.attr=function(t,e){(t.ownerDocument||t)!==$r&&Vr(t);var n=Or.attrHandle[e.toLowerCase()],i=n&&Qa.call(Or.attrHandle,e.toLowerCase())?n(t,e,!Xr):void 0;return void 0!==i?i:Ir.attributes||!Xr?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},Cl.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Cl.uniqueSort=function(t){var e,n=[],i=0,r=0;if(Ur=!Ir.detectDuplicates,Wr=!Ir.sortStable&&t.slice(0),t.sort(Ka),Ur){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return Wr=null,t},Rr=Cl.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=Rr(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=Rr(e);return n},Or=Cl.selectors={cacheLength:50,createPseudo:u,match:ml,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_l,kl),t[3]=(t[3]||t[4]||t[5]||"").replace(_l,kl),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Cl.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Cl.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ml.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&hl.test(n)&&(e=Lr(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_l,kl).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=qa[t+" "];return e||(e=new RegExp("(^|"+ol+")"+t+"("+ol+"|$)"))&&qa(t,function(t){return e.test("string"==typeof t.className&&t.className||n(t.getAttribute)!==Ga&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=Cl.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,f,h,p,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!l&&!a;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&b){for(c=g[Wa]||(g[Wa]={}),u=c[t]||[],h=u[0]===Va&&u[1],f=u[0]===Va&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===e){c[t]=[Va,h,f];break}}else if(b&&(u=(e[Wa]||(e[Wa]={}))[t])&&u[0]===Va)f=u[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[Wa]||(d[Wa]={}))[t]=[Va,f]),d!==e)););return(f-=r)===i||f%i==0&&f/i>=0}}},PSEUDO:function(t,e){var n,i=Or.pseudos[t]||Or.setFilters[t.toLowerCase()]||Cl.error("unsupported pseudo: "+t);return i[Wa]?i(e):i.length>1?(n=[t,t,"",e],Or.setFilters.hasOwnProperty(t.toLowerCase())?u(function(t,n){for(var r,o=i(t,e),s=o.length;s--;)r=rl.call(t,o[s]),t[r]=!(n[r]=o[s])}):function(t){return i(t,0,n)}):i}},pseudos:{not:u(function(t){var e=[],n=[],i=zr(t.replace(ul,"$1"));return i[Wa]?u(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:u(function(t){return function(e){return Cl(t,e).length>0}}),contains:u(function(t){return t=t.replace(_l,kl),function(e){return(e.textContent||e.innerText||Rr(e)).indexOf(t)>-1}}),lang:u(function(t){return pl.test(t||"")||Cl.error("unsupported lang: "+t),t=t.replace(_l,kl).toLowerCase(),function(e){var n;do{if(n=Xr?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===qr},focus:function(t){return t===$r.activeElement&&(!$r.hasFocus||$r.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!Or.pseudos.empty(t)},header:function(t){return vl.test(t.nodeName)},input:function(t){return gl.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,n){return[n<0?n+e:n]}),even:h(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:h(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:h(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:h(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},Or.pseudos.nth=Or.pseudos.eq,At(["radio","checkbox","file","password","image"],function(t){Or.pseudos[t]=d(t)}),At(["submit","reset"],function(t){Or.pseudos[t]=f(t)}),m.prototype=Or.filters=Or.pseudos,Or.setFilters=new m,Lr=Cl.tokenize=function(t,e){var n,i,r,o,s,a,l,u=Xa[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=Or.preFilter;s;){n&&!(i=cl.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=dl.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ul," ")}),s=s.slice(n.length));for(o in Or.filter)Or.filter.hasOwnProperty(o)&&(!(i=ml[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length)));if(!n)break}return e?s.length:s?Cl.error(t):Xa(t,a).slice(0)},zr=Cl.compile=function(t,e){var n,i=[],r=[],o=Ya[t+" "];if(!o){for(e||(e=Lr(t)),n=e.length;n--;)o=_(e[n]),o[Wa]?i.push(o):r.push(o);o=Ya(t,k(r,i)),o.selector=t}return o},Fr=Cl.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,c=!i&&Lr(t=u.selector||t);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&Ir.getById&&9===e.nodeType&&Xr&&Or.relative[o[1].type]){if(!(e=(Or.find.ID(s.matches[0].replace(_l,kl),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ml.needsContext.test(t)?0:o.length;r--&&(s=o[r],!Or.relative[a=s.type]);)if((l=Or.find[a])&&(i=l(s.matches[0].replace(_l,kl),wl.test(o[0].type)&&p(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&g(o)))return nl.apply(n,i),n;break}}return(u||zr(t,c))(i,e,!Xr,n,wl.test(t)&&p(e.parentNode)||e),n},Ir.sortStable=Wa.split("").sort(Ka).join("")===Wa,Ir.detectDuplicates=!!Ur,Vr(),Ir.sortDetached=!0;var Tl=document,Sl=Array.prototype.push,Dl=Array.prototype.slice,El=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Nl=Ha.Event,Ml=_n.makeMap("children,contents,next,prev"),Al=function(t){return void 0!==t},jl=function(t){return"string"==typeof t},Pl=function(t){return t&&t===t.window},Il=function(t,e){e=e||Tl;var n=e.createElement("div"),i=e.createDocumentFragment();n.innerHTML=t;for(var r;r=n.firstChild;)i.appendChild(r);return i},Ol=function t(e,n,i,r){var o;if(jl(n))n=Il(n,Gl(e[0]));else if(n.length&&!n.nodeType){if(n=tu.makeArray(n),r)for(o=n.length-1;o>=0;o--)t(e,n[o],i,r);else for(o=0;o<n.length;o++)t(e,n[o],i,r);return e}if(n.nodeType)for(o=e.length;o--;)i.call(e[o],n);return e},Rl=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},Bl=function(t,e,n){var i,r;return e=tu(e)[0],t.each(function(){var t=this;n&&i===t.parentNode?r.appendChild(t):(i=t.parentNode,r=e.cloneNode(!1),t.parentNode.insertBefore(r,t),r.appendChild(t))}),t},Ll=_n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),zl=_n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Fl={for:"htmlFor",class:"className",readonly:"readOnly"},Hl={float:"cssFloat"},Wl={},Ul={},Vl=function(t,e){return new tu.fn.init(t,e)},$l=function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},ql=/^\s*|\s*$/g,Xl=function(t){return null===t||void 0===t?"":(""+t).replace(ql,"")},Yl=function(t,e){var n,i,r,o;if(t)if(void 0===(n=t.length)){for(i in t)if(t.hasOwnProperty(i)&&(o=t[i],!1===e.call(o,i,o)))break}else for(r=0;r<n&&(o=t[r],!1!==e.call(o,r,o));r++);return t},Kl=function(t,e){var n=[];return Yl(t,function(t,i){e(i,t)&&n.push(i)}),n},Gl=function(t){return t?9===t.nodeType?t:t.ownerDocument:Tl};Vl.fn=Vl.prototype={constructor:Vl,selector:"",context:null,length:0,init:function(t,e){var n,i,r=this;if(!t)return r;if(t.nodeType)return r.context=r[0]=t,r.length=1,r;if(e&&e.nodeType)r.context=e;else{if(e)return tu(t).attr(e);r.context=e=document}if(jl(t)){if(r.selector=t,!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:El.exec(t)))return tu(e).find(t);if(n[1])for(i=Il(t,Gl(e)).firstChild;i;)Sl.call(r,i),i=i.nextSibling;else{if(!(i=Gl(e).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(t);r.length=1,r[0]=i}}else this.add(t,!1);return r},toArray:function(){return _n.toArray(this)},add:function(t,e){var n,i,r=this;if(jl(t))return r.add(tu(t));if(!1!==e)for(n=tu.unique(r.toArray().concat(tu.makeArray(t))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else Sl.apply(r,tu.makeArray(t));return r},attr:function(t,e){var i,r=this;if("object"===n(t))Yl(t,function(t,e){r.attr(t,e)});else{if(!Al(e)){if(r[0]&&1===r[0].nodeType){if((i=Wl[t])&&i.get)return i.get(r[0],t);if(zl[t])return r.prop(t)?t:void 0;e=r[0].getAttribute(t,2),null===e&&(e=void 0)}return e}this.each(function(){var n;if(1===this.nodeType){if((n=Wl[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return r},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var i=this;if(t=Fl[t]||t,"object"===n(t))Yl(t,function(t,e){i.prop(t,e)});else{if(!Al(e))return i[0]&&i[0].nodeType&&t in i[0]?i[0][t]:e;this.each(function(){1===this.nodeType&&(this[t]=e)})}return i},css:function(t,e){var i,r,o=this,s=function(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})},a=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})};if("object"===n(t))Yl(t,function(t,e){o.css(t,e)});else if(Al(e))t=s(t),"number"!=typeof e||Ll[t]||(e=e.toString()+"px"),o.each(function(){var n=this.style;if((r=Ul[t])&&r.set)return void r.set(this,e);try{this.style[Hl[t]||t]=e}catch(t){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(a(t)):n.removeAttribute(t))});else{if(i=o[0],(r=Ul[t])&&r.get)return r.get(i);if(!i.ownerDocument.defaultView)return i.currentStyle?i.currentStyle[s(t)]:"";try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(a(t))}catch(t){return}}return o},remove:function(){for(var t,e=this,n=this.length;n--;)t=e[n],Nl.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(Al(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(i){tu(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(Al(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Ol(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return Ol(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?Ol(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?Ol(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return tu(t).append(this),this},prependTo:function(t){return tu(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return Bl(this,t)},wrapAll:function(t){return Bl(this,t,!0)},wrapInner:function(t){return this.each(function(){tu(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){tu(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),tu(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t?n:(-1!==t.indexOf(" ")?Yl(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(n,i){var r=Rl(i,t);if(r!==e){var o=i.className;r?i.className=Xl((" "+o+" ").replace(" "+t+" "," ")):i.className+=o?" "+t:t}}),n)},hasClass:function(t){return Rl(this[0],t)},each:function(t){return Yl(this,t)},on:function(t,e){return this.each(function(){Nl.bind(this,t,e)})},off:function(t,e){return this.each(function(){Nl.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"===n(t)?Nl.fire(this,t.type,t):Nl.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new tu(Dl.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)tu.find(t,this[e],i);return tu(i)},filter:function(t){return tu("function"==typeof t?Kl(this.toArray(),function(e,n){return t(n,e)}):tu.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof tu&&(t=t[0]),this.each(function(n,i){for(;i;){if("string"==typeof t&&tu(i).is(t)){e.push(i);break}if(i===t){e.push(i);break}i=i.parentNode}}),tu(e)},offset:function(t){var e,n,i,r,o=0,s=0;return t?this.css(t):(e=this[0],e&&(n=e.ownerDocument,i=n.documentElement,e.getBoundingClientRect&&(r=e.getBoundingClientRect(),o=r.left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,s=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:s})},push:Sl,sort:Array.prototype.sort,splice:Array.prototype.splice},_n.extend(Vl,{extend:_n.extend,makeArray:function(t){return Pl(t)||t.nodeType?[t]:_n.toArray(t)},inArray:$l,isArray:_n.isArray,each:Yl,trim:Xl,grep:Kl,find:Cl,expr:Cl.selectors,unique:Cl.uniqueSort,text:Cl.getText,contains:Cl.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!==e[i].nodeType&&e.splice(i,1);return e=1===e.length?tu.find.matchesSelector(e[0],t)?[e[0]]:[]:tu.find.matches(t,e)}});var Jl=function(t,e,n){var i=[],r=t[e];for("string"!=typeof n&&n instanceof tu&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&tu(r).is(n))break}1===r.nodeType&&i.push(r),r=r[e]}return i},Ql=function(t,e,n,i){var r=[];for(i instanceof tu&&(i=i[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==i){if(t===i)break;if("string"==typeof i&&tu(t).is(i))break}r.push(t)}return r},Zl=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};Yl({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Jl(t,"parentNode")},next:function(t){return Zl(t,"nextSibling",1)},prev:function(t){return Zl(t,"previousSibling",1)},children:function(t){return Ql(t.firstChild,"nextSibling",1)},contents:function(t){return _n.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){Vl.fn[t]=function(n){var i=this,r=[];i.each(function(){var t=e.call(r,this,n,r);t&&(tu.isArray(t)?r.push.apply(r,t):r.push(t))}),this.length>1&&(Ml[t]||(r=tu.unique(r)),0===t.indexOf("parents")&&(r=r.reverse()));var o=tu(r);return n?o.filter(n):o}}),Yl({parentsUntil:function(t,e){return Jl(t,"parentNode",e)},nextUntil:function(t,e){return Ql(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return Ql(t,"previousSibling",1,e).slice(1)}},function(t,e){Vl.fn[t]=function(n,i){var r=this,o=[];r.each(function(){var t=e.call(o,this,n,o);t&&(tu.isArray(t)?o.push.apply(o,t):o.push(t))}),this.length>1&&(o=tu.unique(o),0!==t.indexOf("parents")&&"prevUntil"!==t||(o=o.reverse()));var s=tu(o);return i?s.filter(i):s}}),Vl.fn.is=function(t){return!!t&&this.filter(t).length>0},Vl.fn.init.prototype=Vl.fn,Vl.overrideDefaults=function(t){var e,n=function n(i,r){return e=e||t(),0===arguments.length&&(i=e.element),r||(r=e.context),new n.fn.init(i,r)};return tu.extend(n,this),n},Vl.attrHooks=Wl,Vl.cssHooks=Ul;var tu=Vl,eu=_n.each,nu=_n.grep,iu=un.ie,ru=/^([a-z0-9],?)+$/i,ou=function(t,e,i){var r=e.keep_values,o={set:function(t,n,r){e.url_converter&&(n=e.url_converter.call(e.url_converter_scope||i(),n,r,t[0])),t.attr("data-mce-"+r,n).attr(r,n)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},s={style:{set:function(e,i){if(null!==i&&"object"===n(i))return void e.css(i);r&&e.attr("data-mce-style",i),null!==i&&"string"==typeof i?(e.removeAttr("style"),e.css(t.parse(i))):e.attr("style",i)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serialize(t.parse(n),e[0].nodeName)}}};return r&&(s.href=s.src=o),s},su=function(t,e){var n=e.attr("style"),i=t.serialize(t.parse(n),e[0].nodeName);i||(i=null),e.attr("data-mce-style",i)},au=function(t,e){var n,i,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!==i||i!==n&&t.nodeValue.length)&&(r++,n=i);return r};!function(t){t.DOM=t(document),t.nodeIndex=au}(C||(C={}));var lu=C,uu=lu.DOM,cu=_n.each,du=_n.grep,fu=function(){function t(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return t.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},t.prototype.loadScript=function(t,e,n){var i,r=uu,o=function(){r.remove(a),i&&(i.onreadystatechange=i.onload=i=null),e()},s=function(){xt(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)},a=r.uniqueId();i=document.createElement("script"),i.id=a,i.type="text/javascript",i.src=_n._addCacheSuffix(t),this.settings.referrerPolicy&&r.setAttrib(i,"referrerpolicy",this.settings.referrerPolicy),i.onload=o,i.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)},t.prototype.isDone=function(t){return 2===this.states[t]},t.prototype.markDone=function(t){this.states[t]=2},t.prototype.add=function(t,e,n,i){void 0===this.states[t]&&(this.queue.push(t),this.states[t]=0),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:i,scope:n||this}))},t.prototype.load=function(t,e,n,i){return this.add(t,e,n,i)},t.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},t.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},t.prototype.loadScripts=function(t,e,n,i){var r=this,o=[],s=function(t,e){cu(r.scriptLoadedCallbacks[e],function(e){xt(e[t])&&e[t].call(e.scope)}),r.scriptLoadedCallbacks[e]=void 0};r.queueLoadedCallbacks.push({success:e,failure:i,scope:n||this});!function e(){var n=du(t);if(t.length=0,cu(n,function(t){return 2===r.states[t]?void s("success",t):3===r.states[t]?void s("failure",t):void(1!==r.states[t]&&(r.states[t]=1,r.loading++,r.loadScript(t,function(){r.states[t]=2,r.loading--,s("success",t),e()},function(){r.states[t]=3,r.loading--,o.push(t),s("failure",t),e()})))}),!r.loading){var i=r.queueLoadedCallbacks.slice(0);r.queueLoadedCallbacks.length=0,cu(i,function(t){0===o.length?xt(t.success)&&t.success.call(t.scope):xt(t.failure)&&t.failure.call(t.scope,o)})}}()},t.ScriptLoader=new t,t}(),hu=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},pu=function(t){return pt(t)&&le(t,"raw")},mu=function(t){return mt(t)&&t.length>1},gu={},vu=hu("en"),bu=function(){return ae(gu,vu.get())},yu=function(){return Zt(gu,function(t){return ye({},t)})},wu=function(t){t&&vu.set(t)},xu=function(){return vu.get()},_u=function(t,e){var n=gu[t];n||(gu[t]=n={}),Qt(e,function(t,e){n[e.toLowerCase()]=t})},ku=function(t){var e=bu().getOr({}),n=function(t){return xt(t)?Object.prototype.toString.call(t):i(t)?"":""+t},i=function(t){return""===t||null===t||void 0===t},r=function(t){var i=n(t);return ae(e,i.toLowerCase()).map(n).getOr(i)},o=function(t){return t.replace(/{context:\w+}$/,"")};if(i(t))return"";if(pu(t))return n(t.raw);if(mu(t)){var s=t.slice(1);return o(r(t[0]).replace(/\{([0-9]+)\}/g,function(t,e){return le(s,e)?n(s[e]):t}))}return o(r(t))},Cu=function(){return bu().bind(function(t){return ae(t,"_dir")}).exists(function(t){return"rtl"===t})},Tu=function(t){return le(gu,t)},Su={getData:yu,setCode:wu,getCode:xu,add:_u,translate:ku,isRtl:Cu,hasCode:Tu};!function(t){t.PluginManager=t(),t.ThemeManager=t()}(T||(T={}));var Du=T,Eu=function(t,e){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];null===n&&(n=setTimeout(function(){t.apply(null,i),n=null},e))}}},Nu=function(t,e){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];null!==n&&clearTimeout(n),n=setTimeout(function(){t.apply(null,i),n=null},e)}}},Mu=function(t,e){var n=pr(t,e);return void 0===n||""===n?[]:n.split(" ")},Au=function(t,e,n){var i=Mu(t,e),r=i.concat([n]);return fr(t,e,r.join(" ")),!0},ju=function(t,e,n){var i=It(Mu(t,e),function(t){return t!==n});return i.length>0?fr(t,e,i.join(" ")):vr(t,e),!1},Pu=function(t){return void 0!==t.dom.classList},Iu=function(t){return Mu(t,"class")},Ou=function(t,e){return Au(t,"class",e)},Ru=function(t,e){return ju(t,"class",e)},Bu=function(t,e){Pu(t)?t.dom.classList.add(e):Ou(t,e)},Lu=function(t){0===(Pu(t)?t.dom.classList:Iu(t)).length&&vr(t,"class")},zu=function(t,e){if(Pu(t)){t.dom.classList.remove(e)}else Ru(t,e);Lu(t)},Fu=function(t,e){return Pu(t)&&t.dom.classList.contains(e)},Hu=function t(e,n){var i=[];return At(oi(e),function(e){n(e)&&(i=i.concat([e])),i=i.concat(t(e,n))}),i},Wu=function(t,e){return In(e,t)},Uu=Q("mce-annotation"),Vu=Q("data-mce-annotation"),$u=Q("data-mce-annotation-uid"),qu=function(t,e){var n=t.selection.getRng(),i=En.fromDom(n.startContainer),r=En.fromDom(t.getBody()),o=e.fold(function(){return"."+Uu()},function(t){return"["+Vu()+'="'+t+'"]'}),s=si(i,n.startOffset).getOr(i),a=xo(s,o,function(t){return Rn(t,r)}),l=function(t,e){return gr(t,e)?lt.some(pr(t,e)):lt.none()};return a.bind(function(e){return l(e,""+$u()).bind(function(n){return l(e,""+Vu()).map(function(e){var i=Yu(t,n);return{uid:n,name:e,elements:i}})})})},Xu=function(t){return Vn(t)&&Fu(t,Uu())},Yu=function(t,e){var n=En.fromDom(t.getBody());return Wu(n,"["+$u()+'="'+e+'"]')},Ku=function(t,e){var n=En.fromDom(t.getBody()),i=Wu(n,"["+Vu()+'="'+e+'"]'),r={};return At(i,function(t){var e=pr(t,$u()),n=r.hasOwnProperty(e)?r[e]:[];r[e]=n.concat([t])}),r},Gu=function(t,e){var n=hu({}),i=function(){return{listeners:[],previous:hu(lt.none())}},r=function(t,e){o(t,function(t){return e(t),t})},o=function(t,e){var r=n.get(),o=r.hasOwnProperty(t)?r[t]:i(),s=e(o);r[t]=s,n.set(r)},s=function(t,e,n){r(t,function(i){At(i.listeners,function(i){return i(!0,t,{uid:e,nodes:Mt(n,function(t){return t.dom})})})})},a=function(t){r(t,function(e){At(e.listeners,function(e){return e(!1,t)})})},l=Nu(function(){var e=n.get(),i=qt(Gt(e));At(i,function(e){o(e,function(n){var i=n.previous.get();return qu(t,lt.some(e)).fold(function(){i.isSome()&&(a(e),n.previous.set(lt.none()))},function(t){var e=t.uid,r=t.name,o=t.elements;i.is(e)||(s(r,e,o),n.previous.set(lt.some(e)))}),{previous:n.previous,listeners:n.listeners}})})},30);return t.on("remove",function(){l.cancel()}),t.on("NodeChange",function(){l.throttle()}),{addListener:function(t,e){o(t,function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}})}}},Ju=function(t,e){var n=function(t){return lt.from(t.attr(Vu())).bind(e.lookup)};t.on("init",function(){t.serializer.addNodeFilter("span",function(t){At(t,function(t){n(t).each(function(e){!1===e.persistent&&t.unwrap()})})})})},Qu=function(){var t={};return{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return t.hasOwnProperty(e)?lt.from(t[e]).map(function(t){return t.settings}):lt.none()}}},Zu=0,tc=function(t){var e=new Date,n=e.getTime(),i=Math.floor(1e9*Math.random());return Zu++,t+"_"+i+Zu+String(n)},ec=function(t,e){At(e,function(e){Bu(t,e)})},nc=function(t,e){var n=e||document,i=n.createElement("div");return i.innerHTML=t,oi(En.fromDom(i))},ic=function(t){return t.dom.innerHTML},rc=function(t,e){var n=Yn(t),i=n.dom,r=En.fromDom(i.createDocumentFragment()),o=nc(e,i);Si(r,o),Di(t),ki(t,r)},oc=function(t,e){return En.fromDom(t.dom.cloneNode(e))},sc=function(t){return oc(t,!1)},ac=function(t){return oc(t,!0)},lc=function(t,e,n){void 0===n&&(n=nt);var i=new Ao(t,e),r=function(t){var e;do{e=i[t]()}while(e&&!tr(e)&&!n(e));return lt.from(e).filter(tr)};return{current:function(){return lt.from(i.current()).filter(tr)},next:function(){return r("next")},prev:function(){return r("prev")},prev2:function(){return r("prev2")}}},uc=function(t,e){var n=e||function(e){return t.isBlock(e)||rr(e)||ar(e)},i=function t(e,n,i,r){if(tr(e)){var o=r(e,n,e.data);if(-1!==o)return lt.some({container:e,offset:o})}return i().bind(function(e){return t(e.container,e.offset,i,r)})};return{backwards:function(t,e,r,o){var s=lc(t,o,n);return i(t,e,function(){return s.prev().map(function(t){return{container:t,offset:t.length}})},r).getOrNull()},forwards:function(t,e,r,o){var s=lc(t,o,n);return i(t,e,function(){return s.next().map(function(t){return{container:t,offset:0}})},r).getOrNull()}}},cc=function(t){for(var e=[],n=function(t){e.push(t)},i=0;i<t.length;i++)t[i].each(n);return e},dc=function(t,e,n){return t.isSome()&&e.isSome()?lt.some(n(t.getOrDie(),e.getOrDie())):lt.none()},fc=function(t,e,n,i){return t.isSome()&&e.isSome()&&n.isSome()?lt.some(i(t.getOrDie(),e.getOrDie(),n.getOrDie())):lt.none()},hc=function(t,e){return t?lt.some(e):lt.none()},pc=Math.round,mc=function(t){return t?{left:pc(t.left),top:pc(t.top),bottom:pc(t.bottom),right:pc(t.right),width:pc(t.width),height:pc(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},gc=function(t,e){return t=mc(t),e?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t},vc=function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right},bc=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},yc=function(t,e){var n=Math.min(e.height/2,t.height/2);return t.bottom-n<e.top||!(t.top>e.bottom)&&bc(e.top-t.bottom,t,e)},wc=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&bc(e.bottom-t.top,t,e)},xc=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},_c=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},kc=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},Cc=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Tc=function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&Cc.test(t)},Sc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}},Dc=$i,Ec=Es,Nc=Xi("display","block table"),Mc=Xi("float","left right"),Ac=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}}(Dc,Ec,tt(Mc)),jc=tt(Xi("white-space","pre pre-line pre-wrap")),Pc=tr,Ic=rr,Oc=lu.nodeIndex,Rc=kc,Bc=function(t){return"createRange"in t?t.createRange():lu.DOM.createRng()},Lc=function(t){return t&&/[\r\n\t ]/.test(t)},zc=function(t){return!!t.setStart&&!!t.setEnd},Fc=function(t){var e,n=t.startContainer,i=t.startOffset;return!!(Lc(t.toString())&&jc(n.parentNode)&&tr(n)&&(e=n.data,Lc(e[i-1])||Lc(e[i+1])))},Hc=function(t){var e=t.ownerDocument,n=Bc(e),i=e.createTextNode(" "),r=t.parentNode;r.insertBefore(i,t),n.setStart(i,0),n.setEnd(i,1);var o=mc(n.getBoundingClientRect());return r.removeChild(i),o},Wc=function(t){var e=t.startContainer,n=t.endContainer,i=t.startOffset,r=t.endOffset;if(e===n&&tr(n)&&0===i&&1===r){var o=t.cloneRange();return o.setEndAfter(n),Vc(o)}return null},Uc=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},Vc=function(t){var e,n=t.getClientRects();return e=mc(n.length>0?n[0]:t.getBoundingClientRect()),!zc(t)&&Ic(t)&&Uc(e)?Hc(t):Uc(e)&&zc(t)?Wc(t):e},$c=function(t,e){var n=gc(t,e);return n.width=1,n.right=n.left+1,n},qc=function(t){var e,n,i=[],r=function(t){0!==t.height&&(i.length>0&&vc(t,i[i.length-1])||i.push(t))},o=function(t,e){var n=Bc(t.ownerDocument);if(e<t.data.length){if(Tc(t.data[e]))return i;if(Tc(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!Fc(n)))return r($c(Vc(n),!1)),i}e>0&&(n.setStart(t,e-1),n.setEnd(t,e),Fc(n)||r($c(Vc(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),Fc(n)||r($c(Vc(n),!0)))};if(Pc(t.container()))return o(t.container(),t.offset()),i;if(Dc(t.container()))if(t.isAtEnd())n=Rc(t.container(),t.offset()),Pc(n)&&o(n,n.data.length),Ac(n)&&!Ic(n)&&r($c(Vc(n),!1));else{if(n=Rc(t.container(),t.offset()),Pc(n)&&o(n,0),Ac(n)&&t.isAtEnd())return r($c(Vc(n),!1)),i;e=Rc(t.container(),t.offset()-1),Ac(e)&&!Ic(e)&&(Nc(e)||Nc(n)||!Ac(n))&&r($c(Vc(e),!1)),Ac(n)&&r($c(Vc(n),!0))}return i};!function(t){t.fromRangeStart=function(e){return t(e.startContainer,e.startOffset)},t.fromRangeEnd=function(e){return t(e.endContainer,e.endOffset)},t.after=function(e){return t(e.parentNode,Oc(e)+1)},t.before=function(e){return t(e.parentNode,Oc(e))},t.isAbove=function(t,e){return dc(Xt(e.getClientRects()),Yt(t.getClientRects()),yc).getOr(!1)},t.isBelow=function(t,e){return dc(Yt(e.getClientRects()),Xt(t.getClientRects()),wc).getOr(!1)},t.isAtStart=function(t){return!!t&&t.isAtStart()},t.isAtEnd=function(t){return!!t&&t.isAtEnd()},t.isTextPosition=function(t){return!!t&&tr(t.container())},t.isElementPosition=function(e){return!1===t.isTextPosition(e)}}(S||(S={}));var Xc,Yc=S,Kc=function(t,e){tr(e)&&0===e.data.length&&t.remove(e)},Gc=function(t,e,n){e.insertNode(n),Kc(t,n.previousSibling),Kc(t,n.nextSibling)},Jc=function(t,e,n){var i=lt.from(n.firstChild),r=lt.from(n.lastChild);e.insertNode(n),i.each(function(e){return Kc(t,e.previousSibling)}),r.each(function(e){return Kc(t,e.nextSibling)})},Qc=function(t,e,n){ir(n)?Jc(t,e,n):Gc(t,e,n)},Zc=tr,td=Ki,ed=lu.nodeIndex,nd=function t(e){var n=e.parentNode;return td(n)?t(n):n},id=function t(e){return e?ge(e.childNodes,function(e,n){return td(n)&&"BR"!==n.nodeName?e=e.concat(t(n)):e.push(n),e},[]):[]},rd=function(t,e){for(;(t=t.previousSibling)&&Zc(t);)e+=t.data.length;return e},od=function(t){return function(e){return t===e}},sd=function(t){var e,n;e=id(nd(t)),n=ve(e,od(t),t),e=e.slice(0,n+1);var i=ge(e,function(t,n,i){return Zc(n)&&Zc(e[i-1])&&t++,t},0);return e=pe(e,qi([t.nodeName])),(n=ve(e,od(t),t))-i},ad=function(t){return(Zc(t)?"text()":t.nodeName.toLowerCase())+"["+sd(t)+"]"},ld=function(t,e,n){var i=[];for(e=e.parentNode;e!==t&&(!n||!n(e));e=e.parentNode)i.push(e);return i},ud=function(t,e){var n,i,r,o,s,a=[];return n=e.container(),i=e.offset(),Zc(n)?r=rd(n,i):(o=n.childNodes,i>=o.length?(r="after",i=o.length-1):r="before",n=o[i]),a.push(ad(n)),s=ld(t,n),s=pe(s,tt(Ki)),a=a.concat(he(s,function(t){return ad(t)})),a.reverse().join("/")+","+r},cd=function(t,e,n){var i=id(t);return i=pe(i,function(t,e){return!Zc(t)||!Zc(i[e-1])}),i=pe(i,qi([e])),i[n]},dd=function(t,e){for(var n,i=t,r=0;Zc(i);){if(n=i.data.length,e>=r&&e<=r+n){t=i,e-=r;break}if(!Zc(i.nextSibling)){t=i,e=n;break}r+=n,i=i.nextSibling}return Zc(t)&&e>t.data.length&&(e=t.data.length),Yc(t,e)},fd=function(t,e){var n;if(!e)return null;var i=e.split(","),r=i[0].split("/");n=i.length>1?i[1]:"before";var o=ge(r,function(t,e){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e);return n?("text()"===n[1]&&(n[1]="#text"),cd(t,n[1],parseInt(n[2],10))):null},t);return o?Zc(o)?dd(o,parseInt(n,10)):(n="after"===n?ed(o)+1:ed(o),Yc(o.parentNode,n)):null},hd=ar,pd=function(t,e,n){var i,r;for(r=t(e.data.slice(0,n)).length,i=e.previousSibling;i&&tr(i);i=i.previousSibling)r+=t(i.data).length;return r},md=function(t,e,n,i,r){var o,s=i[r?"startContainer":"endContainer"],a=i[r?"startOffset":"endOffset"],l=[],u=0,c=t.getRoot();for(tr(s)?l.push(n?pd(e,s,a):a):(o=s.childNodes,a>=o.length&&o.length&&(u=1,a=Math.max(0,o.length-1)),l.push(t.nodeIndex(o[a],n)+u));s&&s!==c;s=s.parentNode)l.push(t.nodeIndex(s,n));return l},gd=function(t,e,n,i){var r=e.dom,o={};return o.start=md(r,t,n,i,!0),e.isCollapsed()||(o.end=md(r,t,n,i,!1)),o},vd=function(t,e,n){var i=0;return _n.each(t.select(e),function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void i++}),i},bd=function(t,e){var n,i,r,o=e?"start":"end";n=t[o+"Container"],i=t[o+"Offset"],$i(n)&&"TR"===n.nodeName&&(r=n.childNodes,(n=r[Math.min(e?i:i-1,r.length-1)])&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i)))},yd=function(t){return bd(t,!0),bd(t,!1),t},wd=function(t,e){var n;if($i(t)&&(t=kc(t,e),hd(t)))return t;if(ls(t)){if(tr(t)&&ss(t)&&(t=t.parentNode),n=t.previousSibling,hd(n))return n;if(n=t.nextSibling,hd(n))return n}},xd=function(t){return wd(t.startContainer,t.startOffset)||wd(t.endContainer,t.endOffset)},_d=function(t,e,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(hd(i)||"IMG"===r)return{name:r,index:vd(n.dom,r,i)};var s=xd(o);return s?(r=s.tagName,{name:r,index:vd(n.dom,r,s)}):gd(t,n,e,o)},kd=function(t){var e=t.getRng();return{start:ud(t.dom.getRoot(),Yc.fromRangeStart(e)),end:ud(t.dom.getRoot(),Yc.fromRangeEnd(e))}},Cd=function(t){return{rng:t.getRng()}},Td=function(t,e,n){var i={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",i,"&#xFEFF;"):t.create("span",i)},Sd=function(t,e){var n=t.dom,i=t.getRng(),r=n.uniqueId(),o=t.isCollapsed(),s=t.getNode(),a=s.nodeName;if("IMG"===a)return{name:a,index:vd(n,a,s)};var l=yd(i.cloneRange());if(!o){l.collapse(!1);var u=Td(n,r+"_end",e);Qc(n,l,u)}i=yd(i),i.collapse(!0);var c=Td(n,r+"_start",e);return Qc(n,i,c),t.moveToBookmark({id:r,keep:!0}),{id:r}},Dd=function(t,e,n){return 2===e?_d(is,n,t):3===e?kd(t):e?Cd(t):Sd(t,!1)},Ed=e(_d,Z,!0),Nd=lu.DOM,Md=function(t,e,n){var i=t.getParam(e,n);if(-1!==i.indexOf("=")){var r=t.getParam(e,"","hash");return r.hasOwnProperty(t.id)?r[t.id]:n}return i},Ad=function(t){return t.getParam("iframe_attrs",{})},jd=function(t){return t.getParam("doctype","<!DOCTYPE html>")},Pd=function(t){return t.getParam("document_base_url","")},Id=function(t){return Md(t,"body_id","tinymce")},Od=function(t){return Md(t,"body_class","")},Rd=function(t){return t.getParam("content_security_policy","")},Bd=function(t){return t.getParam("br_in_pre",!0)},Ld=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},zd=function(t){return t.getParam("forced_root_block_attrs",{})},Fd=function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Hd=function(t){return t.getParam("no_newline_selector","")},Wd=function(t){return t.getParam("keep_styles",!0)},Ud=function(t){return t.getParam("end_container_on_empty_block",!1)},Vd=function(t){return _n.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},$d=function(t){return _n.explode(t.getParam("font_size_classes",""))},qd=function(t){return t.getParam("images_dataimg_filter",it,"function")},Xd=function(t){return t.getParam("automatic_uploads",!0,"boolean")},Yd=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},Kd=function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")},Gd=function(t){return t.getParam("icons","","string")},Jd=function(t){return t.getParam("icons_url","","string")},Qd=function(t){return t.getParam("images_upload_url","","string")},Zd=function(t){return t.getParam("images_upload_base_path","","string")},tf=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},ef=function(t){return t.getParam("images_upload_handler",null,"function")},nf=function(t){return t.getParam("content_css_cors",!1,"boolean")},rf=function(t){return t.getParam("referrer_policy","","string")},of=function(t){return t.getParam("language","en","string")},sf=function(t){return t.getParam("language_url","","string")},af=function(t){return t.getParam("indent_use_margin",!1)},lf=function(t){return t.getParam("indentation","40px","string")},uf=function(t){var e=t.getParam("content_css");return ht(e)?Mt(e.split(","),Oe):mt(e)?e:!1===e||t.inline?[]:["default"]},cf=function(t){return t.getParam("directionality",Su.isRtl()?"rtl":void 0)},df=function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},ff=function(t){var e=t.getParam("object_resizing");return!1!==e&&!un.iOS&&(ht(e)?e:"table,img,figure.image,div")},hf=function(t){return t.getParam("resize_img_proportional",!0,"boolean")},pf=function(t){return t.getParam("placeholder",Nd.getAttrib(t.getElement(),"placeholder"),"string")},mf=function(t){return t.getParam("event_root")},gf=function(t){return t.getParam("service_message")},vf=function(t){return t.getParam("theme")},bf=function(t){return t.getParam("validate")},yf=function(t){return!1!==t.getParam("inline_boundaries")},wf=function(t){return t.getParam("formats")},xf=function(t){var e=t.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");return ht(e)?e:""},_f=function(t){return t.getParam("custom_ui_selector","","string")},kf=function(t){return t.getParam("theme_url")},Cf=function(t){return t.getParam("inline")},Tf=function(t){return t.getParam("hidden_input")},Sf=function(t){return t.getParam("submit_patch")},Df=function(t){return"xml"===t.getParam("encoding")},Ef=function(t){return t.getParam("add_form_submit_trigger")},Nf=function(t){return t.getParam("add_unload_trigger")},Mf=function(t){return""!==Ld(t)},Af=function(t){return t.getParam("custom_undo_redo_levels",0,"number")},jf=function(t){return t.getParam("disable_nodechange")},Pf=function(t){return t.getParam("readonly")},If=function(t){return t.getParam("content_css_cors")},Of=function(t){return t.getParam("plugins","","string")},Rf=function(t){return t.getParam("external_plugins")},Bf=function(t){return t.getParam("block_unsupported_drop",!0,"boolean")},Lf=$i,zf=tr,Ff=function(t){var e=t.parentNode;e&&e.removeChild(t)},Hf=function(t){var e=is(t);return{count:t.length-e.length,text:e}},Wf=function(t){for(var e;-1!==(e=t.data.lastIndexOf(es));)t.deleteData(e,1)},Uf=function(t,e){return Kf(t),e},Vf=function(t,e){var n=Hf(t.data.substr(0,e.offset())),i=Hf(t.data.substr(e.offset()));return(n.text+i.text).length>0?(Wf(t),Yc(t,e.offset()-n.count)):e},$f=function(t,e){var n=e.container(),i=Dt(Kt(n.childNodes),t).map(function(t){return t<e.offset()?Yc(n,e.offset()-1):e}).getOr(e);return Kf(t),i},qf=function(t,e){return zf(t)&&e.container()===t?Vf(t,e):Uf(t,e)},Xf=function(t,e){return e.container()===t.parentNode?$f(t,e):Uf(t,e)},Yf=function(t,e){return Yc.isTextPosition(e)?qf(t,e):Xf(t,e)},Kf=function(t){Lf(t)&&ls(t)&&(us(t)?t.removeAttribute("data-mce-caret"):Ff(t)),zf(t)&&(Wf(t),0===t.data.length&&Ff(t))},Gf=Ze().browser,Jf=ar,Qf=ur,Zf=lr,th=function(t,e,n){var i,r,o,s,a,l=gc(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(i=t.ownerDocument.documentElement,r=t.scrollLeft||i.scrollLeft,o=t.scrollTop||i.scrollTop):(a=t.getBoundingClientRect(),r=t.scrollLeft-a.left,o=t.scrollTop-a.top),l.left+=r,l.right+=r,l.top+=o,l.bottom+=o,l.width=1,s=e.offsetWidth-e.clientWidth,s>0&&(n&&(s*=-1),l.left+=s,l.right+=s),l},eh=function(t){for(var e=Wu(En.fromDom(t),"*[contentEditable=false],video,audio,embed,object"),n=0;n<e.length;n++){var i=e[n].dom,r=i.previousSibling;if(gs(r)){var o=r.data;1===o.length?r.parentNode.removeChild(r):r.deleteData(o.length-1,1)}if(r=i.nextSibling,ms(r)){var o=r.data;1===o.length?r.parentNode.removeChild(r):r.deleteData(0,1)}}},nh=function(t,e,n,i){var r,o,s=hu(lt.none()),a=Ld(t),l=a.length>0?a:"p",u=function(t,i){var r,a;if(c(),Zf(i))return null;if(!n(i))return o=cs(i,t),a=i.ownerDocument.createRange(),rh(o.nextSibling)?(a.setStart(o,0),a.setEnd(o,0)):(a.setStart(o,1),a.setEnd(o,1)),a;o=ps(l,i,t),r=th(e,i,t),tu(o).css("top",r.top);var u=tu('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(r).appendTo(e)[0];return s.set(lt.some({caret:u,element:i,before:t})),s.get().each(function(e){t&&tu(e.caret).addClass("mce-visual-caret-before")}),d(),a=i.ownerDocument.createRange(),a.setStart(o,0),a.setEnd(o,0),a},c=function(){eh(e),o&&(Kf(o),o=null),s.get().each(function(t){tu(t.caret).remove(),s.set(lt.none())}),r&&(No.clearInterval(r),r=null)},d=function(){r=No.setInterval(function(){i()?tu("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):tu("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)},f=function(){s.get().each(function(t){var n=th(e,t.element,t.before);tu(t.caret).css(ye({},n))})},h=function(){return No.clearInterval(r)};return{show:u,hide:c,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:f,destroy:h}},ih=function(){return Gf.isIE()||Gf.isEdge()||Gf.isFirefox()},rh=function(t){return Jf(t)||Qf(t)},oh=function(t){return rh(t)||Ji(t)&&ih()},sh=ar,ah=ur,lh=Xi("display","block table table-cell table-caption list-item"),uh=ls,ch=ss,dh=$i,fh=Es,hh=function(t){return t>0},ph=function(t){return t<0},mh=function(t,e){for(var n;n=t(e);)if(!ch(n))return n;return null},gh=function(t,e,n,i,r){var o=new Ao(t,i),s=sh(t)||ch(t);if(ph(e)){if(s&&(t=mh(o.prev,!0),n(t)))return t;for(;t=mh(o.prev,r);)if(n(t))return t}if(hh(e)){if(s&&(t=mh(o.next,!0),n(t)))return t;for(;t=mh(o.next,r);)if(n(t))return t}return null},vh=function(t,e){for(;t&&t!==e;){if(lh(t))return t;t=t.parentNode}return null},bh=function(t,e,n){return vh(t.container(),n)===vh(e.container(),n)},yh=function(t,e){if(!e)return null;var n=e.container(),i=e.offset();return dh(n)?n.childNodes[i+t]:null},wh=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},xh=function(t,e,n){return vh(e,t)===vh(n,t)},_h=function(t,e,n){var i,r;for(r=t?"previousSibling":"nextSibling";n&&n!==e;){if(i=n[r],uh(i)&&(i=i[r]),sh(i)||ah(i)){if(xh(e,i,n))return i;break}if(fh(i))break;n=n.parentNode}return null},kh=e(wh,!0),Ch=e(wh,!1),Th=function(t,n,i){var r,o,s,a=e(_h,!0,n),l=e(_h,!1,n);o=i.startContainer;var u=i.startOffset;if(ss(o)){if(dh(o)||(o=o.parentNode),"before"===(s=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,oh(r)))return kh(r);if("after"===s&&(r=o.previousSibling,oh(r)))return Ch(r)}if(!i.collapsed)return i;if(tr(o)){if(uh(o)){if(1===t){if(r=l(o))return kh(r);if(r=a(o))return Ch(r)}if(-1===t){if(r=a(o))return Ch(r);if(r=l(o))return kh(r)}return i}if(gs(o)&&u>=o.data.length-1)return 1===t&&(r=l(o))?kh(r):i;if(ms(o)&&u<=1)return-1===t&&(r=a(o))?Ch(r):i;if(u===o.data.length)return r=l(o),r?kh(r):i;if(0===u)return r=a(o),r?Ch(r):i}return i},Sh=function(t,e){return lt.from(yh(t?0:-1,e)).filter(sh)},Dh=function(t,e,n){var i=Th(t,e,n);return-1===t?S.fromRangeStart(i):S.fromRangeEnd(i)},Eh=function(t){return lt.from(t.getNode()).map(En.fromDom)},Nh=function(t){return lt.from(t.getNode(!0)).map(En.fromDom)},Mh=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},Ah=function(t,e){var n=bh(t,e);return!(n||!rr(t.getNode()))||n};!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(Xc||(Xc={}));var jh=ar,Ph=tr,Ih=$i,Oh=rr,Rh=Es,Bh=Ps,Lh=Is,zh=function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n},Fh=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},Hh=function(t,e){if(hh(t)){if(Rh(e.previousSibling)&&!Ph(e.previousSibling))return Yc.before(e);if(Ph(e))return Yc(e,0)}if(ph(t)){if(Rh(e.nextSibling)&&!Ph(e.nextSibling))return Yc.after(e);if(Ph(e))return Yc(e,e.data.length)}return ph(t)?Oh(e)?Yc.before(e):Yc.after(e):Yc.before(e)},Wh=function(t,e){var n=e.nextSibling;return n&&Rh(n)?Ph(n)?Yc(n,0):Yc.before(n):Uh(Xc.Forwards,Yc.after(e),t)},Uh=function(t,e,n){var i,r,o,s;if(!Ih(n)||!e)return null;if(e.isEqual(Yc.after(n))&&n.lastChild){if(s=Yc.after(n.lastChild),ph(t)&&Rh(n.lastChild)&&Ih(n.lastChild))return Oh(n.lastChild)?Yc.before(n.lastChild):s}else s=e;var a=s.container(),l=s.offset();if(Ph(a)){if(ph(t)&&l>0)return Yc(a,--l);if(hh(t)&&l<a.length)return Yc(a,++l);i=a}else{if(ph(t)&&l>0&&(r=Fh(a,l-1),Rh(r)))return!Bh(r)&&(o=gh(r,t,Lh,r))?Ph(o)?Yc(o,o.data.length):Yc.after(o):Ph(r)?Yc(r,r.data.length):Yc.before(r);if(hh(t)&&l<a.childNodes.length&&(r=Fh(a,l),Rh(r)))return Oh(r)?Wh(n,r):!Bh(r)&&(o=gh(r,t,Lh,r))?Ph(o)?Yc(o,0):Yc.before(o):Ph(r)?Yc(r,0):Yc.after(r);i=r||s.getNode()}if((hh(t)&&s.isAtEnd()||ph(t)&&s.isAtStart())&&(i=gh(i,t,it,n,!0),Lh(i,n)))return Hh(t,i);r=gh(i,t,Lh,n);var u=be(It(zh(a,n),jh));return!u||r&&u.contains(r)?r?Hh(t,r):null:s=hh(t)?Yc.after(u):Yc.before(u)},Vh=function(t){return{next:function(e){return Uh(Xc.Forwards,e,t)},prev:function(e){return Uh(Xc.Backwards,e,t)}}},$h=function(t,e,n){var i=t?Yc.before(n):Yc.after(n);return Qh(t,e,i)},qh=function(t){return rr(t)?Yc.before(t):Yc.after(t)},Xh=function(t){return Yc.isTextPosition(t)?0===t.offset():Es(t.getNode())},Yh=function(t){if(Yc.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return Es(t.getNode(!0))},Kh=function(t,e){return!Yc.isTextPosition(t)&&!Yc.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Gh=function(t){return!Yc.isTextPosition(t)&&rr(t.getNode())},Jh=function(t,e,n){return t?!Kh(e,n)&&!Gh(e)&&Yh(e)&&Xh(n):!Kh(n,e)&&Xh(e)&&Yh(n)},Qh=function(t,e,n){var i=Vh(e);return lt.from(t?i.next(n):i.prev(n))},Zh=function(t,e,n){return Qh(t,e,n).bind(function(i){return bh(n,i,e)&&Jh(t,n,i)?Qh(t,e,i):lt.some(i)})},tp=function t(e,n,i,r){return Zh(e,n,i).bind(function(i){return r(i)?t(e,n,i,r):lt.some(i)})},ep=function(t,e){var n=t?e.firstChild:e.lastChild;return tr(n)?lt.some(Yc(n,t?0:n.data.length)):n?Es(n)?lt.some(t?Yc.before(n):qh(n)):$h(t,e,n):lt.none()},np=e(Qh,!0),ip=e(Qh,!1),rp=e(ep,!0),op=e(ep,!1),sp=function(t){return $i(t)&&"_mce_caret"===t.id},ap=function(t,e){for(;e&&e!==t;){if("_mce_caret"===e.id)return e;e=e.parentNode}return null},lp=function(t){return"string"==typeof t.start},up=function(t){return t.hasOwnProperty("rng")},cp=function(t){return t.hasOwnProperty("id")},dp=function(t){return t.hasOwnProperty("name")},fp=function(t){return _n.isArray(t.start)},hp=function(t,e){return $i(e)&&t.isBlock(e)&&!e.innerHTML&&!un.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e},pp=function(t,e){var n,i=t.createRng();return n=fd(t.getRoot(),e.start),i.setStart(n.container(),n.offset()),n=fd(t.getRoot(),e.end),i.setEnd(n.container(),n.offset()),i},mp=function(t,e){var n=t.ownerDocument.createTextNode(es);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)},gp=function(t){return!1===t.hasChildNodes()},vp=function(t,e){return op(t).fold(function(){return!1},function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0})},bp=function(t,e,n){return!(!gp(e)||!ap(t,e))&&(mp(e,n),!0)},yp=function(t,e,n,i){var r,o,s,a,l=n[e?"start":"end"],u=t.getRoot();if(l){for(s=l[0],o=u,r=l.length-1;r>=1;r--){if(a=o.childNodes,bp(u,o,i))return!0;if(l[r]>a.length-1)return!!bp(u,o,i)||vp(o,i);o=a[l[r]]}3===o.nodeType&&(s=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(s=Math.min(l[0],o.childNodes.length)),e?i.setStart(o,s):i.setEnd(o,s)}return!0},wp=function(t){return tr(t)&&t.data.length>0},xp=function(t,e,n){var i,r,o,s,a,l,u=t.get(n.id+"_"+e),c=n.keep;if(u){if(i=u.parentNode,"start"===e?(c?u.hasChildNodes()?(i=u.firstChild,r=1):wp(u.nextSibling)?(i=u.nextSibling,r=0):wp(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=t.nodeIndex(u)+1):r=t.nodeIndex(u),a=i,l=r):(c?u.hasChildNodes()?(i=u.firstChild,r=1):wp(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=t.nodeIndex(u)):r=t.nodeIndex(u),a=i,l=r),!c){for(s=u.previousSibling,o=u.nextSibling,_n.each(_n.grep(u.childNodes),function(t){tr(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});u=t.get(n.id+"_"+e);)t.remove(u,!0);s&&o&&s.nodeType===o.nodeType&&tr(s)&&!un.opera&&(r=s.nodeValue.length,s.appendData(o.nodeValue),t.remove(o),a=s,l=r)}return lt.some(Yc(a,l))}return lt.none()},_p=function(t,e){var n=t.createRng();return yp(t,!0,e,n)&&yp(t,!1,e,n)?lt.some(n):lt.none()},kp=function(t,e){var n=xp(t,"start",e),i=xp(t,"end",e);return dc(n,i.or(n),function(e,n){var i=t.createRng();return i.setStart(hp(t,e.container()),e.offset()),i.setEnd(hp(t,n.container()),n.offset()),i})},Cp=function(t,e){return lt.from(t.select(e.name)[e.index]).map(function(e){var n=t.createRng();return n.selectNode(e),n})},Tp=function(t,e){var n=t.dom;if(e){if(fp(e))return _p(n,e);if(lp(e))return lt.some(pp(n,e));if(cp(e))return kp(n,e);if(dp(e))return Cp(n,e);if(up(e))return lt.some(e.rng)}return lt.none()},Sp=function(t,e,n){return Dd(t,e,n)},Dp=function(t,e){Tp(t,e).each(function(e){t.setRng(e)})},Ep=function(t){return $i(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Np=function(t){return function(e){return t===e}}(" "),Mp=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},Ap=function(t){return!Mp(t)&&!Np(t)},jp=function(t){return!!t.nodeType},Pp=function(t){return t&&/^(IMG)$/.test(t.nodeName)},Ip=function(t,e,n){var i,r,o,s=n.startOffset,a=n.startContainer;if((n.startContainer!==n.endContainer||!Pp(n.startContainer.childNodes[n.startOffset]))&&1===a.nodeType)for(o=a.childNodes,s<o.length?(a=o[s],i=new Ao(a,t.getParent(a,t.isBlock))):(a=o[o.length-1],i=new Ao(a,t.getParent(a,t.isBlock)),i.next(!0)),r=i.current();r;r=i.next())if(3===r.nodeType&&!Lp(r))return n.setStart(r,0),void e.setRng(n)},Op=function(t,e,n){if(t){var i=e?"nextSibling":"previousSibling";for(t=n?t:t[i];t;t=t[i])if(1===t.nodeType||!Lp(t))return t}},Rp=function(t,e){return jp(e)&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},Bp=function(t,e,n){return t.schema.isValidChild(e,n)},Lp=function(t){return t&&tr(t)&&/^([\t \r\n]+|)$/.test(t.nodeValue)},zp=function(t){return t&&tr(t)&&0===t.length},Fp=function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t},Hp=function(t,e){return t=t||"",e=e||"",t=""+(t.nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},Wp=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},Up=function(t,e,n){return Wp(t,t.getStyle(e,n),n)},Vp=function(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n},$p=function(t,e,n){return t.getParents(e,n,t.getRoot())},qp=function(t,e){var n=function(t){var e=function(t){return t.length>1&&"%"===t.charAt(0)};return Nt(["styles","attributes"],function(n){return ae(t,n).exists(function(t){var n=mt(t)?t:se(t);return Nt(n,e)})})};return Nt(t.formatter.get(e),n)},Xp=function(t,e,n){var i=["inline","block","selector","attributes","styles","classes"],r=function(t){return re(t,function(t,e){return Nt(i,function(t){return t===e})})};return Nt(t.formatter.get(e),function(e){var i=r(e);return Nt(t.formatter.get(n),function(t){var e=r(t);return ue(i,e)})})},Yp=Ep,Kp=$p,Gp=Lp,Jp=Rp,Qp=function(t){return"BR"===t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},Zp=function(t,e){for(var n=e;n;){if($i(n)&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},tm=function(t,e,n,i){for(var r=e.data,o=n;t?o>=0:o<r.length;t?o--:o++)if(i(r.charAt(o)))return t?o+1:o;return-1},em=function(t,e,n){return tm(t,e,n,function(t){return Np(t)||Mp(t)})},nm=function(t,e,n){return tm(t,e,n,Ap)},im=function(t,e,n,i,r,o){var s,a=t.getParent(n,t.isBlock)||e,l=function(e,n,i){var o=uc(t),l=r?o.backwards:o.forwards;return lt.from(l(e,n,function(t,e){return Yp(t.parentNode)?-1:(s=t,i(r,t,e))},a))};return l(n,i,em).bind(function(t){return o?l(t.container,t.offset+(r?-1:0),nm):lt.some(t)}).orThunk(function(){return s?lt.some({container:s,offset:r?0:s.length}):lt.none()})},rm=function(t,e,n,i,r){tr(i)&&0===i.nodeValue.length&&i[r]&&(i=i[r]);for(var o=Kp(t,i),s=0;s<o.length;s++)for(var a=0;a<e.length;a++){var l=e[a];if(!("collapsed"in l&&l.collapsed!==n.collapsed)&&t.is(o[s],l.selector))return o[s]}return i},om=function(t,e,n,i){var r,o=t.dom,s=o.getRoot();if(e[0].wrapper||(r=o.getParent(n,e[0].block,s)),!r){var a=o.getParent(n,"LI,TD,TH");r=o.getParent(tr(n)?n.parentNode:n,function(e){return e!==s&&Jp(t,e)},a)}if(r&&e[0].wrapper&&(r=Kp(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!Hp(r,"br")););return r||n},sm=function(t,e,n,i,r,o,s){var a,l,u;a=l=s?n:r;var c=s?"previousSibling":"nextSibling",d=t.getRoot();if(tr(a)&&!Gp(a)&&(s?i>0:o<a.nodeValue.length))return a;for(;;){if(!e[0].block_expand&&t.isBlock(l))return l;for(u=l[c];u;u=u[c])if(!Yp(u)&&!Gp(u)&&!Qp(u))return l;if(l===d||l.parentNode===d){a=l;break}l=l.parentNode}return a},am=function(t,e,n,i){void 0===i&&(i=!1);var r=e.startContainer,o=e.startOffset,s=e.endContainer,a=e.endOffset,l=t.dom;if($i(r)&&r.hasChildNodes()&&(r=kc(r,o),tr(r)&&(o=0)),$i(s)&&s.hasChildNodes()&&(s=kc(s,e.collapsed?a:a-1),tr(s)&&(a=s.nodeValue.length)),r=Zp(l,r),s=Zp(l,s),(Yp(r.parentNode)||Yp(r))&&(r=Yp(r)?r:r.parentNode,r=e.collapsed?r.previousSibling||r:r.nextSibling||r,tr(r)&&(o=e.collapsed?r.length:0)),(Yp(s.parentNode)||Yp(s))&&(s=Yp(s)?s:s.parentNode,s=e.collapsed?s.nextSibling||s:s.previousSibling||s,tr(s)&&(a=e.collapsed?0:s.length)),e.collapsed){im(l,t.getBody(),r,o,!0,i).each(function(t){var e=t.container,n=t.offset;r=e,o=n});im(l,t.getBody(),s,a,!1,i).each(function(t){var e=t.container,n=t.offset;s=e,a=n})}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&tr(r)&&0!==o||(r=sm(l,n,r,o,s,a,!0)),n[0].inline&&tr(s)&&a!==s.nodeValue.length||(s=sm(l,n,r,o,s,a,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(r=rm(l,n,e,r,"previousSibling"),s=rm(l,n,e,s,"nextSibling")),(n[0].block||n[0].selector)&&(r=om(t,n,r,"previousSibling"),s=om(t,n,s,"nextSibling"),n[0].block&&(l.isBlock(r)||(r=sm(l,n,r,o,s,a,!0)),l.isBlock(s)||(s=sm(l,n,r,o,s,a,!1)))),$i(r)&&(o=l.nodeIndex(r),r=r.parentNode),$i(s)&&(a=l.nodeIndex(s)+1,s=s.parentNode),{startContainer:r,startOffset:o,endContainer:s,endOffset:a}},lm=function(t,e){var n=t.childNodes;return e>=n.length?e=n.length-1:e<0&&(e=0),n[e]||t},um=function(t,e){return lm(t,e-1)},cm=function(t,e,n){var i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,a=function(t){var e;return e=t[0],3===e.nodeType&&e===i&&r>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===s&&t.length>0&&e===o&&3===e.nodeType&&t.splice(t.length-1,1),t},l=function(t,e,n){for(var i=[];t&&t!==n;t=t[e])i.push(t);return i},u=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},c=function(t,e,i){for(var r=i?"nextSibling":"previousSibling",o=t,s=o.parentNode;o&&o!==e;o=s){s=o.parentNode;var u=l(o===t?o:o[r],r);u.length&&(i||u.reverse(),n(a(u)))}};if(1===i.nodeType&&i.hasChildNodes()&&(i=lm(i,r)),1===o.nodeType&&o.hasChildNodes()&&(o=um(o,s)),i===o)return n(a([i]));for(var d=t.findCommonAncestor(i,o),f=i;f;f=f.parentNode){if(f===o)return c(i,d,!0);if(f===d)break}for(var f=o;f;f=f.parentNode){if(f===i)return c(o,d);if(f===d)break}var h=u(i,d)||i,p=u(o,d)||o;c(i,h,!0);var m=l(h===i?h:h.nextSibling,"nextSibling",p===o?p.nextSibling:p);m.length&&n(a(m)),c(o,p)},dm=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},fm=function(t){return Ht(t,function(t){var e=_c(t);return e?[En.fromDom(e)]:[]})},hm=function(t){return dm(t).length>1},pm=function(t){return It(fm(t),Go)},mm=function(t){return Wu(t,"td[data-mce-selected],th[data-mce-selected]")},gm=function(t,e){var n=mm(e);return n.length>0?n:pm(t)},vm=function(t){return gm(dm(t.selection.getSel()),En.fromDom(t.getBody()))},bm=function(t){var e=t.startContainer,n=t.startOffset;return tr(e)?0===n?lt.some(En.fromDom(e)):lt.none():lt.from(e.childNodes[n]).map(En.fromDom)},ym=function(t){var e=t.endContainer,n=t.endOffset;return tr(e)?n===e.data.length?lt.some(En.fromDom(e)):lt.none():lt.from(e.childNodes[n-1]).map(En.fromDom)},wm=function t(e){return ai(e).fold(Q([e]),function(n){return[e].concat(t(n))})},xm=function t(e){return li(e).fold(Q([e]),function(n){return"br"===Fn(n)?ei(n).map(function(n){return[e].concat(t(n))}).getOr([]):[e].concat(t(n))})},_m=function(t,n){return dc(bm(n),ym(n),function(n,i){var r=Lt(wm(t),e(Rn,n)),o=Lt(xm(t),e(Rn,i));return r.isSome()&&o.isSome()}).getOr(!1)},km=function(t,e,n,i){var r=n,o=new Ao(n,r),s=re(t.schema.getMoveCaretBeforeOnEnterElements(),function(t,e){return!Et(["td","th","table"],e.toLowerCase())});do{if(tr(n)&&0!==_n.trim(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(s[n.nodeName])return void(i?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},Cm=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0},Tm=function(t,e){var n=vm(t);n.length>0?At(n,function(n){var i=n.dom,r=t.dom.createRng();r.setStartBefore(i),r.setEndAfter(i),e(r,!0)}):e(t.selection.getRng(),!1)},Sm=function(t,e,n){var i=Sd(t,e);n(i),t.moveToBookmark(i)},Dm=function(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return i(n).getOr("")},i=function(e){return t(e)?lt.from(e.dom.nodeValue):lt.none()};return{get:n,getOption:i,set:function(n,i){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom.nodeValue=i}}}($n,"text"),Em=function(t){return Dm.get(t)},Nm=function(t){return $n(t)&&Em(t)===es},Mm=function(t,e,n,i){return Qn(e).fold(function(){return"skipping"},function(r){return"br"===i||Nm(e)?"valid":Xu(e)?"existing":sp(e.dom)?"caret":Bp(t,n,i)&&Bp(t,Fn(r),n)?"valid":"invalid-child"})},Am=function(t,e){var n=am(t,e,[{inline:!0}]);e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)},jm=function(t,e,n,r){var o=e.uid,s=void 0===o?tc("mce-annotation"):o,a=i(e,["uid"]),l=En.fromTag("span",t);Bu(l,Uu()),fr(l,""+$u(),s),fr(l,""+Vu(),n);var u=r(s,a),c=u.attributes,d=void 0===c?{}:c,f=u.classes,h=void 0===f?[]:f;return hr(l,d),ec(l,h),l},Pm=function(t,e,n,i,r){var o=[],s=jm(t.getDoc(),r,n,i),a=hu(lt.none()),l=function(){a.set(lt.none())},u=function(){return a.get().getOrThunk(function(){var t=sc(s);return o.push(t),a.set(lt.some(t)),t})},c=function(t){At(t,d)},d=function(e){switch(Mm(t,e,"span",Fn(e))){case"invalid-child":l();var n=oi(e);c(n),l();break;case"valid":var i=u();Ci(e,i)}},f=function(t){var e=Mt(t,En.fromDom);c(e)};return cm(t.dom,e,function(t){l(),f(t)}),o},Im=function(t,e,n,i){t.undoManager.transact(function(){var r=t.selection,o=r.getRng(),s=vm(t).length>0;if(o.collapsed&&!s&&Am(t,o),r.getRng().collapsed&&!s){var a=jm(t.getDoc(),i,e,n.decorate);rc(a," "),r.getRng().insertNode(a.dom),r.select(a.dom)}else Sm(r,!1,function(){Tm(t,function(r){Pm(t,r,e,n.decorate,i)})})})},Om=function(t){var e=Qu();Ju(t,e);var n=Gu(t);return{register:function(t,n){e.register(t,n)},annotate:function(n,i){e.lookup(n).each(function(e){Im(t,n,e,i)})},annotationChanged:function(t,e){n.addListener(t,e)},remove:function(e){qu(t,lt.some(e)).each(function(t){var e=t.elements;At(e,Ni)})},getAll:function(e){var n=Ku(t,e);return Zt(n,function(t){return Mt(t,function(t){return t.dom})})}}};!function(t){t.isBookmarkNode=Ep}(D||(D={}));var Rm=D,Bm=function(t,e){for(;e&&e!==t;){if(sr(e)||ar(e))return e;e=e.parentNode}return null},Lm=function(t,e,n){if(n.collapsed)return!1;if(un.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var i=n.startContainer.childNodes[n.startOffset];if($i(i))return Nt(i.getClientRects(),function(n){return xc(n,t,e)})}return Nt(n.getClientRects(),function(n){return xc(n,t,e)})},zm=function(t,e){return t.fire("PreProcess",e)},Fm=function(t,e){return t.fire("PostProcess",e)},Hm=function(t){return t.fire("remove")},Wm=function(t){return t.fire("detach")},Um=function(t,e){return t.fire("SwitchMode",{mode:e})},Vm=function(t,e,n,i,r){t.fire("ObjectResizeStart",{target:e,width:n,height:i,origin:r})},$m=function(t,e,n,i,r){t.fire("ObjectResized",{target:e,width:n,height:i,origin:r})},qm=function(t){return t.fire("PreInit")},Xm=function(t){return t.fire("PostRender")},Ym=function(t){return t.fire("Init")},Km=function(t,e){return t.fire("PlaceholderToggle",{state:e})},Gm=function(t,e,n){return t.fire(e,n)},Jm={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return un.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Qm=ar,Zm=function(t,e){var n,i,r,o,s,a,l,u,c,d,f,h,p,m,g=e.dom,v=_n.each,b=e.getDoc(),y=document,w=Math.abs,x=Math.round,_=e.getBody(),k={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},C=function(t){return t&&("IMG"===t.nodeName||e.dom.is(t,"figure.image"))},T=function(t,e){if("longpress"===t.type||0===t.type.indexOf("touch")){var n=t.touches[0];return C(t.target)&&!Lm(n.clientX,n.clientY,e)}return C(t.target)&&!Lm(t.clientX,t.clientY,e)},S=function(t){var n=t.target;T(t,e.selection.getRng())&&!t.isDefaultPrevented()&&e.selection.select(n)},D=function(t){return e.dom.is(t,"figure.image")?t.querySelector("img"):t},E=function(t){var n=ff(e);return!!n&&("false"!==t.getAttribute("data-mce-resize")&&(t!==e.getBody()&&jn(En.fromDom(t),n)))},N=function(t,e,n){g.setStyles(D(t),{width:e,height:n})},M=function(t){var v,b,y,k,T;v=t.screenX-s,b=t.screenY-a,f=v*o[2]+l,h=b*o[3]+u,f=f<5?5:f,h=h<5?5:h,y=C(n)&&!1!==hf(e)?!Jm.modifierPressed(t):Jm.modifierPressed(t),y&&(w(v)>w(b)?(h=x(f*c),f=x(h/c)):(f=x(h/c),h=x(f*c))),N(i,f,h),k=o.startPos.x+v,T=o.startPos.y+b,k=k>0?k:0,T=T>0?T:0,g.setStyles(r,{left:k,top:T,display:"block"}),r.innerHTML=f+" &times; "+h,o[2]<0&&i.clientWidth<=f&&g.setStyle(i,"left",void 0+(l-f)),o[3]<0&&i.clientHeight<=h&&g.setStyle(i,"top",void 0+(u-h)),v=_.scrollWidth-p,b=_.scrollHeight-m,v+b!==0&&g.setStyles(r,{left:k-v,top:T-b}),d||(Vm(e,n,l,u,"corner-"+o.name),d=!0)},A=function t(){var s=d;d=!1;var a=function(t,i){i&&(n.style[t]||!e.schema.isValid(n.nodeName.toLowerCase(),t)?g.setStyle(D(n),t,i):g.setAttrib(D(n),t,""+i))};s&&(a("width",f),a("height",h)),g.unbind(b,"mousemove",M),g.unbind(b,"mouseup",t),y!==b&&(g.unbind(y,"mousemove",M),g.unbind(y,"mouseup",t)),g.remove(i),g.remove(r),j(n),s&&($m(e,n,f,h,"corner-"+o.name),g.setAttrib(n,"style",g.getAttrib(n,"style"))),e.nodeChanged()},j=function(t){P(),R();var d=g.getPos(t,_),w=d.x,x=d.y,C=t.getBoundingClientRect(),T=C.width||C.right-C.left,S=C.height||C.bottom-C.top;n!==t&&(n=t,f=h=0);var j=e.fire("ObjectSelected",{target:t});E(t)&&!j.isDefaultPrevented()?v(k,function(t,e){var d,f=function(d){s=d.screenX,a=d.screenY,l=D(n).clientWidth,u=D(n).clientHeight,c=u/l,o=t,o.name=e,o.startPos={x:T*t[0]+w,y:S*t[1]+x},p=_.scrollWidth,m=_.scrollHeight,i=n.cloneNode(!0),g.addClass(i,"mce-clonedresizable"),g.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,g.setStyles(i,{left:w,top:x,margin:0}),N(i,T,S),i.removeAttribute("data-mce-selected"),_.appendChild(i),g.bind(b,"mousemove",M),g.bind(b,"mouseup",A),y!==b&&(g.bind(y,"mousemove",M),g.bind(y,"mouseup",A)),r=g.add(_,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},l+" &times; "+u)};d=g.get("mceResizeHandle"+e),d&&g.remove(d),d=g.add(_,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===un.ie&&(d.contentEditable=!1),g.bind(d,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),f(t)}),t.elm=d,g.setStyles(d,{left:T*t[0]+w-d.offsetWidth/2,top:S*t[1]+x-d.offsetHeight/2})}):P(),n.setAttribute("data-mce-selected","1")},P=function(){R(),n&&n.removeAttribute("data-mce-selected"),Qt(k,function(t,e){var n=g.get("mceResizeHandle"+e);n&&(g.unbind(n),g.remove(n))})},I=function(n){var i,r,o=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};if(!d&&!e.removed){if(v(g.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),r="mousedown"===n.type?n.target:t.getNode(),r=g.$(r).closest("table,img,figure.image,hr")[0],o(r,_)&&(B(),i=t.getStart(!0),o(i,r)&&o(t.getEnd(!0),r)))return void j(r);P()}},O=function(t){return Qm(Bm(e.getBody(),t))},R=function(){Qt(k,function(t){t.elm&&(g.unbind(t.elm),delete t.elm)})},B=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(t){}};return e.on("init",function(){if(B(),un.browser.isIE()||un.browser.isEdge()){e.on("mousedown click",function(t){var n=t.target,i=n.nodeName;d||!/^(TABLE|IMG|HR)$/.test(i)||O(n)||(2!==t.button&&e.selection.select(n,"TABLE"===i),"mousedown"===t.type&&e.nodeChanged())});var t=function(t){var n=function(t){No.setEditorTimeout(e,function(){return e.selection.select(t)})};if(O(t.target)||ur(t.target))return t.preventDefault(),void n(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&n(t.target))};g.bind(_,"mscontrolselect",t),e.on("remove",function(){return g.unbind(_,"mscontrolselect",t)})}var i=No.throttle(function(t){e.composing||I(t)});e.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",i),e.on("keyup compositionend",function(t){n&&"TABLE"===n.nodeName&&i(t)}),e.on("hide blur",P),e.on("contextmenu longpress",S,!0)}),e.on("remove",R),{isResizable:E,showResizeRect:j,hideResizeRect:P,updateResizeRect:I,destroy:function(){n=i=null}}},tg=function(t){return sr(t)||ar(t)},eg=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},ng=function(t,e,n){var i,r=n.elementFromPoint(t,e),o=n.body.createTextRange();if(r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),i=_n.toArray(o.getClientRects()),i=i.sort(function(t,n){return t=Math.abs(Math.max(t.top-e,t.bottom-e)),n=Math.abs(Math.max(n.top-e,n.bottom-e)),t-n}),i.length>0){e=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(t,e),o.collapse(!0),o}catch(t){}}return null},ig=function(t,e){var n=t&&t.parentElement?t.parentElement():null;return ar(eg(n,e,tg))?null:t},rg=function(t,e,n){var i,r,o=n;if(o.caretPositionFromPoint)(r=o.caretPositionFromPoint(t,e))&&(i=n.createRange(),i.setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(o.body.createTextRange){i=o.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(r){i=ng(t,e,n)}return ig(i,n.body)}return i},og=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},sg=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},ag=function(t,e,n){return null!==sg(t,e,n)},lg=function(t,e,n){return ag(t,e,function(t){return t.nodeName===n})},ug=function(t){return t&&"TABLE"===t.nodeName},cg=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},dg=function(t,e){return ls(t)&&!1===ag(t,e,sp)},fg=function(t,e,n){for(var i=new Ao(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=i[n?"prev":"next"]();)if(rr(e))return!0},hg=function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e},pg=function(t,e){for(;e&&e!==t;){if(ar(e))return!0;e=e.parentNode}return!1},mg=function(t,e,n,i,r){var o,s,a=t.getRoot(),l=t.schema.getNonEmptyElements(),u=t.getParent(r.parentNode,t.isBlock)||a;if(i&&rr(r)&&e&&t.isEmpty(u))return lt.some(S(r.parentNode,t.nodeIndex(r)));for(var c=new Ao(r,u);s=c[i?"prev":"next"]();){if("false"===t.getContentEditableParent(s)||dg(s,a))return lt.none();if(tr(s)&&s.nodeValue.length>0)return!1===lg(s,a,"A")?lt.some(S(s,i?s.nodeValue.length:0)):lt.none();if(t.isBlock(s)||l[s.nodeName.toLowerCase()])return lt.none();o=s}return n&&o?lt.some(S(o,0)):lt.none()},gg=function(t,e,n,i){var r,o,s,a,l=t.getRoot(),u=!1;r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"];var c=$i(r)&&o===r.childNodes.length,d=t.schema.getNonEmptyElements();if(a=n,ls(r))return lt.none();if($i(r)&&o>r.childNodes.length-1&&(a=!1),nr(r)&&(r=l,o=0),r===l){if(a&&(s=r.childNodes[o>0?o-1:0])){if(ls(s))return lt.none();if(d[s.nodeName]||ug(s))return lt.none()}if(r.hasChildNodes()){if(o=Math.min(!a&&o>0?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=tr(r)&&c?r.data.length:0,!e&&r===l.lastChild&&ug(r))return lt.none();if(pg(l,r)||ls(r))return lt.none();if(r.hasChildNodes()&&!1===ug(r)){s=r;var f=new Ao(r,l);do{if(ar(s)||ls(s)){u=!1;break}if(tr(s)&&s.nodeValue.length>0){o=a?0:s.nodeValue.length,r=s,u=!0;break}if(d[s.nodeName.toLowerCase()]&&!cg(s)){o=t.nodeIndex(s),r=s.parentNode,a||o++,u=!0;break}}while(s=a?f.next():f.prev())}}}return e&&(tr(r)&&0===o&&mg(t,c,e,!0,r).each(function(t){r=t.container(),o=t.offset(),u=!0}),$i(r)&&(s=r.childNodes[o],s||(s=r.childNodes[o-1]),!s||!rr(s)||hg(s,"A")||fg(t,s,!1)||fg(t,s,!0)||mg(t,c,e,!0,s).each(function(t){r=t.container(),o=t.offset(),u=!0}))),a&&!e&&tr(r)&&o===r.nodeValue.length&&mg(t,c,e,!1,r).each(function(t){r=t.container(),o=t.offset(),u=!0}),u?lt.some(S(r,o)):lt.none()},vg=function(t,e){var n=e.collapsed,i=e.cloneRange(),r=S.fromRangeStart(e);return gg(t,n,!0,i).each(function(t){n&&S.isAbove(r,t)||i.setStart(t.container(),t.offset())}),n||gg(t,n,!1,i).each(function(t){i.setEnd(t.container(),t.offset())}),n&&i.collapse(!0),og(e,i)?lt.none():lt.some(i)},bg=function(t,e){return t.splitText(e)},yg=function(t){var e=t.startContainer,n=t.startOffset,i=t.endContainer,r=t.endOffset;return e===i&&tr(e)?n>0&&n<e.nodeValue.length&&(i=bg(e,n),e=i.previousSibling,r>n?(r-=n,e=i=bg(i,r).previousSibling,r=i.nodeValue.length,n=0):r=0):(tr(e)&&n>0&&n<e.nodeValue.length&&(e=bg(e,n),n=0),tr(i)&&r>0&&r<i.nodeValue.length&&(i=bg(i,r).previousSibling,r=i.nodeValue.length)),{startContainer:e,startOffset:n,endContainer:i,endOffset:r}};!function(t){t.compareRanges=og,t.getCaretRangeFromPoint=rg,t.getSelectedNode=_c,t.getNode=kc}(E||(E={}));var wg,xg=E,_g=function(t,e){var n=function(e,n){if(!_t(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var i=e.dom;cr(i)&&(i.style[t]=n+"px")},i=function(n){var i=e(n);if(i<=0||null===i){var r=xr(n,t);return parseFloat(r)||0}return i},r=i,o=function(t,e){return Rt(e,function(e,n){var i=xr(t,n),r=void 0===i?0:parseInt(i,10);return isNaN(r)?e:e+r},0)};return{set:n,get:i,getOuter:r,aggregate:o,max:function(t,e,n){var i=o(t,n);return e>i?e-i:0}}}("height",function(t){var e=t.dom;return Mi(t)?e.getBoundingClientRect().height:e.offsetHeight}),kg=function(t){return _g.get(t)},Cg=function t(e,n){return e.view(n).fold(Q([]),function(n){var i=e.owner(n);return[n].concat(t(e,i))})},Tg=function(t,e){var n=e.owner(t);return Cg(e,n)},Sg=function(t){var e;return(t.dom===document?lt.none():lt.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement)).map(En.fromDom)},Dg=function(t){return Kn(t)},Eg=Object.freeze({__proto__:null,view:Sg,owner:Dg}),Ng=function(t){var e=En.fromDom(document),n=Bi(e),i=Tg(t,Eg),r=Ri(t),o=Ot(i,function(t,e){var n=Ri(e);return{left:t.left+n.left,top:t.top+n.top}},{left:0,top:0});return ji(o.left+r.left+n.left,o.top+r.top+n.top)},Mg=function(t){return"textarea"===Fn(t)},Ag=function(t,e){return t.fire("ScrollIntoView",e).isDefaultPrevented()},jg=function(t,e){t.fire("AfterScrollIntoView",e)},Pg=function(t,e){var n=oi(t);if(0===n.length||Mg(t))return{element:t,offset:e};if(e<n.length&&!Mg(n[e]))return{element:n[e],offset:0};var i=n[n.length-1];return Mg(i)?{element:t,offset:e}:"img"===Fn(i)?{element:i,offset:1}:$n(i)?{element:i,offset:Em(i).length}:{element:i,offset:oi(i).length}},Ig=function(t,e){var n=Oi(t),i=kg(t);return{element:t,bottom:n.top+i,height:i,pos:n,cleanup:e}},Og=function(t,e){var n=Pg(t,e),i=En.fromHtml('<span data-mce-bogus="all">\ufeff</span>');return wi(n.element,i),Ig(i,function(){return Ei(i)})},Rg=function(t){return Ig(En.fromDom(t),K)},Bg=function(t,e,n,i){Hg(t,function(r,o){return zg(t,e,n,i)},n)},Lg=function(t,e,n,i,r){var o={elm:i.element.dom,alignToTop:r};if(!Ag(t,o)){n(e,Bi(e).top,i,r),jg(t,o)}},zg=function(t,e,n,i){var r=En.fromDom(t.getBody()),o=En.fromDom(t.getDoc());Tr(r);var s=Og(En.fromDom(n.startContainer),n.startOffset);Lg(t,o,e,s,i),s.cleanup()},Fg=function(t,e,n,i){var r=En.fromDom(t.getDoc());Lg(t,r,n,Rg(e),i)},Hg=function(t,e,n){var i=n.startContainer,r=n.startOffset,o=n.endContainer,s=n.endOffset;e(En.fromDom(i),En.fromDom(o));var a=t.dom.createRng();a.setStart(i,r),a.setEnd(o,s),t.selection.setRng(n)},Wg=function(t,e,n,i){var r=t.pos;if(n)Li(r.left,r.top,i);else{var o=r.top-e+t.height;Li(r.left,o,i)}},Ug=function(t,e,n,i,r){var o=n+e,s=i.pos.top,a=i.bottom,l=a-s>=n;if(s<e)Wg(i,n,!1!==r,t);else if(s>o){var u=l?!1!==r:!0===r;Wg(i,n,u,t)}else a>o&&!l&&Wg(i,n,!0===r,t)},Vg=function(t,e,n,i){var r=t.dom.defaultView.innerHeight;Ug(t,e,r,n,i)},$g=function(t,e,n,i){var r=t.dom.defaultView.innerHeight;Ug(t,e,r,n,i);var o=Ng(n.element),s=Wi(window);o.top<s.y?zi(n.element,!1!==i):o.top>s.bottom&&zi(n.element,!0===i)},qg=function(t,e,n){return Bg(t,Vg,e,n)},Xg=function(t,e,n){return Fg(t,e,Vg,n)},Yg=function(t,e,n){return Bg(t,$g,e,n)},Kg=function(t,e,n){return Fg(t,e,$g,n)},Gg=function(t,e,n){(t.inline?Xg:Kg)(t,e,n)},Jg=function(t,e,n){(t.inline?qg:Yg)(t,e,n)},Qg=function(){return En.fromDom(document)},Zg=function(t){return t.dom.focus()},tv=function(t){var e=pi(t).dom;return t.dom===e.activeElement},ev=function(t){return void 0===t&&(t=Qg()),lt.from(t.dom.activeElement).map(En.fromDom)},nv=function(t){return ev(pi(t)).filter(function(e){return t.dom.contains(e.dom)})},iv=function(t,e,n,i){return{start:t,soffset:e,finish:n,foffset:i}},rv={create:iv},ov=mo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sv=function(t,e,n,i){return t.fold(e,n,i)},av=function(t){return t.fold(Z,Z,Z)},lv=ov.before,uv=ov.on,cv=ov.after,dv={before:lv,on:uv,after:cv,cata:sv,getStart:av},fv=mo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),hv=function(t){return fv.exact(t.start,t.soffset,t.finish,t.foffset)},pv=function(t){return t.match({domRange:function(t){return En.fromDom(t.startContainer)},relative:function(t,e){return dv.getStart(t)},exact:function(t,e,n,i){return t}})},mv=fv.domRange,gv=fv.relative,vv=fv.exact,bv=function(t){var e=pv(t);return Jn(e)},yv=rv.create,wv={domRange:mv,relative:gv,exact:vv,exactFromRange:hv,getWin:bv,range:yv},xv=Ze().browser,_v=function(t,e){var n=$n(e)?Em(e).length:oi(e).length+1;return t>n?n:t<0?0:t},kv=function(t){return wv.range(t.start,_v(t.soffset,t.start),t.finish,_v(t.foffset,t.finish))},Cv=function(t,e){return!Vi(e.dom)&&(zn(t,e)||Rn(t,e))},Tv=function(t){return function(e){return Cv(t,e.start)&&Cv(t,e.finish)}},Sv=function(t){return!0===t.inline||xv.isIE()},Dv=function(t){return wv.range(En.fromDom(t.startContainer),t.startOffset,En.fromDom(t.endContainer),t.endOffset)},Ev=function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?lt.from(e.getRangeAt(0)):lt.none()).map(Dv)},Nv=function(t){var e=Jn(t);return Ev(e.dom).filter(Tv(t))},Mv=function(t,e){return lt.from(e).filter(Tv(t)).map(kv)},Av=function(t){var e=document.createRange();try{return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),lt.some(e)}catch(t){return lt.none()}},jv=function(t){var e=Sv(t)?Nv(En.fromDom(t.getBody())):lt.none();t.bookmark=e.isSome()?e:t.bookmark},Pv=function(t,e){var n=En.fromDom(t.getBody()),i=Sv(t)?lt.from(e):lt.none(),r=i.map(Dv).filter(Tv(n));t.bookmark=r.isSome()?r:t.bookmark},Iv=function(t){return(t.bookmark?t.bookmark:lt.none()).bind(function(e){return Mv(En.fromDom(t.getBody()),e)}).bind(Av)},Ov=function(t){Iv(t).each(function(e){return t.selection.setRng(e)})},Rv=function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")},Bv={isEditorUIElement:Rv},Lv=function(t){return"nodechange"===t.type&&t.selectionChange},zv=function(t,e){var n=function(){e.throttle()};lu.DOM.bind(document,"mouseup",n),t.on("remove",function(){lu.DOM.unbind(document,"mouseup",n)})},Fv=function(t){t.on("focusout",function(){jv(t)})},Hv=function(t,e){t.on("mouseup touchend",function(t){e.throttle()})},Wv=function(t,e){Ze().browser.isIE()?Fv(t):Hv(t,e),t.on("keyup NodeChange",function(e){Lv(e)||jv(t)})},Uv=function(t){var e=Eu(function(){jv(t)},0);t.on("init",function(){t.inline&&zv(t,e),Wv(t,e)}),t.on("remove",function(){e.cancel()})},Vv=lu.DOM,$v=function(t){return Bv.isEditorUIElement(t)},qv=function(t){var e=t.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))},Xv=function(t,e){var n=_f(t);return null!==Vv.getParent(e,function(e){return $v(e)||!!n&&t.dom.is(e,n)})},Yv=function(t){try{var e=pi(En.fromDom(t.getElement()));return ev(e).fold(function(){return document.body},function(t){return t.dom})}catch(t){return document.body}},Kv=function(t,e){var n=e.editor;Uv(n),n.on("focusin",function(){var e=this,n=t.focusedEditor;n!==e&&(n&&n.fire("blur",{focusedEditor:e}),t.setActive(e),t.focusedEditor=e,e.fire("focus",{blurredEditor:n}),e.focus(!0))}),n.on("focusout",function(){var e=this;No.setEditorTimeout(e,function(){var n=t.focusedEditor;Xv(e,Yv(e))||n!==e||(e.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),wg||(wg=function(e){var n=t.activeEditor;n&&bi(e).each(function(e){e.ownerDocument===document&&(e===document.body||Xv(n,e)||t.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),t.focusedEditor=null))})},Vv.bind(document,"focusin",wg))},Gv=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(Vv.unbind(document,"focusin",wg),wg=null)},Jv=function(t){t.on("AddEditor",e(Kv,t)),t.on("RemoveEditor",e(Gv,t))},Qv=function(t,e){return t.dom.getParent(e,function(e){return"true"===t.dom.getContentEditable(e)})},Zv=function(t){return t.collapsed?lt.from(kc(t.startContainer,t.startOffset)).map(En.fromDom):lt.none()},tb=function(t,e){return Zv(e).bind(function(e){return Ko(e)?lt.some(e):!1===zn(t,e)?lt.some(t):lt.none()})},eb=function(t,e){tb(En.fromDom(t.getBody()),e).bind(function(t){return rp(t.dom)}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})},nb=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},ib=function(t){return tv(t)||nv(t).isSome()},rb=function(t){return t.iframeElement&&tv(En.fromDom(t.iframeElement))},ob=function(t){var e=t.getBody();return e&&ib(En.fromDom(e))},sb=function(t){return ev().filter(function(e){return!qv(e.dom)&&Xv(t,e.dom)}).isSome()},ab=function(t){return t.inline?ob(t):rb(t)},lb=function(t){return ab(t)||sb(t)},ub=function(t){var e=t.selection,n=t.getBody(),i=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===ab(t)&&Iv(t).each(function(e){t.selection.setRng(e),i=e});var r=Qv(t,e.getNode());if(t.$.contains(n,r))return nb(r),eb(t,i),void cb(t);t.inline||(un.opera||nb(n),t.getWin().focus()),(un.gecko||t.inline)&&(nb(n),eb(t,i)),cb(t)},cb=function(t){return t.editorManager.setActive(t)},db=function(t,e){t.removed||(e?cb(t):ub(t))},fb=function(t,e,n,i,r){var o=n?e.startContainer:e.endContainer,s=n?e.startOffset:e.endOffset;return lt.from(o).map(En.fromDom).map(function(t){return i&&e.collapsed?t:si(t,r(t,s)).getOr(t)}).bind(function(t){return Vn(t)?lt.some(t):Qn(t).filter(Vn)}).map(function(t){return t.dom}).getOr(t)},hb=function(t,e,n){return fb(t,e,!0,n,function(t,e){return Math.min(ui(t),e)})},pb=function(t,e,n){return fb(t,e,!1,n,function(t,e){return e>0?e-1:e})},mb=function(t,e){for(var n=t;t&&tr(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},gb=function(t,e){var n,i,r;if(!e)return t;i=e.startContainer,r=e.endContainer;var o=e.startOffset,s=e.endOffset;return n=e.commonAncestorContainer,!e.collapsed&&(i===r&&s-o<2&&i.hasChildNodes()&&(n=i.childNodes[o]),3===i.nodeType&&3===r.nodeType&&(i=i.length===o?mb(i.nextSibling,!0):i.parentNode,r=0===s?mb(r.previousSibling,!1):r.parentNode,i&&i===r))?i:n&&3===n.nodeType?n.parentNode:n},vb=function(t,e,n,i){var r,o=[],s=t.getRoot();if(n=t.getParent(n||hb(s,e,e.collapsed),t.isBlock),i=t.getParent(i||pb(s,e,e.collapsed),t.isBlock),n&&n!==s&&o.push(n),n&&i&&n!==i){r=n;for(var a=new Ao(n,s);(r=a.next())&&r!==i;)t.isBlock(r)&&o.push(r)}return i&&n!==i&&i!==s&&o.push(i),o},bb=function(t,e,n){return lt.from(e).map(function(e){var i=t.nodeIndex(e),r=t.createRng();return r.setStart(e.parentNode,i),r.setEnd(e.parentNode,i+1),n&&(km(t,r,e,!0),km(t,r,e,!1)),r})},yb=function(t,e){return Mt(e,function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e})},wb={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},xb=function(t,e,n){var i=n?"lastChild":"firstChild",r=n?"prev":"next";if(t[i])return t[i];if(t!==e){var o=t[r];if(o)return o;for(var s=t.parent;s&&s!==e;s=s.parent)if(o=s[r])return o}},_b=function(t){if(!Rs(t.value))return!1;var e=t.parent;return!e||"span"===e.name&&!e.attr("style")||!/^[ ]+$/.test(t.value)},kb=function(t){var e="a"===t.name&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e},Cb=function(){function t(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var i=new t(e,wb[e]||1);return n&&Qt(n,function(t,e){i.attr(e,t)}),i},t.prototype.replace=function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},t.prototype.attr=function(t,e){var n,i=this;if("string"!=typeof t)return void 0!==t&&null!==t&&Qt(t,function(t,e){i.attr(e,t)}),i;if(n=i.attributes){if(void 0!==e){if(null===e){if(t in n.map){delete n.map[t];for(var r=n.length;r--;)if(n[r].name===t)return n.splice(r,1),i}return i}if(t in n.map){for(var r=n.length;r--;)if(n[r].name===t){n[r].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,i}return n.map[t]}},t.prototype.clone=function(){var e,n=this,i=new t(n.name,n.type);if(e=n.attributes){var r=[];r.map={};for(var o=0,s=e.length;o<s;o++){var a=e[o];"id"!==a.name&&(r[r.length]={name:a.name,value:a.value},r.map[a.name]=a.value)}i.attributes=r}return i.value=n.value,i.shortEnded=n.shortEnded,i},t.prototype.wrap=function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},t.prototype.unwrap=function(){for(var t=this,e=t.firstChild;e;){var n=e.next;t.insert(e,t,!0),e=n}t.remove()},t.prototype.remove=function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):i.next=n,e.lastChild===t?(e.lastChild=i,i&&(i.next=null)):n.prev=i,t.parent=t.next=t.prev=null),t},t.prototype.append=function(t){var e=this;t.parent&&t.remove();var n=e.lastChild;return n?(n.next=t,t.prev=n,e.lastChild=t):e.lastChild=e.firstChild=t,t.parent=e,t},t.prototype.insert=function(t,e,n){t.parent&&t.remove();var i=e.parent||this;return n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},t.prototype.getAll=function(t){for(var e=this,n=[],i=e.firstChild;i;i=xb(i,e))i.name===t&&n.push(i);return n},t.prototype.empty=function(){var t=this;if(t.firstChild){for(var e=[],n=t.firstChild;n;n=xb(n,t))e.push(n);for(var i=e.length;i--;){var n=e[i];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return t.firstChild=t.lastChild=null,t},t.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var i=this,r=i.firstChild;if(kb(i))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(t[r.name])return!1;if(kb(r))return!1}if(8===r.type)return!1;if(3===r.type&&!_b(r))return!1;if(3===r.type&&r.parent&&e[r.parent.name]&&Rs(r.value))return!1;if(n&&n(r))return!1}while(r=xb(r,i));return!0},t.prototype.walk=function(t){return xb(this,null,t)},t}(),Tb=_n.makeMap,Sb=function(t){var e=[];t=t||{};var n=t.indent,i=Tb(t.indent_before||""),r=Tb(t.indent_after||""),o=va.getEncodeFunc(t.entity_encoding||"raw",t.entities),s="html"===t.element_format;return{start:function(t,a,l){var u,c,d,f;if(n&&i[t]&&e.length>0&&(f=e[e.length-1],f.length>0&&"\n"!==f&&e.push("\n")),e.push("<",t),a)for(u=0,c=a.length;u<c;u++)d=a[u],e.push(" ",d.name,'="',o(d.value,!0),'"');e[e.length]=!l||s?">":" />",l&&n&&r[t]&&e.length>0&&(f=e[e.length-1],f.length>0&&"\n"!==f&&e.push("\n"))},end:function(t){var i;e.push("</",t,">"),n&&r[t]&&e.length>0&&(i=e[e.length-1],i.length>0&&"\n"!==i&&e.push("\n"))},text:function(t,n){t.length>0&&(e[e.length]=n?t:o(t))},cdata:function(t){e.push("<![CDATA[",t,"]]>")},comment:function(t){e.push("\x3c!--",t,"--\x3e")},pi:function(t,i){i?e.push("<?",t," ",o(i),"?>"):e.push("<?",t,"?>"),n&&e.push("\n")},doctype:function(t){e.push("<!DOCTYPE",t,">",n?"\n":"")},reset:function(){e.length=0},getContent:function(){return e.join("").replace(/\n$/,"")}}},Db=function(t,e){void 0===e&&(e=a());var n=Sb(t);return t=t||{},t.validate=!("validate"in t)||t.validate,{serialize:function(i){var r=t.validate,o={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)do{s(t)}while(t=t.next)}};n.reset();var s=function t(i){var s,a,l,u,c,d,f,h,p,m=o[i.type];if(m)m(i);else{if(s=i.name,a=i.shortEnded,l=i.attributes,r&&l&&l.length>1&&(d=[],d.map={},p=e.getElementRule(i.name))){for(f=0,h=p.attributesOrder.length;f<h;f++)(u=p.attributesOrder[f])in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(f=0,h=l.length;f<h;f++)(u=l[f].name)in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(n.start(i.name,l,a),!a){if(i=i.firstChild)do{t(i)}while(i=i.next);n.end(s)}}};return 1!==i.type||t.inner?o[11](i):s(i),n.getContent()}}},Eb=function(t){for(var e,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,i=[],r={},o=tc("img"),s=0,a=0;e=n.exec(t);){var l=e[0],u=o+"_"+a++;r[u]=l,s<e.index&&i.push(t.substr(s,e.index-s)),i.push(u),s=e.index+l.length}return 0===s?{prefix:o,uris:r,html:t}:(s<t.length&&i.push(t.substr(s)),{prefix:o,uris:r,html:i.join("")})},Nb=function(t,e){return t.replace(new RegExp(e.prefix+"_[0-9]+","g"),function(t){return ae(e.uris,t).getOr(t)})},Mb=function(t){var e=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(t);return e?lt.some({type:e[1],data:decodeURIComponent(e[2])}):lt.none()},Ab=function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")},jb=function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))},Pb=function(t,e,n){var i,r,o=1,s=t.getShortEndedElements(),a=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(a.lastIndex=i=n;r=a.exec(e);){if(i=a.lastIndex,"/"===r[1])o--;else if(!r[1]){if(r[2]in s)continue;o++}if(0===o)break}return i},Ib=function(t,e){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(e))},Ob=function(t,e,n){void 0===n&&(n=0);var i=t.toLowerCase();if(-1!==i.indexOf("[if ",n)&&Ib(i,n)){var r=i.indexOf("[endif]",n);return i.indexOf(">",r)}if(e){var o=i.indexOf(">",n);return-1!==o?o:i.length}var s=/--!?>/;s.lastIndex=n;var a=s.exec(t);return a?a.index+a[0].length:i.length},Rb=function(t,e){var n=t.exec(e);if(n){var i=n[1],r=n[2];return"string"==typeof i&&"data-mce-bogus"===i.toLowerCase()?r:null}return null};!function(t){t.findEndTag=Pb}(N||(N={}));var Bb=N,Lb=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")},zb=function(t,e){var n,i,r,o,s=e,a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,l=t.schema;s=Lb(t.getTempAttrs(),s);for(var u=l.getShortEndedElements();o=a.exec(s);)i=a.lastIndex,r=o[0].length,n=u[o[1]]?i:Bb.findEndTag(l,s,i),s=s.substring(0,i-r)+s.substring(n),a.lastIndex=i-r;return is(s)},Fb=zb,Hb=function(t,e){var n=Ld(t),i=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(i,"")},Wb=function(t,e,n,i){var r;if(e.format=n,e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)r=_n.trim(Fb(t.serializer,i.innerHTML));else if("text"===e.format)r=is(i.innerText||i.textContent);else{if("tree"===e.format)return t.serializer.serialize(i,e);r=Hb(t,t.serializer.serialize(i,e))}return"text"===e.format||Jo(En.fromDom(i))?e.content=r:e.content=_n.trim(r),e.no_events||t.fire("GetContent",e),e.content},Ub=function(t,e,n){return lt.from(t.getBody()).fold(Q("tree"===e.format?new Cb("body",11):""),function(i){return Wb(t,e,n,i)})},Vb=_n.each,$b=function(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;var i=function(e){var n={};return Vb(t.getAttribs(e),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=t.getAttrib(e,r))}),n},r=function(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(void 0===(n=e[i]))return!1;if(t[i]!==n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0};return!!r(i(e),i(n))&&(!!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))&&(!Ep(e)&&!Ep(n)))}},qb=function(t,e,n){return lt.from(n.container()).filter(tr).exists(function(i){var r=t?0:-1;return e(i.data.charAt(n.offset()+r))})},Xb=e(qb,!0,Mp),Yb=e(qb,!1,Mp),Kb=function(t){var e=t.container();return tr(e)&&(0===e.data.length||ns(e.data)&&Rm.isBookmarkNode(e.parentNode))},Gb=function(t,e){return function(n){return lt.from(yh(t?0:-1,n)).filter(e).isSome()}},Jb=function(t){return or(t)&&"block"===xr(En.fromDom(t),"display")},Qb=function(t){return ar(t)&&!Gi(t)},Zb=Gb(!0,Jb),ty=Gb(!1,Jb),ey=Gb(!0,ur),ny=Gb(!1,ur),iy=Gb(!0,Ji),ry=Gb(!1,Ji),oy=Gb(!0,Qb),sy=Gb(!1,Qb),ay=function(t){for(var e=[],n=t.dom;n;)e.push(En.fromDom(n)),n=n.lastChild;return e},ly=function(t){var e=Wu(t,"br"),n=It(ay(t).slice(-1),$o);e.length===n.length&&At(n,Ei)},uy=function(t){Di(t),ki(t,En.fromHtml('<br data-mce-bogus="1">'))},cy=function(t){li(t).each(function(e){ei(e).each(function(n){Wo(t)&&$o(e)&&Wo(n)&&Ei(e)})})},dy=function(t){return t.slice(0,-1)},fy=function(t,e,n){return zn(e,t)?dy(Zn(t,function(t){return n(t)||Rn(t,e)})):[]},hy=function(t,e){return fy(t,e,nt)},py=function(t,e){return[t].concat(hy(t,e))},my=function(t,e,n){return tp(t,e,n,Kb)},gy=function(t,e){return Lt(py(En.fromDom(e.container()),t),Wo)},vy=function(t,e,n){return my(t,e.dom,n).forall(function(t){return gy(e,n).fold(function(){return!1===bh(t,n,e.dom)},function(i){return!1===bh(t,n,e.dom)&&zn(i,En.fromDom(t.container()))})})},by=function(t,e,n){return gy(e,n).fold(function(){return my(t,e.dom,n).forall(function(t){return!1===bh(t,n,e.dom)})},function(e){return my(t,e.dom,n).isNone()})},yy=e(by,!1),wy=e(by,!0),xy=e(vy,!1),_y=e(vy,!0),ky=function(t){return Eh(t).exists($o)},Cy=function(t,e,n){var i=It(py(En.fromDom(n.container()),e),Wo),r=Xt(i).getOr(e);return Qh(t,r.dom,n).filter(ky)},Ty=function(t,e){return Eh(e).exists($o)||Cy(!0,t,e).isSome()},Sy=function(t,e){return Nh(e).exists($o)||Cy(!1,t,e).isSome()},Dy=e(Cy,!1),Ey=e(Cy,!0),Ny=function(t){return S.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},My=function(t,e){var n=It(py(En.fromDom(e.container()),t),Wo);return Xt(n).getOr(t)},Ay=function(t,e){return Ny(e)?Yb(e):Yb(e)||ip(My(t,e).dom,e).exists(Yb)},jy=function(t,e){return Ny(e)?Xb(e):Xb(e)||np(My(t,e).dom,e).exists(Xb)},Py=function(t){return Et(["pre","pre-wrap"],t)},Iy=function(t){return Eh(t).bind(function(t){return bo(t,Vn)}).exists(function(t){return Py(xr(t,"white-space"))})},Oy=function(t,e){return ip(t.dom,e).isNone()},Ry=function(t,e){return np(t.dom,e).isNone()},By=function(t,e){return Oy(t,e)||Ry(t,e)||yy(t,e)||wy(t,e)||Sy(t,e)||Ty(t,e)},Ly=function(t,e){return!Iy(e)&&(By(t,e)||Ay(t,e)||jy(t,e))},zy=function(t,e){return!Iy(e)&&(yy(t,e)||xy(t,e)||Sy(t,e)||Ay(t,e))},Fy=function(t){var e=t.container(),n=t.offset();return tr(e)&&n<e.data.length?S(e,n+1):t},Hy=function(t,e){return!Iy(e)&&(wy(t,e)||_y(t,e)||Ty(t,e)||jy(t,e))},Wy=function(t,e){return zy(t,e)||Hy(t,Fy(e))},Uy=function(t,e){return Np(t.charAt(e))},Vy=function(t){var e=t.container();return tr(e)&&je(e.data," ")},$y=function(t){var e=t.split("");return Mt(e,function(t,n){return Np(t)&&n>0&&n<e.length-1&&Ap(e[n-1])&&Ap(e[n+1])?" ":t}).join("")},qy=function(t,e){var n=e.data,i=S(e,0);return!(!Uy(n,0)||Wy(t,i))&&(e.data=" "+n.slice(1),!0)},Xy=function(t){var e=t.data,n=$y(e);return n!==e&&(t.data=n,!0)},Yy=function(t,e){var n=e.data,i=S(e,n.length-1);return!(!Uy(n,n.length-1)||Wy(t,i))&&(e.data=n.slice(0,-1)+" ",!0)},Ky=function(t,e){return lt.some(e).filter(Vy).bind(function(e){var n=e.container();return qy(t,n)||Xy(n)||Yy(t,n)?lt.some(e):lt.none()})},Gy=function(t){var e=En.fromDom(t.getBody());t.selection.isCollapsed()&&Ky(e,S.fromRangeStart(t.selection.getRng())).each(function(e){t.selection.setRng(e.toRange())})},Jy=function(t,e,n){return Rt(t,function(i,r){return Mp(r)||Np(r)?i.previousCharIsSpace||""===i.str&&e||i.str.length===t.length-1&&n?{previousCharIsSpace:!1,str:i.str+" "}:{previousCharIsSpace:!0,str:i.str+" "}:{previousCharIsSpace:!1,str:i.str+r}},{previousCharIsSpace:!1,str:""}).str},Qy=function(t,e,n){if(0!==n){var i=En.fromDom(t),r=vo(i,Wo).getOr(i),o=t.data.slice(e,e+n),s=e+n>=t.data.length&&Hy(r,Yc(t,t.data.length)),a=0===e&&zy(r,Yc(t,0));t.replaceData(e,n,Jy(o,a,s))}},Zy=function(t,e){var n=t.data.slice(e),i=n.length-Re(n).length;return Qy(t,e,i)},tw=function(t,e){var n=t.data.slice(0,e),i=n.length-Be(n).length;return Qy(t,e-i,i)},ew=function(t,e,n,i){void 0===i&&(i=!0);var r=Be(t.data).length,o=i?t:e,s=i?e:t;return i?o.appendData(s.data):o.insertData(0,s.data),Ei(En.fromDom(s)),n&&Zy(o,r),o},nw=function(t,e){var n=t.container(),i=t.offset();return!1===Yc.isTextPosition(t)&&n===e.parentNode&&i>Yc.before(e).offset()},iw=function(t,e){return nw(e,t)?Yc(e.container(),e.offset()-1):e},rw=function(t){return tr(t)?Yc(t,0):Yc.before(t)},ow=function(t){return tr(t)?Yc(t,t.data.length):Yc.after(t)},sw=function(t){return Es(t.previousSibling)?lt.some(ow(t.previousSibling)):t.previousSibling?op(t.previousSibling):lt.none()},aw=function(t){return Es(t.nextSibling)?lt.some(rw(t.nextSibling)):t.nextSibling?rp(t.nextSibling):lt.none()},lw=function(t,e){var n=Yc.before(e.previousSibling?e.previousSibling:e.parentNode);return ip(t,n).fold(function(){return np(t,Yc.after(e))},lt.some)},uw=function(t,e){return np(t,Yc.after(e)).fold(function(){return ip(t,Yc.before(e))},lt.some)},cw=function(t,e){return sw(e).orThunk(function(){return aw(e)}).orThunk(function(){return lw(t,e)})},dw=function(t,e){return aw(e).orThunk(function(){return sw(e)}).orThunk(function(){return uw(t,e)})},fw=function(t,e,n){return t?dw(e,n):cw(e,n)},hw=function(t,n,i){return fw(t,n,i).map(e(iw,i))},pw=function(t,e,n){n.fold(function(){t.focus()},function(n){t.selection.setRng(n.toRange(),e)})},mw=function(t){return function(e){return e.dom===t}},gw=function(t,e){return e&&le(t.schema.getBlockElements(),Fn(e))},vw=function(t){if($s(t)){var e=En.fromHtml('<br data-mce-bogus="1">');return Di(t),ki(t,e),lt.some(Yc.before(e.dom))}return lt.none()},bw=function(t,e,n){var i=ei(t).filter($n),r=ni(t).filter($n);return Ei(t),fc(i,r,e,function(t,e,i){var r=t.dom,o=e.dom,s=r.data.length;return ew(r,o,n),i.container()===o?Yc(r,s):i}).orThunk(function(){return n&&(i.each(function(t){return tw(t.dom,t.dom.length)}),r.each(function(t){return Zy(t.dom,0)})),e})},yw=function(t,e){return le(t.schema.getTextInlineElements(),Fn(e))},ww=function(t,n,i,r){void 0===r&&(r=!0);var o=hw(n,t.getBody(),i.dom),s=vo(i,e(gw,t),mw(t.getBody())),a=bw(i,o,yw(t,i));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):s.bind(vw).fold(function(){r&&pw(t,n,a)},function(e){r&&pw(t,n,lt.some(e))})},xw=function(t,e){return{start:t,end:e}},_w=function(t,e,n){return{rng:t,table:e,cells:n}},kw=mo.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),Cw=function(t){return function(e){return Rn(t,e)}},Tw=function(t,e){return xo(En.fromDom(t),"td,th",e)},Sw=function(t,e){return yo(t,"table",e)},Dw=function(t){return!Rn(t.start,t.end)},Ew=function(t,e){return Sw(t.start,e).bind(function(n){return Sw(t.end,e).bind(function(t){return hc(Rn(n,t),n)})})},Nw=function(t,e){return!Dw(t)&&Ew(t,e).exists(function(t){var e=t.dom.rows;return 1===e.length&&1===e[0].cells.length})},Mw=function(t){return Wu(t,"td,th")},Aw=function(t,e){var n=Tw(t.startContainer,e),i=Tw(t.endContainer,e);return dc(n,i,xw)},jw=function(t,e){return Sw(t.start,e).bind(function(e){return Yt(Mw(e)).map(function(e){return xw(t.start,e)})})},Pw=function(t,e){var n=Tw(e.startContainer,t),i=Tw(e.endContainer,t);return e.collapsed?lt.none():dc(n,i,xw).fold(function(){return n.fold(function(){return i.bind(function(e){return Sw(e,t).bind(function(t){return Xt(Mw(t)).map(function(t){return xw(t,e)})})})},function(e){return Sw(e,t).bind(function(t){return Yt(Mw(t)).map(function(t){return xw(e,t)})})})},function(e){return Iw(t,e)?lt.none():jw(e,t)})},Iw=function(t,e){return Ew(e,t).isSome()},Ow=function(t,e){return Ew(t,e).map(function(e){return _w(t,e,Mw(e))})},Rw=function(t,e,n){return t.filter(function(t){return Dw(t)&&Iw(n,t)}).orThunk(function(){return Pw(n,e)}).bind(function(t){return Ow(t,n)})},Bw=function(t,e){return zt(t,function(t){return Rn(t,e)})},Lw=function(t){return dc(Bw(t.cells,t.rng.start),Bw(t.cells,t.rng.end),function(e,n){return t.cells.slice(e,n+1)})},zw=function(t,e,n){return t.filter(function(t){return Nw(t,n)&&_m(t.start,e)}).map(function(t){return t.start})},Fw=function(t){return Lw(t).map(function(e){var n=t.cells;return e.length===n.length?kw.removeTable(t.table):kw.emptyCells(e)})},Hw=function(t,e){var n=Cw(t),i=Aw(e,n);return zw(i,e,n).map(function(t){return kw.deleteCellSelection(e,t)}).orThunk(function(){return Rw(i,e,n).bind(Fw)})},Ww=function t(e){return(Un(e)?ei(e):li(e)).bind(t).orThunk(function(){return lt.some(e)})},Uw=function(t,e){return At(e,uy),t.selection.setCursorLocation(e[0].dom,0),!0},Vw=function(t,e,n){e.deleteContents();var i=Ww(n).getOr(n),r=En.fromDom(t.dom.getParent(i.dom,t.dom.isBlock));if($s(r)&&(uy(r),t.selection.setCursorLocation(r.dom,0)),!Rn(n,r)){var o=Qn(r).is(n)?[]:ti(r);At(o.concat(oi(n)),function(t){Rn(t,r)||zn(t,r)||Ei(t)})}return!0},$w=function(t,e){return ww(t,!1,e),!0},qw=function(t,n,i){return Hw(n,i).map(function(n){return n.fold(e($w,t),e(Uw,t),e(Vw,t))})},Xw=function(t,e){return Zw(t,e)},Yw=function(t,e,n,i){return Jw(e,i).fold(function(){return qw(t,e,n)},function(e){return Xw(t,e)}).getOr(!1)},Kw=function(t,e){var n=En.fromDom(t.getBody()),i=t.selection.getRng(),r=vm(t);return 0!==r.length?Uw(t,r):Yw(t,n,i,e)},Gw=function(t,e){return Lt(py(e,t),Go)},Jw=function(t,e){return Lt(py(e,t),function(t){return"caption"===Fn(t)})},Qw=function(t,e,n,i,r){return Zh(n,t.getBody(),r).bind(function(t){return Gw(e,En.fromDom(t.getNode())).map(function(t){return!1===Rn(t,i)})})},Zw=function(t,e){return uy(e),t.selection.setCursorLocation(e.dom,0),lt.some(!0)},tx=function(t,e,n,i){return rp(t.dom).bind(function(r){return op(t.dom).map(function(t){return e?n.isEqual(r)&&i.isEqual(t):n.isEqual(t)&&i.isEqual(r)})}).getOr(!0)},ex=function(t,e){return Zw(t,e)},nx=function(t,e,n){return Jw(t,En.fromDom(n.getNode())).map(function(t){return!1===Rn(t,e)})},ix=function(t,e,n,i,r){return Zh(n,t.getBody(),r).bind(function(o){return tx(i,n,r,o)?ex(t,i):nx(e,i,o)}).or(lt.some(!0))},rx=function(t,e,n,i){var r=Yc.fromRangeStart(t.selection.getRng());return Gw(n,i).bind(function(i){return $s(i)?Zw(t,i):Qw(t,n,e,i,r)}).getOr(!1)},ox=function(t,e,n,i){var r=Yc.fromRangeStart(t.selection.getRng());return $s(i)?Zw(t,i):ix(t,n,e,i,r)},sx=function(t,e){return t?iy(e):ry(e)},ax=function(t,e){var n=Yc.fromRangeStart(t.selection.getRng());return sx(e,n)||Qh(e,t.getBody(),n).exists(function(t){return sx(e,t)})},lx=function(t,e,n){var i=En.fromDom(t.getBody());return Jw(i,n).fold(function(){return rx(t,e,i,n)||ax(t,e)},function(n){return ox(t,e,i,n).getOr(!1)})},ux=function(t,e){var n=En.fromDom(t.selection.getStart(!0)),i=vm(t);return t.selection.isCollapsed()&&0===i.length?lx(t,e,n):Kw(t,n)},cx=function(t,e,n,i){var r=document.createRange();return r.setStart(t,e),r.setEnd(n,i),r},dx=function(t){var e=Yc.fromRangeStart(t),n=Yc.fromRangeEnd(t),i=t.commonAncestorContainer;return Qh(!1,i,n).map(function(r){return!bh(e,n,i)&&bh(e,r,i)?cx(e.container(),e.offset(),r.container(),r.offset()):t}).getOr(t)},fx=function(t){return t.collapsed?t:dx(t)},hx=function(t){return t.firstChild&&t.firstChild===t.lastChild},px=function(t){return"br"===t.name||" "===t.value},mx=function(t,e){return t.getBlockElements()[e.name]&&hx(e)&&px(e.firstChild)},gx=function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||mx(t,e))},vx=function(t,e){var n=e.firstChild,i=e.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),gx(t,i)&&(i=i.prev),!(!n||n!==i)&&("ul"===n.name||"ol"===n.name)},bx=function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t},yx=function(t,e,n){var i=e.serialize(n),r=t.createFragment(i);return bx(r)},wx=function(t){return _n.grep(t.childNodes,function(t){return"LI"===t.nodeName})},xx=function(t){return" "===t.data||rr(t)},_x=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&xx(t.firstChild)},kx=function(t){return!t.firstChild||_x(t)},Cx=function(t){return t.length>0&&kx(t[t.length-1])?t.slice(0,-1):t},Tx=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},Sx=function(t,e){return!!Tx(t,e)},Dx=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]},Ex=function(t,e){var n=Yc.before(t),i=Vh(e),r=i.next(n);return r?r.toRange():null},Nx=function(t,e){var n=Yc.after(t),i=Vh(e),r=i.prev(n);return r?r.toRange():null},Mx=function(t,e,n,i){var r=Dx(t,i),o=t.parentNode;return o.insertBefore(r[0],t),_n.each(e,function(e){o.insertBefore(e,t)}),o.insertBefore(r[1],t),o.removeChild(t),Nx(e[e.length-1],n)},Ax=function(t,e,n){var i=t.parentNode;return _n.each(e,function(e){i.insertBefore(e,t)}),Ex(t,n)},jx=function(t,e,n,i){return i.insertAfter(e.reverse(),t),Nx(e[0],n)},Px=function(t,e,n,i){var r=yx(e,t,i),o=Tx(e,n.startContainer),s=Cx(wx(r.firstChild)),a=e.getRoot(),l=function(t){var i=Yc.fromRangeStart(n),r=Vh(e.getRoot()),s=1===t?r.prev(i):r.next(i);return!s||Tx(e,s.getNode())!==o};return l(1)?Ax(o,s,a):l(2)?jx(o,s,a,e):Mx(o,s,a,n)},Ix=function(t,e,n){var i=En.fromDom(t.getRoot());return n=zy(i,Yc.fromRangeStart(e))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),n=Hy(i,Yc.fromRangeEnd(e))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")},Ox=lr,Rx=function(t,e,n){if(null!==n){return n===t.getParent(e.endContainer,Ox)&&_m(En.fromDom(n),e)}return!1},Bx=function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?t.dom.setHTML(n,e):t.selection.setContent(e)}},Lx=function(t,e){lt.from(t.getParent(e,"td,th")).map(En.fromDom).each(cy)},zx=function(t,e){var n=t.schema.getTextInlineElements(),i=t.dom;if(e){var r=t.getBody(),o=new $b(i);_n.each(i.select("*[data-mce-fragment]"),function(t){for(var e=t.parentNode;e&&e!==r;e=e.parentNode)n[t.nodeName.toLowerCase()]&&o.compare(e,t)&&i.remove(t,!0)})}},Fx=function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")},Hx=function(t){_n.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},Wx=function(t){return!!t.getAttribute("data-mce-fragment")},Ux=function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]},Vx=function(t,e){var n,i,r=t.dom,o=t.selection;if(e){o.scrollIntoView(e);var s=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===r.getContentEditable(e))return e;return null}(e);if(s)return r.remove(e),void o.select(s);var a=r.createRng(),l=e.previousSibling;l&&3===l.nodeType?(a.setStart(l,l.nodeValue.length),un.ie||(i=e.nextSibling)&&3===i.nodeType&&(l.appendData(i.data),i.parentNode.removeChild(i))):(a.setStartBefore(e),a.setEndBefore(e));var u=r.getParent(e,r.isBlock);r.remove(e),u&&r.isEmpty(u)&&(t.$(u).empty(),a.setStart(u,0),a.setEnd(u,0),Ox(u)||Wx(u)||!(n=function(e){var n=Yc.fromRangeStart(e);if(n=Vh(t.getBody()).next(n))return n.toRange()}(a))?r.add(u,r.create("br",{"data-mce-bogus":"1"})):(a=n,r.remove(u))),o.setRng(a)}},$x=function(t){var e=t.dom,n=fx(t.selection.getRng());t.selection.setRng(n);var i=e.getParent(n.startContainer,Ox);Rx(e,n,i)?Vw(t,n,En.fromDom(i)):t.getDoc().execCommand("Delete",!1,null)},qx=function(t,e,n){var i,r,o,s,a,l,u=t.selection,c=t.dom;/^ | $/.test(e)&&(e=Ix(c,u.getRng(),e));var d=t.parser,f=n.merge,h=Db({validate:bf(t)},t.schema),p='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(o={content:e,format:"html",selection:!0,paste:n.paste},o=t.fire("BeforeSetContent",o),o.isDefaultPrevented())return void t.fire("SetContent",{content:o.content,format:"html",selection:!0,paste:n.paste});e=o.content,-1===e.indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,p),a=u.getRng();var m=a.startContainer||(a.parentElement?a.parentElement():null),g=t.getBody();m===g&&u.isCollapsed()&&c.isBlock(g.firstChild)&&Ux(t,g.firstChild)&&c.isEmpty(g.firstChild)&&(a=c.createRng(),a.setStart(g.firstChild,0),a.setEnd(g.firstChild,0),u.setRng(a)),u.isCollapsed()||$x(t),i=u.getNode();var v={context:i.nodeName.toLowerCase(),data:n.data,insert:!0},b=d.parse(e,v);if(!0===n.paste&&vx(t.schema,b)&&Sx(c,i))return a=Px(h,c,u.getRng(),b),u.setRng(a),void t.fire("SetContent",o);if(Fx(b),l=b.lastChild,"mce_marker"===l.attr("id"))for(s=l,l=l.prev;l;l=l.walk(!0))if(3===l.type||!c.isBlock(l.name)){t.schema.isValidChild(l.parent.name,"span")&&l.parent.insert(s,l,"br"===l.name);break}if(t._selectionOverrides.showBlockCaretContainer(i),v.invalid){for(t.selection.setContent(p),i=u.getNode(),r=t.getBody(),9===i.nodeType?i=l=r:l=i;l!==r;)i=l,l=l.parentNode;e=i===r?r.innerHTML:c.getOuterHTML(i),e=h.serialize(d.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return h.serialize(b)}))),i===r?c.setHTML(r,e):c.setOuterHTML(i,e)}else e=h.serialize(b),Bx(t,e,i);zx(t,f),Vx(t,c.get("mce_marker")),Hx(t.getBody()),Lx(c,u.getStart()),t.fire("SetContent",o),t.addVisual()},Xx=function t(e,n){n(e),e.firstChild&&t(e.firstChild,n),e.next&&t(e.next,n)},Yx=function(t,e,n){var i={},r={},o=[];n.firstChild&&Xx(n.firstChild,function(n){At(t,function(t){t.name===n.name&&(i[t.name]?i[t.name].nodes.push(n):i[t.name]={filter:t,nodes:[n]})}),At(e,function(t){"string"==typeof n.attr(t.name)&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})})});for(var s in i)i.hasOwnProperty(s)&&o.push(i[s]);for(var a in r)r.hasOwnProperty(a)&&o.push(r[a]);return o},Kx=function(t,e,n){var i=Yx(t,e,n);At(i,function(t){At(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})},Gx=function(t){return t instanceof Cb},Jx=function(t){ab(t)&&rp(t.getBody()).each(function(e){var n=e.getNode(),i=Ji(n)?rp(n).getOr(e):e;t.selection.setRng(i.toRange())})},Qx=function(t,e){t.dom.setHTML(t.getBody(),e),Jx(t)},Zx=function(t,e,n,i){var r,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+o+"</li>"),r=Ld(t),r&&t.schema.isValidChild(e.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=t.dom.createHTML(r,zd(t),n)):n||(n='<br data-mce-bogus="1">'),Qx(t,n),t.fire("SetContent",i)):("raw"!==i.format&&(n=Db({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),i.content=Jo(En.fromDom(e))?n:_n.trim(n),Qx(t,i.content),i.no_events||t.fire("SetContent",i)),i.content},t_=function(t,e,n,i){Kx(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var r=Db({validate:t.validate},t.schema).serialize(n);return i.content=Jo(En.fromDom(e))?r:_n.trim(r),Qx(t,i.content),i.no_events||t.fire("SetContent",i),n},e_=function(t,e,n){return n.format=n.format?n.format:"html",n.set=!0,n.content=Gx(e)?"":e,Gx(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),lt.from(t.getBody()).fold(Q(e),function(i){return Gx(e)?t_(t,i,e,n):Zx(t,i,e,n)})},n_=Hp,i_=function(t,e,n){var i=t.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&t.dom.is(e,i[r].selector))return!0;return!1},r_=function(t,e,n,i){var r=t.dom.getRoot();return e!==r&&(e=t.dom.getParent(e,function(e){return!!i_(t,e,n)||(e.parentNode===r||!!a_(t,e,n,i,!0))}),a_(t,e,n,i))},o_=function(t,e,n){return!!n_(e,n.inline)||(!!n_(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0))},s_=function(t,e,n,i,r,o){var s,a,l,u=n[i];if(n.onmatch)return n.onmatch(e,n,i);if(u)if(void 0===u.length){for(s in u)if(u.hasOwnProperty(s)){if(a="attributes"===i?t.getAttrib(e,s):Up(t,e,s),r&&!a&&!n.exact)return;if((!r||n.exact)&&!n_(a,Wp(t,Fp(u[s],o),s)))return}}else for(l=0;l<u.length;l++)if("attributes"===i?t.getAttrib(e,u[l]):Up(t,e,u[l]))return n;return n},a_=function(t,e,n,i,r){var o,s,a,l,u=t.formatter.get(n),c=t.dom;if(u&&e)for(s=0;s<u.length;s++)if(o=u[s],o_(t.dom,e,o)&&s_(c,e,o,"attributes",r,i)&&s_(c,e,o,"styles",r,i)){if(l=o.classes)for(a=0;a<l.length;a++)if(!t.dom.hasClass(e,l[a]))return;return o}},l_=function(t,e,n,i){if(i)return r_(t,i,e,n);if(i=t.selection.getNode(),r_(t,i,e,n))return!0;var r=t.selection.getStart();return!(r===i||!r_(t,r,e,n))},u_=function(t,e,n){var i=[],r={},o=t.selection.getStart();return t.dom.getParent(o,function(o){for(var s=0;s<e.length;s++){var a=e[s];!r[a]&&a_(t,o,a,n)&&(r[a]=!0,i.push(a))}},t.dom.getRoot()),i},c_=function(t,e){var n,i,r,o,s,a=t.formatter.get(e),l=t.dom;if(a)for(n=t.selection.getStart(),i=$p(l,n),o=a.length-1;o>=0;o--){if(!(s=a[o].selector)||a[o].defaultBlock)return!0;for(r=i.length-1;r>=0;r--)if(l.is(i[r],s))return!0}return!1},d_=function(t,e,n){return Rt(n,function(n,i){var r=qp(t,i);return t.formatter.matchNode(e,i,{},r)?n.concat([i]):n},[])},f_=function(t,e){return t.importNode(e,!0)},h_=function(t){for(var e=[];t;){if(3===t.nodeType&&"\ufeff"!==t.nodeValue||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e},p_=function(t){return h_(t).length>0},m_=function(t){if(t){var e=new Ao(t,t);for(t=e.current();t;t=e.next())if(tr(t))return t}return null},g_=function(t){var e=En.fromTag("span");return hr(e,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&ki(e,En.fromText("\ufeff")),e},v_=function(t){var e=m_(t);return e&&"\ufeff"===e.nodeValue.charAt(0)&&e.deleteData(0,1),e},b_=function(t,e,n){void 0===n&&(n=!0);var i=t.dom,r=t.selection;if(p_(e))ww(t,!1,En.fromDom(e),n);else{var o=r.getRng(),s=i.getParent(e,i.isBlock),a=o.startContainer,l=o.startOffset,u=o.endContainer,c=o.endOffset,d=v_(e);i.remove(e,!0),a===d&&l>0&&o.setStart(d,l-1),u===d&&c>0&&o.setEnd(d,c-1),s&&i.isEmpty(s)&&uy(En.fromDom(s)),r.setRng(o)}},y_=function(t,e,n){void 0===n&&(n=!0);var i=t.dom,r=t.selection;if(e)b_(t,e,n);else if(!(e=ap(t.getBody(),r.getStart())))for(;e=i.get("_mce_caret");)b_(t,e,!1)},w_=function(t,n,i){var r=t.dom,o=r.getParent(i,e(Rp,t));o&&r.isEmpty(o)?i.parentNode.replaceChild(n,i):(ly(En.fromDom(i)),r.isEmpty(i)?i.parentNode.replaceChild(n,i):r.insertAfter(n,i))},x_=function(t,e){return t.appendChild(e),e},__=function(t,e){var n=Ot(t,function(t,e){return x_(t,e.cloneNode(!1))},e);return x_(n,n.ownerDocument.createTextNode("\ufeff"))},k_=function(t,e,n,i,r,o){var s=t.formatter,a=t.dom,l=It(Gt(s.get()),function(t){return t!==i&&!je(t,"removeformat")}),u=d_(t,n,l);if(It(u,function(e){return!Xp(t,e,i)}).length>0){var c=n.cloneNode(!1);return a.add(e,c),s.remove(i,r,c,o),a.remove(c),lt.some(c)}return lt.none()},C_=function(t,e,n){var i,r,o=t.selection,s=o.getRng(),a=s.startOffset,l=s.startContainer,u=l.nodeValue;(i=ap(t.getBody(),o.getStart()))&&(r=m_(i));var c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(u&&a>0&&a<u.length&&c.test(u.charAt(a))&&c.test(u.charAt(a-1))){var d=o.getBookmark();s.collapse(!0);var f=am(t,s,t.formatter.get(e));f=yg(f),t.formatter.apply(e,n,f),o.moveToBookmark(d)}else i&&"\ufeff"===r.nodeValue?t.formatter.apply(e,n,i):(i=f_(t.getDoc(),g_(!0).dom),r=i.firstChild,s.insertNode(i),a=1,t.formatter.apply(e,n,i)),o.setCursorLocation(r,a)},T_=function(t,e,n,i){var r,o,s,a=t.dom,l=t.selection,u=[],c=l.getRng(),d=c.startContainer,f=c.startOffset;for(o=d,3===d.nodeType&&(f!==d.nodeValue.length&&(r=!0),o=o.parentNode);o;){if(a_(t,o,e,n,i)){s=o;break}o.nextSibling&&(r=!0),u.push(o),o=o.parentNode}if(s)if(r){var h=l.getBookmark();c.collapse(!0);var p=am(t,c,t.formatter.get(e),!0);p=yg(p),t.formatter.remove(e,n,p,i),l.moveToBookmark(h)}else{var m=ap(t.getBody(),s),g=g_(!1).dom;w_(t,g,null!==m?m:s);var v=k_(t,g,s,e,n,i),b=__(u.concat(v.toArray()),g);b_(t,m,!1),l.setCursorLocation(b,1),a.isEmpty(s)&&a.remove(s)}},S_=function(t,e){var n=t.selection,i=t.getBody();y_(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||"\ufeff"!==n.getStart().innerHTML||y_(t,ap(i,n.getStart())),37!==e&&39!==e||y_(t,ap(i,n.getStart()))},D_=function(t){t.on("mouseup keydown",function(e){S_(t,e.keyCode)})},E_=function(t,e){var n=g_(!1),i=__(e,n.dom);return wi(En.fromDom(t),n),Ei(En.fromDom(t)),Yc(i,0)},N_=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(Fn(e))&&!sp(e.dom)&&!Ki(e.dom)},M_=function(t){return sp(t.dom)&&p_(t.dom)},A_={},j_=pe,P_=fe,I_=function(t,e){P_(A_[t],function(t){t(e)})};!function(t,e){A_[t]||(A_[t]=[]),A_[t].push(e)}("pre",function(t){var e,n=t.selection.getRng(),i=function(t){return o(t.previousSibling)&&-1!==me(e,t.previousSibling)},r=function(t,e){tu(e).remove(),tu(t).append("<br><br>").append(e.childNodes)},o=qi(["pre"]);n.collapsed||(e=t.selection.getSelectedBlocks(),P_(j_(j_(e,o),i),function(t){r(t.previousSibling,t)}))});var O_,R_=_n.each,B_=function(t){return $i(t)&&!Ep(t)&&!sp(t)&&!Ki(t)},L_=function(t,e){var n;for(n=t;n;n=n[e]){if(tr(n)&&0!==n.nodeValue.length)return t;if($i(n)&&!Ep(n))return n}return t},z_=function(t,e,n){var i,r,o=new $b(t);if(e&&n&&(e=L_(e,"previousSibling"),n=L_(n,"nextSibling"),o.compare(e,n))){for(i=e.nextSibling;i&&i!==n;)r=i,i=i.nextSibling,e.appendChild(r);return t.remove(n),_n.each(_n.grep(n.childNodes),function(t){e.appendChild(t)}),e}return n},F_=function(t,e,n,i){if(i&&!1!==e.merge_siblings){var r=z_(t,Op(i),i);z_(t,r,Op(r,!0))}},H_=function(t,e,n){if(e.clear_child_styles){var i=e.links?"*:not(a)":"*";R_(t.select(i,n),function(n){B_(n)&&R_(e.styles,function(e,i){t.setStyle(n,i,"")})})}},W_=function t(e,n,i){R_(e.childNodes,function(e){B_(e)&&(n(e)&&i(e),e.hasChildNodes()&&t(e,n,i))})},U_=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},V_=function(t,e){return function(n){return!(!n||!Up(t,n,e))}},$_=function(t,e,n){return function(i){t.setStyle(i,e,n),""===i.getAttribute("style")&&i.removeAttribute("style"),U_(t,i)}},q_=mo.generate([{keep:[]},{rename:["name"]},{removed:[]}]),X_=/^(src|href|style)$/,Y_=_n.each,K_=Hp,G_=function(t){return/^(TR|TH|TD)$/.test(t.nodeName)},J_=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},Q_=function(t,e,n){var i,r;if(i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],$i(i)){var o=i.childNodes.length-1;!n&&r&&r--,i=i.childNodes[r>o?o:r]}return tr(i)&&n&&r>=i.nodeValue.length&&(i=new Ao(i,t.getBody()).next()||i),tr(i)&&!n&&0===r&&(i=new Ao(i,t.getBody()).prev()||i),i},Z_=function(t,e){var n=e?"firstChild":"lastChild";if(G_(t)&&t[n]){var i=t[n];return"TR"===t.nodeName?i[n]||i:i}return t},tk=function(t,e,n,i){var r=t.create(n,i);return e.parentNode.insertBefore(r,e),r.appendChild(e),r},ek=function(t,e,n,i,r){var o=En.fromDom(e),s=En.fromDom(t.create(i,r)),a=n?ri(o):ii(o);return Si(s,a),n?(wi(o,s),_i(s,o)):(xi(o,s),ki(s,o)),s.dom},nk=function(t,e,n){return!!K_(e,n.inline)||(!!K_(e,n.block)||(n.selector?$i(e)&&t.is(e,n.selector):void 0))},ik=function(t,e){return e.links&&"A"===t.nodeName},rk=function(t,e,n,i){return!(e=Op(e,n,i))||"BR"===e.nodeName||t.isBlock(e)},ok=function(t,e,n){var i,r=e.parentNode,o=t.dom,s=Ld(t);n.block&&(s?r===o.getRoot()&&(n.list_block&&K_(e,n.list_block)||At(Kt(e.childNodes),function(e){Bp(t,s,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=tk(o,e,s),o.setAttribs(i,t.settings.forced_root_block_attrs)):i=0})):o.isBlock(e)&&!o.isBlock(r)&&(rk(o,e,!1)||rk(o,e.firstChild,!0,!0)||e.insertBefore(o.create("br"),e.firstChild),rk(o,e,!0)||rk(o,e.lastChild,!1,!0)||e.appendChild(o.create("br")))),n.selector&&n.inline&&!K_(n.inline,e)||o.remove(e,!0)},sk=function(t,e,n,i,r){var o,s=t.dom;if(!nk(s,i,e)&&!ik(i,e))return q_.keep();var a=i;if(e.inline&&"all"===e.remove&&mt(e.preserve_attributes)){var l=It(s.getAttribs(a),function(t){return Et(e.preserve_attributes,t.name.toLowerCase())});if(s.removeAllAttribs(a),At(l,function(t){return s.setAttrib(a,t.name,t.value)}),l.length>0)return q_.rename("span")}if("all"!==e.remove){Y_(e.styles,function(t,i){t=Wp(s,Fp(t,n),i+""),_t(i)&&(i=t,r=null),(e.remove_similar||!r||K_(Up(s,r,i),t))&&s.setStyle(a,i,""),o=!0}),o&&""===s.getAttrib(a,"style")&&(a.removeAttribute("style"),a.removeAttribute("data-mce-style")),Y_(e.attributes,function(t,i){var o;if(t=Fp(t,n),_t(i)&&(i=t,r=null),e.remove_similar||!r||K_(s.getAttrib(r,i),t)){if("class"===i&&(t=s.getAttrib(a,i))&&(o="",At(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(o+=(o?" ":"")+t)}),o))return void s.setAttrib(a,i,o);"class"===i&&a.removeAttribute("className"),X_.test(i)&&a.removeAttribute("data-mce-"+i),a.removeAttribute(i)}}),Y_(e.classes,function(t){t=Fp(t,n),r&&!s.hasClass(r,t)||s.removeClass(a,t)});for(var u=s.getAttribs(a),c=0;c<u.length;c++){var d=u[c].nodeName;if(0!==d.indexOf("_")&&0!==d.indexOf("data-"))return q_.keep()}}return"none"!==e.remove?(ok(t,a,e),q_.removed()):q_.keep()},ak=function(t,e,n,i,r){return sk(t,e,n,i,r).fold(nt,function(e){return t.dom.rename(i,e),!0},it)},lk=function(t,e,n,i,r){var o;return At($p(t.dom,e.parentNode).reverse(),function(e){if(!o&&"_start"!==e.id&&"_end"!==e.id){var s=a_(t,e,n,i,r);s&&!1!==s.split&&(o=e)}}),o},uk=function(t,e,n,i){return sk(t,e,n,i,i).fold(Q(i),function(e){return t.dom.createFragment().appendChild(i),t.dom.rename(i,e)},Q(null))},ck=function(t,e,n,i,r,o,s,a){var l,u,c,d=t.dom;if(n){for(var f=n.parentNode,h=i.parentNode;h&&h!==f;h=h.parentNode){l=d.clone(h,!1);for(var p=0;p<e.length&&null!==(l=uk(t,e[p],a,l));p++);l&&(u&&l.appendChild(u),c||(c=l),u=l)}!o||s.mixed&&d.isBlock(n)||(i=d.split(n,i)),u&&(r.parentNode.insertBefore(u,r),c.appendChild(r),s.inline&&F_(d,s,0,u))}return i},dk=function(t,e,n,i,r){var o=t.formatter.get(e),s=o[0],a=!0,l=t.dom,u=t.selection,c=function(i){var a=lk(t,i,e,n,r);return ck(t,o,a,i,i,!0,s,n)},d=function(t){return Ep(t)&&$i(t)&&("_start"===t.id||"_end"===t.id)},f=function e(i){var r,u;$i(i)&&l.getContentEditable(i)&&(r=a,a="true"===l.getContentEditable(i),u=!0);var c=Kt(i.childNodes);if(a&&!u)for(var d=0;d<o.length&&!ak(t,o[d],n,i,i);d++);if(s.deep&&c.length){for(var d=0;d<c.length;d++)e(c[d]);u&&(a=r)}},h=function(t){var e=l.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return d(n)&&(n=n[t?"firstChild":"lastChild"]),tr(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),l.remove(e,!0),n},p=function(e){var n,i,r=am(t,e,o,!0);if(s.split){if(r=yg(r),n=Q_(t,r,!0),i=Q_(t,r),n!==i){if(n=Z_(n,!0),i=Z_(i,!1),J_(l,n,i)){var a=lt.from(n.firstChild).getOr(n);return c(ek(l,a,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(J_(l,i,n)){var a=lt.from(i.lastChild).getOr(i);return c(ek(l,a,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=tk(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=tk(l,i,"span",{id:"_end","data-mce-type":"bookmark"});var u=l.createRng();u.setStartAfter(n),u.setEndBefore(i),cm(l,u,function(t){At(t,function(t){Ep(t)||Ep(t.parentNode)||c(t)})}),c(n),c(i),n=h(!0),i=h()}else n=i=c(n);r.startContainer=n.parentNode?n.parentNode:n,r.startOffset=l.nodeIndex(n),r.endContainer=i.parentNode?i.parentNode:i,r.endOffset=l.nodeIndex(i)+1}cm(l,r,function(e){At(e,function(e){f(e),At(["underline","line-through","overline"],function(n){$i(e)&&t.dom.getStyle(e,"text-decoration")===n&&e.parentNode&&Vp(l,e.parentNode)===n&&ak(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,e)})})})};if(i)if(jp(i)){var m=l.createRng();m.setStartBefore(i),m.setEndAfter(i),p(m)}else p(i);else if("false"!==l.getContentEditable(u.getNode()))u.isCollapsed()&&s.inline&&!vm(t).length?T_(t,e,n,r):(Sm(u,!0,function(){Tm(t,p)}),s.inline&&l_(t,e,n,u.getStart())&&Ip(l,u,u.getRng()),t.nodeChanged());else{i=u.getNode();for(var g=0;g<o.length&&(!o[g].ceFalseOverride||!ak(t,o[g],n,i,i));g++);}},fk=_n.each,hk=function(t,e,n,i){var r=function(e){if(1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType){var n=Vp(t,e.parentNode);t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null)}};e.styles&&(e.styles.color||e.styles.textDecoration)&&(_n.walk(i,r,"childNodes"),r(i))},pk=function(t,e,n,i){e.styles&&e.styles.backgroundColor&&W_(i,V_(t,"fontSize"),$_(t,"backgroundColor",Fp(e.styles.backgroundColor,n)))},mk=function(t,e,n,i){"sub"!==e.inline&&"sup"!==e.inline||(W_(i,V_(t,"fontSize"),$_(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",i),!0))},gk=function(t,e,n,i){fk(e,function(e){fk(t.dom.select(e.inline,i),function(i){B_(i)&&ak(t,e,n,i,e.exact?i:null)}),H_(t.dom,e,i)})},vk=function(t,e,n,i,r){a_(t,r.parentNode,n,i)&&ak(t,e,i,r)||e.merge_with_parents&&t.dom.getParent(r.parentNode,function(o){if(a_(t,o,n,i))return ak(t,e,i,r),!0})},bk=_n.each,yk=function(t){return t&&1===t.nodeType&&!Ep(t)&&!sp(t)&&!Ki(t)},wk=function t(e,n,i,r){var o,s=e.formatter.get(n),a=s[0],l=!r&&e.selection.isCollapsed(),u=e.dom,c=e.selection,d=function(t,e){if(e=e||a,t){if(e.onformat&&e.onformat(t,e,i,r),bk(e.styles,function(e,n){u.setStyle(t,n,Fp(e,i))}),e.styles){var n=u.getAttrib(t,"style");n&&u.setAttrib(t,"data-mce-style",n)}bk(e.attributes,function(e,n){u.setAttrib(t,n,Fp(e,i))}),bk(e.classes,function(e){e=Fp(e,i),u.hasClass(t,e)||u.addClass(t,e)})}},f=function(t,e){var n=!1;return!!a.selector&&(bk(t,function(t){if(!("collapsed"in t&&t.collapsed!==l))return u.is(e,t.selector)&&!sp(e)?(d(e,t),n=!0,!1):void 0}),n)},h=function(t,r,o,l){var u=[],c=!0,h=a.inline||a.block,p=t.create(h);d(p),cm(t,r,function(r){var o;bk(r,function r(m){var g=!1,v=c,b=m.nodeName.toLowerCase(),y=m.parentNode.nodeName.toLowerCase();if($i(m)&&t.getContentEditable(m)&&(v=c,c="true"===t.getContentEditable(m),g=!0),Hp(b,"br"))return o=0,void(a.block&&t.remove(m));if(a.wrapper&&a_(e,m,n,i))return void(o=0);if(c&&!g&&a.block&&!a.wrapper&&Rp(e,b)&&Bp(e,y,h)){var w=t.rename(m,h);return d(w),u.push(w),void(o=0)}if(a.selector){var x=f(s,m);if(!a.inline||x)return void(o=0)}!c||g||!Bp(e,h,b)||!Bp(e,y,h)||!l&&3===m.nodeType&&1===m.nodeValue.length&&65279===m.nodeValue.charCodeAt(0)||sp(m)||a.inline&&t.isBlock(m)?(o=0,bk(_n.grep(m.childNodes),r),g&&(c=v),o=0):(o||(o=t.clone(p,!1),m.parentNode.insertBefore(o,m),u.push(o)),o.appendChild(m))})}),!0===a.links&&bk(u,function(t){!function t(e){"A"===e.nodeName&&d(e,a),bk(_n.grep(e.childNodes),t)}(t)}),bk(u,function(r){var o=function(t){var e=!1;return bk(t.childNodes,function(t){if(yk(t))return e=t,!1}),e},l=function(t){var e=0;return bk(t.childNodes,function(t){zp(t)||Ep(t)||e++}),e}(r);if((u.length>1||!t.isBlock(r))&&0===l)return void t.remove(r,!0);(a.inline||a.wrapper)&&(a.exact||1!==l||(r=function(e){var n,i=o(e);return i&&!Ep(i)&&o_(t,i,a)&&(n=t.clone(i,!1),d(n),t.replace(n,e,!0),t.remove(i,!0)),n||e}(r)),gk(e,s,i,r),vk(e,a,n,i,r),pk(t,a,i,r),hk(t,a,0,r),mk(t,a,0,r),F_(t,a,0,r))})};if("false"!==u.getContentEditable(c.getNode())){if(a){if(r)jp(r)?f(s,r)||(o=u.createRng(),o.setStartBefore(r),o.setEndAfter(r),h(u,am(e,o,s),0,!0)):h(u,r,0,!0);else if(l&&a.inline&&!vm(e).length)C_(e,n,i);else{var p=c.getNode();e.settings.forced_root_block||!s[0].defaultBlock||u.getParent(p,u.isBlock)||t(e,s[0].defaultBlock),c.setRng(fx(c.getRng())),Sm(c,!0,function(t){Tm(e,function(t,n){var i=n?t:am(e,t,s);h(u,i)})}),Ip(u,c,c.getRng()),e.nodeChanged()}I_(n,e)}}else{r=c.getNode();for(var m=0,g=s.length;m<g;m++)if(s[m].ceFalseOverride&&u.is(r,s[m].selector))return void d(r,s[m])}},xk=function(t,e,n,i){var r=t.formatter.get(e);!l_(t,e,n,i)||"toggle"in r[0]&&!r[0].toggle?wk(t,e,n,i):dk(t,e,n,i)},_k=function(t,e){var n=e||document,i=n.createDocumentFragment();return At(t,function(t){i.appendChild(t.dom)}),En.fromDom(i)},kk=function(t,e,n){return{element:t,width:e,rows:n}},Ck=function(t,e){return{element:t,cells:e}},Tk=function(t,e){return{x:t,y:e}},Sk=function(t,e){var n=parseInt(pr(t,e),10);return isNaN(n)?1:n},Dk=function(t,e,n,i,r){for(var o=Sk(r,"rowspan"),s=Sk(r,"colspan"),a=t.rows,l=n;l<n+o;l++){a[l]||(a[l]=Ck(ac(i),[]));for(var u=e;u<e+s;u++){a[l].cells[u]=l===n&&u===e?r:sc(r)}}},Ek=function(t,e,n){var i=t.rows;return!!(i[n]?i[n].cells:[])[e]},Nk=function(t,e,n){for(;Ek(t,e,n);)e++;return e},Mk=function(t){return Rt(t,function(t,e){return e.cells.length>t?e.cells.length:t},0)},Ak=function(t,e){for(var n=t.rows,i=0;i<n.length;i++)for(var r=n[i].cells,o=0;o<r.length;o++)if(Rn(r[o],e))return lt.some(Tk(o,i));return lt.none()},jk=function(t,e,n,i,r){for(var o=[],s=t.rows,a=n;a<=r;a++){var l=s[a].cells,u=e<i?l.slice(e,i+1):l.slice(i,e+1);o.push(Ck(s[a].element,u))}return o},Pk=function(t,e,n){var i=e.x,r=e.y,o=n.x,s=n.y,a=r<s?jk(t,i,r,o,s):jk(t,i,s,o,r);return kk(t.element,Mk(a),a)},Ik=function(t,e){var n=sc(t.element),i=En.fromTag("tbody");return Si(i,e),ki(n,i),n},Ok=function(t){return Mt(t.rows,function(t){var e=Mt(t.cells,function(t){var e=ac(t);return vr(e,"colspan"),vr(e,"rowspan"),e}),n=sc(t.element);return Si(n,e),n})},Rk=function(t){var e=kk(sc(t),0,[]);return At(Wu(t,"tr"),function(t,n){At(Wu(t,"td,th"),function(i,r){Dk(e,Nk(e,r,n),n,t,i)})}),kk(e.element,Mk(e.rows),e.rows)},Bk=function(t){return Ik(t,Ok(t))},Lk=function(t,e,n){return Ak(t,e).bind(function(e){return Ak(t,n).map(function(n){return Pk(t,e,n)})})},zk=function(t){return Lt(t,function(t){return"ul"===Fn(t)||"ol"===Fn(t)})},Fk=function(t,e){return Lt(t,function(t){return"li"===Fn(t)&&_m(t,e)}).fold(Q([]),function(e){return zk(t).map(function(t){var e=En.fromTag(Fn(t)),n=re(Cr(t),function(t,e){return Pe(e,"list-style")});return wr(e,n),[En.fromTag("li"),e]}).getOr([])})},Hk=function(t,e){var n=Rt(e,function(t,e){return ki(e,t),e},t);return e.length>0?_k([n]):n},Wk=function(t){return Yo(t)?Qn(t).filter(Xo).fold(Q([]),function(e){return[t,e]}):Xo(t)?[t]:[]},Uk=function(t,e){var n=En.fromDom(e.commonAncestorContainer),i=py(n,t),r=It(i,function(t){return Vo(t)||Ho(t)}),o=Fk(i,e),s=r.concat(o.length?o:Wk(n));return Mt(s,sc)},Vk=function(){return _k([])},$k=function(t,e){return Hk(En.fromDom(e.cloneContents()),Uk(t,e))},qk=function(t,n){return yo(n,"table",e(Rn,t))},Xk=function(t,e){return qk(t,e[0]).bind(function(t){var n=e[0],i=e[e.length-1],r=Rk(t);return Lk(r,n,i).map(function(t){return _k([Bk(t)])})}).getOrThunk(Vk)},Yk=function(t,e){return e.length>0&&e[0].collapsed?Vk():$k(t,e[0])},Kk=function(t,e){var n=gm(e,t);return n.length>0?Xk(t,n):Yk(t,e)},Gk=function(t){return t.replace(/^[ \f\n\r\t\v]+/,"")},Jk=function(t,e){return e>=0&&e<t.length&&Mp(t.charAt(e))},Qk=function(t){var e=is(t.innerText);return un.browser.isIE()?Gk(e):e},Zk=function(t){return lt.from(t.selection.getRng()).map(function(e){var n=t.dom.add(t.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),i=Qk(n),r=is(n.textContent);if(t.dom.remove(n),Jk(r,0)||Jk(r,r.length-1)){var o=t.dom.getParent(e.commonAncestorContainer,t.dom.isBlock),s=Qk(o),a=s.indexOf(i);if(-1!==a){var l=Jk(s,a-1),u=Jk(s,a+i.length);return(l?" ":"")+i+(u?" ":"")}return i}return i}).getOr("")},tC=function(t,e){var n=t.selection.getRng(),i=t.dom.create("body"),r=t.selection.getSel(),o=yb(t,dm(r)),s=e.contextual?Kk(En.fromDom(t.getBody()),o).dom:n.cloneContents();return s&&i.appendChild(s),t.selection.serializer.serialize(i,e)},eC=function(t,e,n){if(void 0===n&&(n={}),n.get=!0,n.format=e,n.selection=!0,n=t.fire("BeforeGetContent",n),n.isDefaultPrevented())return t.fire("GetContent",n),n.content;if("text"===n.format)return Zk(t);n.getInner=!0;var i=tC(t,n);return"tree"===n.format?i:(n.content=t.selection.isCollapsed()?"":i,t.fire("GetContent",n),n.content)},nC=function(t,e){var n=t.length+e.length+2,i=new Array(n),r=new Array(n),o=function(t,e,n){return{start:t,end:e,diag:n}},s=function(n,i,r,s){for(var a=n;a-i<s&&a<r&&t[a]===e[a-i];)++a;return o(n,a,i)},a=function(n,o,a,l){var u=o-n,c=l-a;if(0===u||0===c)return null;var d=u-c,f=c+u,h=(f%2==0?f:f+1)/2;i[1+h]=n,r[1+h]=o+1;var p,m,g,v,b;for(p=0;p<=h;++p){for(m=-p;m<=p;m+=2){for(g=m+h,m===-p||m!==p&&i[g-1]<i[g+1]?i[g]=i[g+1]:i[g]=i[g-1]+1,v=i[g],b=v-n+a-m;v<o&&b<l&&t[v]===e[b];)i[g]=++v,++b;if(d%2!=0&&d-p<=m&&m<=d+p&&r[g-d]<=i[g])return s(r[g-d],m+n-a,o,l)}for(m=d-p;m<=d+p;m+=2){for(g=m+h-d,m===d-p||m!==d+p&&r[g+1]<=r[g-1]?r[g]=r[g+1]-1:r[g]=r[g-1],v=r[g]-1,b=v-n+a-m;v>=n&&b>=a&&t[v]===e[b];)r[g]=v--,b--;if(d%2==0&&-p<=m&&m<=p&&r[g]<=i[g+d])return s(r[g],m+n-a,o,l)}}},l=[];return function n(i,r,o,s,l){var u=a(i,r,o,s);if(null===u||u.start===r&&u.diag===r-s||u.end===i&&u.diag===i-o)for(var c=i,d=o;c<r||d<s;)c<r&&d<s&&t[c]===e[d]?(l.push([0,t[c]]),++c,++d):r-i>s-o?(l.push([2,t[c]]),++c):(l.push([1,e[d]]),++d);else{n(i,u.start,o,u.start-u.diag,l);for(var f=u.start;f<u.end;++f)l.push([0,t[f]]);n(u.end,r,u.end-u.diag,s,l)}}(0,t.length,0,e.length,l),l},iC=function(t){return $i(t)?t.outerHTML:tr(t)?va.encodeRaw(t.data,!1):er(t)?"\x3c!--"+t.data+"--\x3e":""},rC=function(t){var e,n=document.createElement("div"),i=document.createDocumentFragment();for(t&&(n.innerHTML=t);e=n.firstChild;)i.appendChild(e);return i},oC=function(t,e,n){var i=rC(e);if(t.hasChildNodes()&&n<t.childNodes.length){var r=t.childNodes[n];r.parentNode.insertBefore(i,r)}else t.appendChild(i)},sC=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}},aC=function(t,e){var n=0;At(t,function(t){0===t[0]?n++:1===t[0]?(oC(e,t[1],n),n++):2===t[0]&&sC(e,n)})},lC=function(t){return It(Mt(Kt(t.childNodes),iC),function(t){return t.length>0})},uC=function(t,e){var n=Mt(Kt(e.childNodes),iC);return aC(nC(n,t),e),e},cC=hu(lt.none()),dC=function(){return cC.get().getOrThunk(function(){var t=document.implementation.createHTMLDocument("undo");return cC.set(lt.some(t)),t})},fC=function(t){return-1!==t.indexOf("</iframe>")},hC=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},pC=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},mC=function(t){var e=lC(t.getBody()),n=Ht(e,function(e){var n=zb(t.serializer,e);return n.length>0?[n]:[]}),i=n.join("");return fC(i)?hC(n):pC(i)},gC=function(t,e,n){"fragmented"===e.type?uC(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},vC=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},bC=function(t){var e=En.fromTag("body",dC());return rc(e,vC(t)),At(Wu(e,"*[data-mce-bogus]"),Ni),ic(e)},yC=function(t,e){return vC(t)===vC(e)},wC=function(t,e){return bC(t)===bC(e)},xC=function(t,e){return!(!t||!e)&&(!!yC(t,e)||wC(t,e))},_C=function(t){return 0===t.get()},kC=function(t,e,n){_C(n)&&(t.typing=e)},CC=function(t,e){t.typing&&(kC(t,!1,e),t.add())},TC=function(t){t.typing&&(t.typing=!1,t.add())},SC=function(t,e,n){_C(e)&&n.set(lt.some(Ed(t.selection)))},DC=function(t,e,n,i,r,o,s){var a=mC(t);if(o=o||{},o=_n.extend(o,a),!1===_C(i)||t.removed)return null;var l=e.data[n.get()];if(t.fire("BeforeAddUndo",{level:o,lastLevel:l,originalEvent:s}).isDefaultPrevented())return null;if(l&&xC(l,o))return null;e.data[n.get()]&&r.get().each(function(t){e.data[n.get()].beforeBookmark=t});var u=Af(t);if(u&&e.data.length>u){for(var c=0;c<e.data.length-1;c++)e.data[c]=e.data[c+1];e.data.length--,n.set(e.data.length)}o.bookmark=Ed(t.selection),n.get()<e.data.length-1&&(e.data.length=n.get()+1),e.data.push(o),n.set(e.data.length-1);var d={level:o,lastLevel:l,originalEvent:s};return n.get()>0?(t.setDirty(!0),t.fire("AddUndo",d),t.fire("change",d)):t.fire("AddUndo",d),o},EC=function(t,e,n){e.data=[],n.set(0),e.typing=!1,t.fire("ClearUndos")},NC=function(t,e,n,i,r){if(e.transact(i)){var o=e.data[n.get()].bookmark,s=e.data[n.get()-1];gC(t,s,!0),e.transact(r)&&(e.data[n.get()-1].beforeBookmark=o)}},MC=function(t,e,n){var i;return e.get()<n.length-1&&(e.set(e.get()+1),i=n[e.get()],gC(t,i,!1),t.setDirty(!0),t.fire("Redo",{level:i})),i},AC=function(t,e,n,i){var r;return e.typing&&(e.add(),e.typing=!1,kC(e,!1,n)),i.get()>0&&(i.set(i.get()-1),r=e.data[i.get()],gC(t,r,!0),t.setDirty(!0),t.fire("Undo",{level:r})),r},jC=function(t){t.clear(),t.add()},PC=function(t,e,n){return n.get()>0||e.typing&&e.data[0]&&!xC(mC(t),e.data[0])},IC=function(t,e){return e.get()<t.data.length-1&&!t.typing},OC=function(t,e,n){return CC(t,e),t.beforeChange(),t.ignore(n),t.add()},RC=function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}},BC=function(t){return t instanceof Cb},LC=function(t,e){Kx(t.serializer.getNodeFilters(),t.serializer.getAttributeFilters(),e)},zC=function(t){return lt.from(t.selection.getStart(!0)).map(function(t){return t.nodeName.toLowerCase()})},FC=function(){return{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},HC=function(t){return{undoManager:{beforeChange:function(e,n){return SC(t,e,n)},addUndoLevel:function(e,n,i,r,o,s){return DC(t,e,n,i,r,o,s)},undo:function(e,n,i){return AC(t,e,n,i)},redo:function(e,n){return MC(t,e,n)},clear:function(e,n){return EC(t,e,n)},reset:function(t){return jC(t)},hasUndo:function(e,n){return PC(t,e,n)},hasRedo:function(t,e){return IC(t,e)},transact:function(t,e,n){return OC(t,e,n)},ignore:function(t,e){return RC(t,e)},extra:function(e,n,i,r){return NC(t,e,n,i,r)}},formatter:{apply:function(e,n,i){return wk(t,e,n,i)},remove:function(e,n,i,r){return dk(t,e,n,i,r)},toggle:function(e,n,i){return xk(t,e,n,i)}},editor:{getContent:function(e,n){return Ub(t,e,n)},setContent:function(e,n){return e_(t,e,n)},insertContent:function(e,n){return qx(t,e,n)}},selection:{getContent:function(e,n){return eC(t,e,n)}},raw:{getModel:function(){return lt.none()}}}},WC=function(t,e){var n=function(t){return pt(t)?t:{}},i=et("Unimplemented feature for rtc");return{undoManager:{beforeChange:K,addUndoLevel:i,undo:function(){return e.undo(),FC()},redo:function(){return e.redo(),FC()},clear:i,reset:i,hasUndo:function(){return e.hasUndo()},hasRedo:function(){return e.hasRedo()},transact:function(t,n,i){return e.transact(i),FC()},ignore:i,extra:i},formatter:{apply:function(t,i,r){return e.applyFormat(t,n(i))},remove:function(t,i,r,o){return e.removeFormat(t,n(i))},toggle:function(t,i,r){return e.toggleFormat(t,n(i))}},editor:{getContent:function(n,i){if("html"===i||"tree"===i){var r=e.getContent(),o=Db({inner:!0});return LC(t,r),"tree"===i?r:o.serialize(r)}return HC(t).editor.getContent(n,i)},setContent:function(n,i){var r=BC(n)?n:t.parser.parse(n,{isRootContent:!0,insert:!0});return e.setContent(r),n},insertContent:function(n,i){var r=zC(t).fold(function(){return{}},function(t){return{context:t}}),o=BC(n)?n:t.parser.parse(n,ye(ye({},r),{insert:!0}));e.insertContent(o)}},selection:{getContent:function(n,i){if("html"===n||"tree"===n){var r=e.getSelectedContent(),o=Db({});return LC(t,r),"tree"===n?r:o.serialize(r)}return HC(t).selection.getContent(n,i)}},raw:{getModel:function(){return lt.some(e.getRawModel())}}}},UC=function(t){return le(t.plugins,"rtc")},VC=function(t){var e=t;return ae(t.plugins,"rtc").fold(function(){return e.rtcInstance=HC(t),lt.none()},function(n){return lt.some(n.setup().then(function(n){return e.rtcInstance=WC(t,n),n.isRemote}))})},$C=function(t){return t.rtcInstance?t.rtcInstance:HC(t)},qC=function(t){var e=t.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},XC=function(t,e,n){qC(t).undoManager.beforeChange(e,n)},YC=function(t,e,n,i,r,o,s){return qC(t).undoManager.addUndoLevel(e,n,i,r,o,s)},KC=function(t,e,n,i){return qC(t).undoManager.undo(e,n,i)},GC=function(t,e,n){return qC(t).undoManager.redo(e,n)},JC=function(t,e,n){qC(t).undoManager.clear(e,n)},QC=function(t,e){qC(t).undoManager.reset(e)},ZC=function(t,e,n){return qC(t).undoManager.hasUndo(e,n)},tT=function(t,e,n){return qC(t).undoManager.hasRedo(e,n)},eT=function(t,e,n,i){return qC(t).undoManager.transact(e,n,i)},nT=function(t,e,n){qC(t).undoManager.ignore(e,n)},iT=function(t,e,n,i,r){qC(t).undoManager.extra(e,n,i,r)},rT=function(t,e,n,i){qC(t).formatter.apply(e,n,i)},oT=function(t,e,n,i,r){qC(t).formatter.remove(e,n,i,r)},sT=function(t,e,n,i){qC(t).formatter.toggle(e,n,i)},aT=function(t,e,n){return $C(t).editor.getContent(e,n)},lT=function(t,e,n){return $C(t).editor.setContent(e,n)},uT=function(t,e,n){return $C(t).editor.insertContent(e,n)},cT=function(t,e,n){return qC(t).selection.getContent(e,n)},dT=function(t,e){void 0===e&&(e={});var n=e.format?e.format:"html";return cT(t,n,e)},fT=function(t){return 0===t.dom.length?(Ei(t),lt.none()):lt.some(t)},hT=function(t,e){return t.filter(function(t){return Rm.isBookmarkNode(t.dom)}).bind(e?ni:ei)},pT=function(t,e,n,i){var r=t.dom,o=e.dom,s=i?r.length:o.length;i?(ew(r,o,!1,!i),n.setStart(o,s)):(ew(o,r,!1,!i),n.setEnd(o,s))},mT=function(t,e){Qn(t).each(function(n){var i=t.dom;e&&zy(n,Yc(i,0))?Zy(i,0):!e&&Hy(n,Yc(i,i.length))&&tw(i,i.length)})},gT=function(t,e,n,i){t.bind(function(t){return(i?tw:Zy)(t.dom,i?t.dom.length:0),e.filter($n).map(function(e){return pT(t,e,n,i)})}).orThunk(function(){return hT(e,i).or(e).filter($n).map(function(t){return mT(t,i)})})},vT=function(t,e){var n=lt.from(e.firstChild).map(En.fromDom),i=lt.from(e.lastChild).map(En.fromDom);t.deleteContents(),t.insertNode(e);var r=n.bind(ei).filter($n).bind(fT),o=i.bind(ni).filter($n).bind(fT);gT(r,n,t,!0),gT(o,i,t,!1),t.collapse(!1)},bT=function(t,e){return ye(ye({format:"html"},t),{set:!0,selection:!0,content:e})},yT=function(t,e){if("raw"!==e.format){var n=t.selection.getRng(),i=t.dom.getParent(n.commonAncestorContainer,t.dom.isBlock),r=i?{context:i.nodeName.toLowerCase()}:{},o=t.parser.parse(e.content,ye(ye({isRootContent:!0,forced_root_block:!1},r),e));return Db({validate:t.validate},t.schema).serialize(o)}return e.content},wT=function(t,e,n){void 0===n&&(n={});var i=bT(n,e);if(!i.no_events&&(i=t.fire("BeforeSetContent",i),i.isDefaultPrevented()))return void t.fire("SetContent",i);n.content=yT(t,i);var r=t.selection.getRng();vT(r,r.createContextualFragment(n.content)),t.selection.setRng(r),Jg(t,r),i.no_events||t.fire("SetContent",i)},xT=function(t,e,n){if(t&&t.hasOwnProperty(e)){var i=It(t[e],function(t){return t!==n});0===i.length?delete t[e]:t[e]=i}},_T=function(t){return!!t.select},kT=function(t){return!(!t||!t.ownerDocument)&&zn(En.fromDom(t.ownerDocument),En.fromDom(t))},CT=function(t){return!!t&&(!!_T(t)||kT(t.startContainer)&&kT(t.endContainer))},TT=function(t,e,n,i){var r,o,s=M(t,i).selectorChangedWithUnbind,a=function(e,n){var r=t.createRng();e?(r.setStart(e,n),r.setEnd(e,n),y(r),g(!1)):(km(t,r,i.getBody(),!0),y(r))},l=function(t){return dT(i,t)},u=function(t,e){return wT(i,t,e)},c=function(t){return hb(i.getBody(),b(),t)},d=function(t){return pb(i.getBody(),b(),t)},f=function(t,e){return P.getBookmark(t,e)},h=function(t){return P.moveToBookmark(t)},p=function(e,n){return bb(t,e,n).each(y),e},m=function(){var t=b(),e=v();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},g=function(t){var e=b();e.collapse(!!t),y(e)},v=function(){return e.getSelection?e.getSelection():e.document.selection},b=function(){var n,s,a,l=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(t){return-1}};if(!e)return null;var u=e.document;if(void 0===u||null===u)return null;if(void 0!==i.bookmark&&!1===ab(i)){var c=Iv(i);if(c.isSome())return c.map(function(t){return yb(i,[t])[0]}).getOr(u.createRange())}try{(n=v())&&!Vi(n.anchorNode)&&(s=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():u.createRange(),s=yb(i,[s])[0])}catch(t){}return s||(s=u.createRange?u.createRange():u.body.createTextRange()),s.setStart&&9===s.startContainer.nodeType&&s.collapsed&&(a=t.getRoot(),s.setStart(a,0),s.setEnd(a,0)),r&&o&&(0===l(s.START_TO_START,s,r)&&0===l(s.END_TO_END,s,r)?s=o:(r=null,o=null)),s},y=function(t,e){var n;if(CT(t)){var s=_T(t)?t:null;if(s){o=null;try{s.select()}catch(t){}}else{var a=v();if(t=i.fire("SetSelectionRange",{range:t,forward:e}).range,a){o=t;try{a.removeAllRanges(),a.addRange(t)}catch(t){}!1===e&&a.extend&&(a.collapse(t.endContainer,t.endOffset),a.extend(t.startContainer,t.startOffset)),r=a.rangeCount>0?a.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!a.setBaseAndExtent||un.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(n=t.startContainer.childNodes[t.startOffset])&&"IMG"===n.tagName&&(a.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),a.anchorNode===t.startContainer&&a.focusNode===t.endContainer||a.setBaseAndExtent(n,0,n,1)),i.fire("AfterSetSelectionRange",{range:t,forward:e})}}},w=function(e){return u(t.getOuterHTML(e)),e},x=function(){return gb(i.getBody(),b())},_=function(e,n){return vb(t,b(),e,n)},k=function(){var e=v(),n=null===e||void 0===e?void 0:e.anchorNode,i=null===e||void 0===e?void 0:e.focusNode;if(!e||!n||!i||Vi(n)||Vi(i))return!0;var r=t.createRng();r.setStart(n,e.anchorOffset),r.collapse(!0);var o=t.createRng();return o.setStart(i,e.focusOffset),o.collapse(!0),r.compareBoundaryPoints(r.START_TO_START,o)<=0},C=function(){var e=b(),n=v();if(!hm(n)&&Cm(i)){var r=vg(t,e);return r.each(function(t){y(t,k())}),r.getOr(e)}return e},T=function(t,e){return s(t,e),j},S=function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},D=function(t,e){return Gg(i,t,e)},E=function(t,e){return y(rg(t,e,i.getDoc()))},N=function(){var t=b();return t.collapsed?Yc.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},A=function(){e=r=o=null,I.destroy()},j={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:i,collapse:g,setCursorLocation:a,getContent:l,setContent:u,getBookmark:f,moveToBookmark:h,select:p,isCollapsed:m,isForward:k,setNode:w,getNode:x,getSel:v,setRng:y,getRng:b,getStart:c,getEnd:d,getSelectedBlocks:_,normalize:C,selectorChanged:T,selectorChangedWithUnbind:s,getScrollContainer:S,scrollIntoView:D,placeCaretAt:E,getBoundingClientRect:N,destroy:A},P=Rm(j),I=Zm(j,i);return j.bookmarkManager=P,j.controlSelection=I,j},ST=function(t,e){At(e,function(e){t.attr(e,null)})},DT=function(t,e,n){t.addNodeFilter("font",function(t){At(t,function(t){var i=e.parse(t.attr("style")),r=t.attr("color"),o=t.attr("face"),s=t.attr("size");r&&(i.color=r),o&&(i["font-family"]=o),s&&(i["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(i)),ST(t,["color","face","size"])})})},ET=function(t,e){t.addNodeFilter("strike",function(t){At(t,function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))})})},NT=function(t,e){var n=Na();e.convert_fonts_to_spans&&DT(t,n,_n.explode(e.font_size_legacy_values)),ET(t,n)},MT=function(t,e){e.inline_styles&&NT(t,e)},AT=function(t){return new _o(function(e,n){var i=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="blob",r.onload=function(){200===this.status?e(this.response):i()},r.onerror=i,r.send()}catch(t){i()}})},jT=function(t){var e,n=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(n[0]);return i&&(e=i[1]),{type:e,data:n[1]}},PT=function(t,e){var n;try{n=atob(e)}catch(t){return lt.none()}for(var i=new Uint8Array(n.length),r=0;r<i.length;r++)i[r]=n.charCodeAt(r);return lt.some(new Blob([i],{type:t}))},IT=function(t){return new _o(function(e){var n=jT(t),i=n.type,r=n.data;PT(i,r).fold(function(){return e(new Blob([]))},e)})},OT=function(t){return 0===t.indexOf("blob:")?AT(t):0===t.indexOf("data:")?IT(t):null},RT=function(t){return new _o(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})},BT=0,LT=function(t){return(t||"blobid")+BT++},zT=function(t,e,n,i){var r,o;if(0===e.src.indexOf("blob:"))return o=t.getByUri(e.src),void(o?n({image:e,blobInfo:o}):OT(e.src).then(function(i){RT(i).then(function(s){r=jT(s).data,o=t.create(LT(),i,r),t.add(o),n({image:e,blobInfo:o})})},function(t){i(t)}));var s=jT(e.src),a=s.data,l=s.type;r=a,o=t.getByData(r,l),o?n({image:e,blobInfo:o}):OT(e.src).then(function(i){o=t.create(LT(),i,r),t.add(o),n({image:e,blobInfo:o})},function(t){i(t)})},FT=function(t){return t?Kt(t.getElementsByTagName("img")):[]},HT=function(t,e,n,i){(t.padd_empty_with_br||e.insert)&&n[i.name]?i.empty().append(new Cb("br",1)).shortEnded=!0:i.empty().append(new Cb("#text",3)).value=" "},WT=function(t){return UT(t,"#text")&&" "===t.firstChild.value},UT=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},VT=function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty},$T=function(t,e,n,i){return i.isEmpty(e,n,function(e){return VT(t,e)})},qT=function(t,e){return t&&(e[t.name]||"br"===t.name)},XT=function(t){return t.attr("data-mce-bogus")},YT=function(t){return t.attr("src")===un.transparentSrc||t.attr("data-mce-placeholder")},KT=function(t,e){if(e.images_dataimg_filter){var n=new Image;return n.src=t.attr("src"),Qt(t.attributes.map,function(t,e){n.setAttribute(e,t)}),e.images_dataimg_filter(n)}return!0},GT=function(t,e){var n=e.blob_cache,i=function(t){var i=t.attr("src");YT(t)||XT(t)||Mb(i).filter(function(){return KT(t,e)}).bind(function(t){var e=t.type,i=t.data;return lt.from(n.getByData(i,e)).orThunk(function(){return PT(e,i).map(function(t){var e=n.create(LT(),t,i);return n.add(e),e})})}).each(function(e){t.attr("src",e.blobUri())})};n&&t.addAttributeFilter("src",function(t){return At(t,i)})},JT=function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",function(t,i,r){var o,s,a,l,u,c,d,f,h=t.length,p=_n.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(p.body=1,o=0;o<h;o++)if(s=t[o],a=s.parent,p[s.parent.name]&&s===a.lastChild){for(u=s.prev;u;){if("span"!==(c=u.name)||"bookmark"!==u.attr("data-mce-type")){"br"===c&&(s=null);break}u=u.prev}s&&(s.remove(),$T(n,m,g,a)&&(d=n.getElementRule(a.name))&&(d.removeEmpty?a.remove():d.paddEmpty&&HT(e,r,p,a)))}else{for(l=s;a&&a.firstChild===l&&a.lastChild===l&&(l=a,!p[a.name]);)a=a.parent;l===a&&!0!==e.padd_empty_with_br&&(f=new Cb("#text",3),f.value=" ",s.replace(f))}}),t.addAttributeFilter("href",function(t){var n=t.length,i=function(t){return t.split(" ").filter(function(t){return t.length>0}).concat(["noopener"]).sort().join(" ")};if(!e.allow_unsafe_link_target)for(;n--;){var r=t[n];"a"===r.name&&"_blank"===r.attr("target")&&r.attr("rel",function(t){var e=t?_n.trim(t):"";return/\b(noopener)\b/g.test(e)?e:i(e)}(r.attr("rel")))}}),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(t){for(var e,n,i,r,o=t.length;o--;)if(r=t[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,e=r.lastChild;do{n=e.prev,i.insert(e,r),e=n}while(e)}}),e.fix_list_elements&&t.addNodeFilter("ul,ol",function(t){for(var e,n,i=t.length;i--;)if(e=t[i],n=e.parent,"ul"===n.name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var r=new Cb("li",1);r.attr("style","list-style-type: none"),e.wrap(r)}}),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",function(t){for(var e,i,r,o,s,a,l,u=t.length,c=n.getValidClasses();u--;){for(e=t[u],i=e.attr("class").split(" "),s="",r=0;r<i.length;r++)o=i[r],l=!1,a=c["*"],a&&a[o]&&(l=!0),a=c[e.name],!l&&a&&a[o]&&(l=!0),l&&(s&&(s+=" "),s+=o);s.length||(s=null),e.attr("class",s)}}),GT(t,e)},QT=_n.makeMap,ZT=_n.each,tS=_n.explode,eS=_n.extend,nS=function(t,e){void 0===e&&(e=a());var n={},i=[],r={},o={};t=t||{},t.validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var s=function(t){var n,i,r,o,s,a,u,c,d,f,h,p=QT("tr,td,th,tbody,thead,tfoot,table"),m=e.getNonEmptyElements(),g=e.getWhiteSpaceElements(),v=e.getTextBlockElements(),b=e.getSpecialElements();for(n=0;n<t.length;n++)if(i=t[n],i.parent&&!i.fixed)if(v[i.name]&&"li"===i.parent.name){for(f=i.next;f&&v[f.name];)f.name="li",f.fixed=!0,i.parent.insert(f,i.parent),f=f.next;i.unwrap(i)}else{for(o=[i],r=i.parent;r&&!e.isValidChild(r.name,i.name)&&!p[r.name];r=r.parent)o.push(r);if(r&&o.length>1){for(o.reverse(),s=a=l(o[0].clone()),d=0;d<o.length-1;d++){for(e.isValidChild(a.name,o[d].name)?(u=l(o[d].clone()),a.append(u)):u=a,c=o[d].firstChild;c&&c!==o[d+1];)h=c.next,u.append(c),c=h;a=u}$T(e,m,g,s)?r.insert(i,o[0],!0):(r.insert(s,o[0],!0),r.insert(i,s)),r=o[0],($T(e,m,g,r)||UT(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if((f=i.prev)&&("ul"===f.name||"ol"===f.name)){f.append(i);continue}if((f=i.next)&&("ul"===f.name||"ol"===f.name)){f.insert(i,f.firstChild,!0);continue}i.wrap(l(new Cb("ul",1)));continue}e.isValidChild(i.parent.name,"div")&&e.isValidChild("div",i.name)?i.wrap(l(new Cb("div",1))):b[i.name]?i.empty().remove():i.unwrap()}}},l=function(t){var e,s,a;s=t.name,s in n&&(a=r[s],a?a.push(t):r[s]=[t]),e=i.length;for(;e--;)(s=i[e].name)in t.attributes.map&&(a=o[s],a?a.push(t):o[s]=[t]);return t},u=function(t,e){ZT(tS(t),function(t){var i=n[t];i||(n[t]=i=[]),i.push(e)})},c=function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},d=function(t,e){ZT(tS(t),function(t){var n;for(n=0;n<i.length;n++)if(i[n].name===t)return void i[n].callbacks.push(e);i.push({name:t,callbacks:[e]})})},f=function(){return[].concat(i)},h=function(a,l){var u,c,d,f,h,p,m,g,v,b=[];l=l||{},r={},o={};var y=eS(QT("script,style,head,html,body,title,meta,param"),e.getBlockElements()),w=e.getNonEmptyElements(),x=e.children,_=t.validate,k="forced_root_block"in l?l.forced_root_block:t.forced_root_block,C=function(t){return!1===t?"":!0===t?"p":t}(k),T=e.getWhiteSpaceElements(),S=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,E=/[ \t\r\n]+/g,N=/^[ \t\r\n]+$/;g=T.hasOwnProperty(l.context)||T.hasOwnProperty(t.root_name);var M=function(t,e){var i,o=new Cb(t,e);return t in n&&(i=r[t],i?i.push(o):r[t]=[o]),o},A=function(t){var n,i,r,o,s=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if(r=n.value.replace(D,""),r.length>0)return void(n.value=r);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!s[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}},j=Bb({validate:_,allow_html_data_urls:t.allow_html_data_urls,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n}(e.getSelfClosingElements()),cdata:function(t){v.append(M("#cdata",4)).value=t},text:function(t,e){var n;g||(t=t.replace(E," "),qT(v.lastChild,y)&&(t=t.replace(S,""))),0!==t.length&&(n=M("#text",3),n.raw=!!e,v.append(n).value=t)},comment:function(t){v.append(M("#comment",8)).value=t},pi:function(t,e){v.append(M(t,7)).value=e,A(v)},doctype:function(t){v.append(M("#doctype",10)).value=t,A(v)},start:function(t,n,r){var s,a,l,u,c=_?e.getElementRule(t):{};if(c){for(s=M(c.outputName||t,1),s.attributes=n,s.shortEnded=r,v.append(s),u=x[v.name],u&&x[s.name]&&!u[s.name]&&b.push(s),a=i.length;a--;)(l=i[a].name)in n.map&&(p=o[l],p?p.push(s):o[l]=[s]);y[t]&&A(s),r||(v=s),!g&&T[t]&&(g=!0)}},end:function(n){var i,r,o,s,a=_?e.getElementRule(n):{};if(a){if(y[n]&&!g){if((i=v.firstChild)&&3===i.type)if(r=i.value.replace(S,""),r.length>0)i.value=r,i=i.next;else for(o=i.next,i.remove(),i=o;i&&3===i.type;)r=i.value,o=i.next,(0===r.length||N.test(r))&&(i.remove(),i=o),i=o;if((i=v.lastChild)&&3===i.type)if(r=i.value.replace(D,""),r.length>0)i.value=r,i=i.prev;else for(o=i.prev,i.remove(),i=o;i&&3===i.type;)r=i.value,o=i.prev,(0===r.length||N.test(r))&&(i.remove(),i=o),i=o}if(g&&T[n]&&(g=!1),a.removeEmpty&&$T(e,w,T,v))return s=v.parent,y[v.name]?v.empty().remove():v.unwrap(),void(v=s);a.paddEmpty&&(WT(v)||$T(e,w,T,v))&&HT(t,l,y,v),v=v.parent}}},e),P=v=new Cb(l.context||t.root_name,11);if(j.parse(a,l.format),_&&b.length&&(l.context?l.invalid=!0:s(b)),C&&("body"===P.name||l.isRootContent)&&function(){var n,i,r=P.firstChild,o=function(t){t&&(r=t.firstChild,r&&3===r.type&&(r.value=r.value.replace(S,"")),(r=t.lastChild)&&3===r.type&&(r.value=r.value.replace(D,"")))};if(e.isValidChild(P.name,C.toLowerCase())){for(;r;)n=r.next,3===r.type||1===r.type&&"p"!==r.name&&!y[r.name]&&!r.attr("data-mce-type")?i?i.append(r):(i=M(C,1),i.attr(t.forced_root_block_attrs),P.insert(i,r),i.append(r)):(o(i),i=null),r=n;o(i)}}(),!l.invalid){for(m in r)if(r.hasOwnProperty(m)){for(p=n[m],u=r[m],f=u.length;f--;)u[f].parent||u.splice(f,1);for(c=0,d=p.length;c<d;c++)p[c](u,m,l)}for(c=0,d=i.length;c<d;c++)if(p=i[c],p.name in o){for(u=o[p.name],f=u.length;f--;)u[f].parent||u.splice(f,1);for(f=0,h=p.callbacks.length;f<h;f++)p.callbacks[f](u,p.name,l)}}return P},p={schema:e,addAttributeFilter:d,getAttributeFilters:f,addNodeFilter:u,getNodeFilters:c,filterNode:l,parse:h};return JT(p,t),MT(p,t),p},iS=function(t,e,n){t.addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)n=t[i],n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(e,null)}),t.addAttributeFilter("src,href,style",function(t,i){for(var r,o,s=t.length,a="data-mce-"+i,l=e.url_converter,u=e.url_converter_scope;s--;)r=t[s],o=r.attr(a),void 0!==o?(r.attr(i,o.length>0?o:null),r.attr(a,null)):(o=r.attr(i),"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):l&&(o=l.call(u,o,i,r.name)),r.attr(i,o.length>0?o:null))}),t.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)e=t[i],(n=e.attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))}),t.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,r=t.length;r--;)if(i=t[r],"bookmark"===i.attr("data-mce-type")&&!n.cleanup){var o=lt.from(i.firstChild).exists(function(t){return!ns(t.value)});o?i.unwrap():i.remove()}}),t.addNodeFilter("noscript",function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=va.decode(e.value))}),t.addNodeFilter("script,style",function(t,n){for(var i,r,o,s=t.length,a=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};s--;)i=t[s],r=i.firstChild?i.firstChild.value:"","script"===n?(o=i.attr("type"),o&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===e.element_format&&r.length>0&&(i.firstChild.value="// <![CDATA[\n"+a(r)+"\n// ]]>")):"xhtml"===e.element_format&&r.length>0&&(i.firstChild.value="\x3c!--\n"+a(r)+"\n--\x3e")}),t.addNodeFilter("#comment",function(t){for(var i,r=t.length;r--;)i=t[r],e.preserve_cdata&&0===i.value.indexOf("[CDATA[")?(i.name="#cdata",i.type=4,i.value=n.decode(i.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===i.value.indexOf("mce:protected ")&&(i.name="#text",i.type=3,i.raw=!0,i.value=unescape(i.value).substr(14))}),t.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)n=t[i],7===n.type?n.remove():1===n.type&&("input"!==e||n.attr("type")||n.attr("type","text"))}),t.addAttributeFilter("data-mce-type",function(e){At(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})},rS=function(t){var e=function(t){return t&&"br"===t.name},n=t.lastChild;if(e(n)){var i=n.prev;e(i)&&(n.remove(),i.remove())}},oS=function(t,e,n){var i,r,o=t.dom;e=e.cloneNode(!0);var s=document.implementation;return s.createHTMLDocument&&(i=s.createHTMLDocument(""),_n.each("BODY"===e.nodeName?e.childNodes:[e],function(t){i.body.appendChild(i.importNode(t,!0))}),e="BODY"!==e.nodeName?i.body.firstChild:i.body,r=o.doc,o.doc=i),zm(t,ye(ye({},n),{node:e})),r&&(o.doc=r),e},sS=function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events},aS=function(t,e,n){return sS(t,n)?oS(t,e,n):e},lS=function(t,e,n){-1===_n.inArray(e,n)&&(t.addAttributeFilter(n,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),e.push(n))},uS=function(t,e,n){if(!e.no_events&&t){return Fm(t,ye(ye({},e),{content:n})).content}return n},cS=function(t,e,n){var i=is(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||Jo(En.fromDom(e))?i:_n.trim(i)},dS=function(t,e,n){var i=n.selection?ye({forced_root_block:!1},n):n,r=t.parse(e,i);return rS(r),r},fS=function(t,e,n){return Db(t,e).serialize(n)},hS=function(t,e,n,i,r){var o=fS(e,n,i);return uS(t,r,o)},pS=function(t,n){var i=["data-mce-selected"],r=n&&n.dom?n.dom:lu.DOM,o=n&&n.schema?n.schema:a(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var s=nS(t,o);iS(s,t,r);var l=function(e,i){void 0===i&&(i={});var a=ye({format:"html"},i),l=aS(n,e,a),u=cS(r,l,a),c=dS(s,u,a);return"tree"===a.format?c:hS(n,t,o,c,a)};return{schema:o,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:l,addRules:function(t){o.addValidElements(t)},setRules:function(t){o.setValidElements(t)},addTempAttr:e(lS,s,i),getTempAttrs:function(){return i},getNodeFilters:s.getNodeFilters,getAttributeFilters:s.getAttributeFilters}},mS=function(t,e){var n=pS(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},gS=function(t,e){void 0===e&&(e={});var n=e.format?e.format:"html";return aT(t,e,n)},vS=function(t,e,n){return void 0===n&&(n={}),lT(t,e,n)},bS=lu.DOM,yS=function(t){bS.setStyle(t.id,"display",t.orgDisplay)},wS=function(t){return lt.from(t).each(function(t){return t.destroy()})},xS=function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)},_S=function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),bS.unbind(e,"submit reset",t.formEventDelegate))},kS=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,i=t.getBody(),r=t.getElement();i&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&r&&bS.remove(r.nextSibling),Hm(t),t.editorManager.remove(t),!t.inline&&i&&yS(t),Wm(t),bS.remove(t.getContainer()),wS(e),wS(n),t.destroy()}},CS=function(t,e){var n=t.selection,i=t.dom;if(!t.destroyed){if(!e&&!t.removed)return void t.remove();e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),wS(n),wS(i)),_S(t),xS(t),t.destroyed=!0}},TS=Object.prototype.hasOwnProperty,SS=function(t,e){return pt(t)&&pt(e)?DS(t,e):e},DS=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var i={},r=0;r<e.length;r++){var o=e[r];for(var s in o)TS.call(o,s)&&(i[s]=t(i[s],o[s]))}return i}}(SS),ES=function(t,e){return{sections:Q(t),settings:Q(e)}},NS=Ze().deviceType,MS=NS.isTouch(),AS=NS.isPhone(),jS=NS.isTablet(),PS=["lists","autolink","autosave"],IS={table_grid:!1,object_resizing:!1,resize:!1},OS=function(t){var e=mt(t)?t.join(" "):t,n=Mt(ht(e)?e.split(" "):[],Oe);return It(n,function(t){return t.length>0})},RS=function(t){return It(t,e(Et,PS))},BS=function(t,e){var n=ie(e,function(e,n){return Et(t,n)});return ES(n.t,n.f)},LS=function(t,e,n){void 0===n&&(n={});var i=t.sections(),r=i.hasOwnProperty(e)?i[e]:{};return _n.extend({},n,r)},zS=function(t,e){return t.sections().hasOwnProperty(e)},FS=function(t,e,n){var i=t.sections();return zS(t,e)&&i[e].theme===n},HS=function(t,e){return zS(t,e)?t.sections()[e]:{}},WS=function(t,e){return ae(t,"toolbar_mode").orThunk(function(){return ae(t,"toolbar_drawer").map(function(t){return!1===t?"wrap":t})}).getOr(e)},US=function(t,e,n,i,r){var o={id:e,theme:"silver",toolbar_mode:WS(t,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:r.convertURL,url_converter_scope:r};return ye(ye({},o),i?IS:{})},VS=function(t,e){var n={resize:!1,toolbar_mode:WS(t,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return ye(ye(ye({},IS),n),e?i:{})},$S=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?_n.extend({},t.external_plugins,n):n},qS=function(t,e){return[].concat(OS(t)).concat(OS(e))},XS=function(t,e,n,i){var r=OS(n.forced_plugins),o=OS(i.plugins),s=HS(e,"mobile"),a=s.plugins?OS(s.plugins):o,l=t&&FS(e,"mobile","mobile")?RS(a):t&&zS(e,"mobile")?a:o,u=qS(r,l);return _n.extend(i,{plugins:u.join(" ")})},YS=function(t,e){return t&&zS(e,"mobile")},KS=function(t,e,n,i,r){var o=t?{mobile:VS(r.mobile||{},e)}:{},s=BS(["mobile"],DS(o,r)),a=_n.extend(n,i,s.settings(),YS(t,s)?LS(s,"mobile"):{},{validate:!0,external_plugins:$S(i,s.settings())});return XS(t,s,i,a)},GS=function(t,e,n,i,r){var o=US(r,e,n,MS,t);return KS(AS||jS,AS,o,i,r)},JS=function(t,e,n){return lt.from(e.settings[n]).filter(t)},QS=function(t){var e={};return"string"==typeof t?At(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),function(t){var n=t.split("=");n.length>1?e[_n.trim(n[0])]=_n.trim(n[1]):e[_n.trim(n[0])]=_n.trim(n[0])}):e=t,e},ZS=function(t){return function(e){return mt(e)&&Wt(e,t)}},tD=function(t,e,n,i){var r=e in t.settings?t.settings[e]:n;return"hash"===i?QS(r):"string"===i?JS(ht,t,e).getOr(n):"number"===i?JS(_t,t,e).getOr(n):"boolean"===i?JS(vt,t,e).getOr(n):"object"===i?JS(pt,t,e).getOr(n):"array"===i?JS(mt,t,e).getOr(n):"string[]"===i?JS(ZS(ht),t,e).getOr(n):"function"===i?JS(xt,t,e).getOr(n):r},eD=function(){var t={};return{add:function(e,n){t[e]=n},get:function(e){return t[e]?t[e]:{icons:{}}},has:function(e){return le(t,e)}}}(),nD=function(t,e){return e.dom[t]},iD=function(t,e){return parseInt(xr(e,t),10)},rD=e(nD,"clientWidth"),oD=e(nD,"clientHeight"),sD=e(iD,"margin-top"),aD=e(iD,"margin-left"),lD=function(t){return t.dom.getBoundingClientRect()},uD=function(t,e,n){var i=rD(t),r=oD(t);return e>=0&&n>=0&&e<=i&&n<=r},cD=function(t,e,n,i){var r=lD(e);return{x:n-(t?r.left+e.dom.clientLeft+aD(e):0),y:i-(t?r.top+e.dom.clientTop+sD(e):0)}},dD=function(t,e,n){var i=En.fromDom(t.getBody()),r=t.inline?i:Gn(i),o=cD(t.inline,r,e,n);return uD(r,o.x,o.y)},fD=function(t){return lt.from(t).map(En.fromDom)},hD=function(t){var e=t.inline?t.getBody():t.getContentAreaContainer();return fD(e).map(Mi).getOr(!1)},pD=Du.PluginManager,mD=Du.ThemeManager,gD=function(t){var e=[],n=function(){var e=t.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():I()},i=function(t,e){return function(){return e?e.apply(t,arguments):void 0}},r=function(e){t.fire("OpenWindow",{dialog:e})},o=function(e){t.fire("CloseWindow",{dialog:e})},s=function(t){e.push(t),r(t)},a=function(n){o(n),e=It(e,function(t){return t!==n}),0===e.length&&t.focus()},l=function(){return lt.from(e[e.length-1])},u=function(e){t.editorManager.setActive(t),jv(t);var n=e();return s(n),n},c=function(t,e){return u(function(){return n().open(t,e,a)})},d=function(t){return u(function(){return n().openUrl(t,a)})},f=function(t,e,r){n().alert(t,i(r||this,e))},h=function(t,e,r){n().confirm(t,i(r||this,e))},p=function(){l().each(function(t){n().close(t),a(t)})};return t.on("remove",function(){At(e,function(t){n().close(t)})}),{open:c,openUrl:d,alert:f,confirm:h,close:p}},vD=function(t,e){t.notificationManager.open({type:"error",text:e})},bD=function(t,e){t._skinLoaded?vD(t,e):t.on("SkinLoaded",function(){vD(t,e)})},yD=function(t,e){bD(t,Su.translate(["Failed to upload image: {0}",e]))},wD=function(t,e,n){Gm(t,e,{message:n}),console.error(n)},xD=function(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e},_D=function(t,e,n){wD(t,"PluginLoadError",xD("plugin",e,n))},kD=function(t,e,n){wD(t,"IconsLoadError",xD("icons",e,n))},CD=function(t,e,n){wD(t,"LanguageLoadError",xD("language",e,n))},TD=function(t,e,n){var i=Su.translate(["Failed to initialize plugin: {0}",e]);SD(i,n),bD(t,i)},SD=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=window.console;i&&(i.error?i.error.apply(i,r([t],e)):i.log.apply(i,r([t],e)))},DD=function(t){return/^[a-z0-9\-]+$/i.test(t)},ED=function(t){var e=uf(t),n=t.editorManager.baseURL+"/skins/content",i=t.editorManager.suffix,r="content"+i+".css",o=!0===t.inline;return Mt(e,function(e){return DD(e)&&!o?n+"/"+e+"/"+r:t.documentBaseURI.toAbsolute(e)})},ND=function(t){t.contentCSS=t.contentCSS.concat(ED(t))},MD=0,AD=function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+t()+t()+t()},jD=function(t){return t+MD+++AD()},PD=function(){var t=[],e=function(t){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[t.toLowerCase()]||"dat"},n=function(t,e,n,r){if(ht(t)){return i({id:t,name:r,blob:e,base64:n})}if(pt(t))return i(t);throw new Error("Unknown input type")},i=function(t){if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var n=t.id||jD("blobid"),i=t.name||n;return{id:Q(n),name:Q(i),filename:Q(i+"."+e(t.blob.type)),blob:Q(t.blob),base64:Q(t.base64),blobUri:Q(t.blobUri||URL.createObjectURL(t.blob)),uri:Q(t.uri)}},r=function(e){s(e.id())||t.push(e)},o=function(e){return Lt(t,e).getOrUndefined()},s=function(t){return o(function(e){return e.id()===t})};return{create:n,add:r,get:s,getByUri:function(t){return o(function(e){return e.blobUri()===t})},getByData:function(t,e){return o(function(n){return n.base64()===t&&n.blob().type===e})},findFirst:o,removeByUri:function(e){t=It(t,function(t){return t.blobUri()!==e||(URL.revokeObjectURL(t.blobUri()),!1)})},destroy:function(){At(t,function(t){URL.revokeObjectURL(t.blobUri())}),t=[]}}},ID=function(t){var e,n,i=PD(),r=R(),o=[],s=function(e){return function(n){return t.selection?e(n):[]}},a=function(t){return t+(-1===t.indexOf("?")?"?":"&")+(new Date).getTime()},l=function(t,e,n){var i=0;do{-1!==(i=t.indexOf(e,i))&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1)}while(-1!==i);return t},u=function(t,e,n){var i='src="'+n+'"'+(n===un.transparentSrc?' data-mce-placeholder="1"':"");return t=l(t,'src="'+e+'"',i),t=l(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},c=function(e,n){At(t.undoManager.data,function(t){"fragmented"===t.type?t.fragments=Mt(t.fragments,function(t){return u(t,e,n)}):t.content=u(t.content,e,n)})},d=function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},f=function(e,n){var i=t.convertURL(n,"src");c(e.src,n),t.$(e).attr({src:Yd(t)?a(n):n,"data-mce-src":i})},h=function(n){return e||(e=O(r,{url:Qd(t),basePath:Zd(t),credentials:tf(t),handler:ef(t)})),v().then(s(function(r){var o=Mt(r,function(t){return t.blobInfo});return e.upload(o,d).then(s(function(e){var o=[],s=Mt(e,function(e,n){var s=r[n].blobInfo,a=r[n].image;return e.status&&Kd(t)?(i.removeByUri(a.src),f(a,e.url)):e.error&&(e.error.options.remove&&(c(a.getAttribute("src"),un.transparentSrc),o.push(a)),yD(t,e.error.message)),{element:a,status:e.status,uploadUri:e.url,blobInfo:s}});return o.length>0&&(UC(t)?console.error("Removing images on failed uploads is currently unsupported for RTC"):t.undoManager.transact(function(){At(o,function(e){t.dom.remove(e),i.removeByUri(e.src)})})),n&&n(s),s}))}))},p=function(e){if(Xd(t))return h(e)},m=function(e){if(!1===Wt(o,function(t){return t(e)}))return!1;if(0===e.getAttribute("src").indexOf("data:")){return qd(t)(e)}return!0},g=function(t){o.push(t)},v=function(){return n||(n=A(r,i)),n.findAll(t.getBody(),m).then(s(function(e){return e=It(e,function(e){return"string"!=typeof e||(bD(t,e),!1)}),At(e,function(t){c(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")}),e}))},b=function(){i.destroy(),r.destroy(),n=e=null},y=function(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var o=r.getResultUri(n);if(o)return'src="'+o+'"';var s=i.getByUri(n);if(s||(s=Rt(t.editorManager.get(),function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)},null)),s){return'src="data:'+s.blob().type+";base64,"+s.base64()+'"'}return e})};return t.on("SetContent",function(){Xd(t)?p():v()}),t.on("RawSaveContent",function(t){t.content=y(t.content)}),t.on("GetContent",function(t){t.source_view||"raw"===t.format||(t.content=y(t.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(t){At(t,function(t){var e=t.attr("src");if(!i.getByUri(e)){var n=r.getResultUri(e);n&&t.attr("src",n)}})})}),{blobCache:i,addFilter:g,uploadImages:h,uploadImagesAuto:p,scanForImages:v,destroy:b}},OD=function(t,e){var n=hu({});t.set({}),e.on("NodeChange",function(i){RD(e,i.element,n,t.get())})},RD=function(t,e,n,i){var r=Gt(n.get()),o={},s={},a=It($p(t.dom,e),function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")});Qt(i,function(e,n){_n.each(a,function(i){return t.formatter.matchNode(i,n,{},e.similar)?(-1===r.indexOf(n)&&(At(e.callbacks,function(t){t(!0,{node:i,format:n,parents:a})}),o[n]=e.callbacks),s[n]=e.callbacks,!1):!i_(t,i,n)&&void 0})});var l=BD(n.get(),s,e,a);n.set(ye(ye({},o),l))},BD=function(t,e,n,i){return ie(t,function(t,r){return!!le(e,r)||(At(t,function(t){t(!1,{node:n,format:r,parents:i})}),!1)}).t},LD=function(t,e,n,i){var r=t.get();At(e.split(","),function(t){r[t]||(r[t]={similar:i,callbacks:[]}),r[t].callbacks.push(n)}),t.set(r)},zD=function(t,e,n){var i=t.get();At(e.split(","),function(t){i[t].callbacks=It(i[t].callbacks,function(t){return t!==n}),0===i[t].callbacks.length&&delete i[t]}),t.set(i)},FD=function(t,e,n,i,r){return null===e.get()&&OD(e,t),LD(e,n,i,r),{unbind:function(){return zD(e,n,i)}}},HD=function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(t,e,n){return $i(t)&&t.hasAttribute("href")},onformat:function(e,n,i){_n.each(i,function(n,i){t.setAttrib(e,i,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return _n.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){e[t]={block:t,remove:"all"}}),e},WD=_n.each,UD=lu.DOM,VD=function(t,e){var n,i,r,o=e&&e.schema||a({}),s=function(t,e){e.classes.length&&UD.addClass(t,e.classes.join(" ")),UD.setAttribs(t,e.attrs)},l=function(t){i="string"==typeof t?{name:t,classes:[],attrs:{}}:t;var e=UD.create(i.name);return s(e,i),e},u=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,i=o.getElementRule(n),r=i&&i.parentsRequired;return!(!r||!r.length)&&(e&&-1!==_n.inArray(r,e)?e:r[0])};return t&&t.length?(i=t[0],n=l(i),r=UD.create("div"),r.appendChild(function t(e,n,i){var r,o,s=n.length>0&&n[0],a=s&&s.name,c=u(e,a);if(c)a===c?(o=n[0],n=n.slice(1)):o=c;else if(s)o=n[0],n=n.slice(1);else if(!i)return e;return o&&(r=l(o),r.appendChild(e)),i&&(r||(r=UD.create("div"),r.appendChild(e)),_n.each(i,function(t){var n=l(t);r.insertBefore(n,e)})),t(r,n,o&&o.siblings)}(n,t.slice(1),i.siblings)),r):""},$D=function(t){var e,n={classes:[],attrs:{}};return t=n.selector=_n.trim(t),"*"!==t&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(t,e,i,r,o){switch(e){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==_n.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===r){var s=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(n.attrs[s[1]]=s[2])}return""})),n.name=e||"div",n},qD=function(t){return t&&"string"==typeof t?(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),_n.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var e=_n.map(t.split(/(?:~\+|~|\+)/),$D),n=e.pop();return e.length&&(n.siblings=e),n}).reverse()):[]},XD=function(t,e){var n,i,r,o="",s=xf(t);if(""===s)return"";var a=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}if("preview"in e){var l=ae(e,"preview");if(l.is(!1))return"";s=l.getOr(s)}n=e.block||e.inline||"span";var u=qD(e.selector);u.length?(u[0].name||(u[0].name=n),n=e.selector,i=VD(u,t)):i=VD([n],t);var c=UD.select(n,i)[0]||i.firstChild;return WD(e.styles,function(t,e){var n=a(t);n&&UD.setStyle(c,e,n)}),WD(e.attributes,function(t,e){var n=a(t);n&&UD.setAttrib(c,e,n)}),WD(e.classes,function(t){var e=a(t);UD.hasClass(c,e)||UD.addClass(c,e)}),t.fire("PreviewFormats"),UD.setStyles(i,{position:"absolute",left:-65535}),t.getBody().appendChild(i),r=UD.getStyle(t.getBody(),"fontSize",!0),r=/px$/.test(r)?parseInt(r,10):0,WD(s.split(" "),function(e){var n=UD.getStyle(c,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=UD.getStyle(t.getBody(),e,!0),"#ffffff"===UD.toHex(n).toLowerCase())||"color"===e&&"#000000"===UD.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===r)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*r+"px"}"border"===e&&n&&(o+="padding:0 2px;"),o+=e+":"+n+";"}}),t.fire("AfterPreviewFormats"),UD.remove(i),o},YD=function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},KD=function(t){var n=B(t),i=hu(null);return YD(t),D_(t),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(e,n,i){rT(t,e,n,i)},remove:function(e,n,i,r){oT(t,e,n,i,r)},toggle:function(e,n,i){sT(t,e,n,i)},match:e(l_,t),matchAll:e(u_,t),matchNode:e(a_,t),canApply:e(c_,t),formatChanged:e(FD,t,i),getCssText:e(XD,t)}},GD=function(t,e,n){var i=hu(!1),r=function(t){kC(e,!1,n),e.add({},t)};t.on("init",function(){e.add()}),t.on("BeforeExecCommand",function(t){var i=t.command.toLowerCase();"undo"!==i&&"redo"!==i&&"mcerepaint"!==i&&(CC(e,n),e.beforeChange())}),t.on("ExecCommand",function(t){var e=t.command.toLowerCase();"undo"!==e&&"redo"!==e&&"mcerepaint"!==e&&r(t)}),t.on("ObjectResizeStart cut",function(){e.beforeChange()}),t.on("SaveContent ObjectResized blur",r),t.on("dragend",r),t.on("keyup",function(n){var o=n.keyCode;n.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||n.ctrlKey)&&(r(),t.nodeChanged()),46!==o&&8!==o||t.nodeChanged(),i.get()&&e.typing&&!1===xC(mC(t),e.data[0])&&(!1===t.isDirty()&&(t.setDirty(!0),t.fire("change",{level:e.data[0],lastLevel:null})),t.fire("TypingUndo"),i.set(!1),t.nodeChanged()))}),t.on("keydown",function(t){var o=t.keyCode;if(!t.isDefaultPrevented()){if(o>=33&&o<=36||o>=37&&o<=40||45===o)return void(e.typing&&r(t));var s=t.ctrlKey&&!t.altKey||t.metaKey;!(o<16||o>20)||224===o||91===o||e.typing||s||(e.beforeChange(),kC(e,!0,n),e.add({},t),i.set(!0))}}),t.on("mousedown",function(t){e.typing&&r(t)});var o=function(t){return"insertReplacementText"===t.inputType},s=function(t){return"insertText"===t.inputType&&null===t.data},a=function(t){return"insertFromPaste"===t.inputType||"insertFromDrop"===t.inputType};t.on("input",function(t){t.inputType&&(o(t)||s(t)||a(t))&&r(t)}),t.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||t.nodeChanged()})},JD=function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},QD=function(t){var e=hu(lt.none()),n=hu(0),i=hu(0),r={data:[],typing:!1,beforeChange:function(){XC(t,n,e)},add:function(o,s){return YC(t,r,i,n,e,o,s)},undo:function(){return KC(t,r,n,i)},redo:function(){return GC(t,i,r.data)},clear:function(){JC(t,r,i)},reset:function(){QC(t,r)},hasUndo:function(){return ZC(t,r,i)},hasRedo:function(){return tT(t,r,i)},transact:function(e){return eT(t,r,n,e)},ignore:function(e){nT(t,n,e)},extra:function(e,n){iT(t,r,i,e,n)}};return UC(t)||GD(t,r,n),JD(t),r},ZD=[9,27,Jm.HOME,Jm.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Jm.DOWN,Jm.UP,Jm.LEFT,Jm.RIGHT].concat(un.browser.isFirefox()?[224]:[]),tE=function(t){return"keydown"===t.type||"keyup"===t.type},eE=function(t){var e=t.keyCode;return e===Jm.BACKSPACE||e===Jm.DELETE},nE=function(t){if(tE(t)){var e=t.keyCode;return!eE(t)&&(Jm.metaKeyPressed(t)||t.altKey||e>=112&&e<=123||Et(ZD,e))}return!1},iE=function(t){return tE(t)&&!(eE(t)||"keyup"===t.type&&229===t.keyCode)},rE=function(t,e,n){if($s(En.fromDom(e),!1)){var i=""===n,r=e.firstElementChild;return!r||!t.getStyle(e.firstElementChild,"padding-left")&&!t.getStyle(e.firstElementChild,"padding-right")&&(i?!t.isBlock(r):n===r.nodeName.toLowerCase())}return!1},oE=function(t){var e=t.dom,n=Ld(t),i=pf(t),r=function r(o,s){if(!nE(o)){var a=t.getBody(),l=!iE(o)&&rE(e,a,n);(""!==e.getAttrib(a,"data-mce-placeholder")!==l||s)&&(e.setAttrib(a,"data-mce-placeholder",l?i:null),e.setAttrib(a,"aria-placeholder",l?i:null),Km(t,l),t.on(l?"keydown":"keyup",r),t.off(l?"keyup":"keydown",r))}};i&&t.on("init",function(e){r(e,!0),t.on("change SetContent ExecCommand",r),t.on("paste",function(e){return No.setEditorTimeout(t,function(){return r(e)})})})},sE=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,aE=function(t){return sE.test(t)},lE=function(t,e){return jn(En.fromDom(e),df(t))},uE=function(t){return"rtl"===lu.DOM.getStyle(t,"direction",!0)||aE(t.textContent)},cE=function(t,e,n){return It(lu.DOM.getParents(n.container(),"*",e),t)},dE=function(t,e,n){var i=cE(t,e,n);return lt.from(i[i.length-1])},fE=function(t,e,n){var i=vh(e,t),r=vh(n,t);return i&&i===r},hE=function(t){return ds(t)||fs(t)},pE=function(t,e){if(!e)return e;var n=e.container(),i=e.offset();return t?as(n)?tr(n.nextSibling)?Yc(n.nextSibling,0):Yc.after(n):ds(e)?Yc(n,i+1):e:as(n)?tr(n.previousSibling)?Yc(n.previousSibling,n.previousSibling.data.length):Yc.before(n):fs(e)?Yc(n,i-1):e},mE=e(pE,!0),gE=e(pE,!1),vE=function(t){return function(e){return Rn(t,En.fromDom(e.dom.parentNode))}},bE=function(t,e){return zn(t,e)?bo(e,function(t){return qo(t)||Yo(t)},vE(t)):lt.none()},yE=function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)},wE=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),yE(t))},xE=function(t,e,n){return dc(rp(n),op(n),function(i,r){var o=pE(!0,i),s=pE(!1,r),a=pE(!1,e);return t?np(n,a).exists(function(t){return t.isEqual(s)&&e.isEqual(o)}):ip(n,a).exists(function(t){return t.isEqual(o)&&e.isEqual(s)})}).getOr(!0)},_E=function(t,e){return{block:t,position:e}},kE=function(t,e){return{from:t,to:e}},CE=function(t,e){var n=En.fromDom(t),i=En.fromDom(e.container());return bE(n,i).map(function(t){return _E(t,e)})},TE=function(t){return!1===Rn(t.from.block,t.to.block)},SE=function(t){return Qn(t.from.block).bind(function(e){return Qn(t.to.block).filter(function(t){return Rn(e,t)})}).isSome()},DE=function(t){return!1===ar(t.from.block.dom)&&!1===ar(t.to.block.dom)},EE=function(t,e,n){return rr(n.position.getNode())&&!1===$s(n.block)?ep(!1,n.block.dom).bind(function(i){return i.isEqual(n.position)?Qh(e,t,i).bind(function(e){return CE(t,e)}):lt.some(n)}).getOr(n):n},NE=function(t,e,n){var i=CE(t,Yc.fromRangeStart(n)),r=i.bind(function(n){return Qh(e,t,n.position).bind(function(n){return CE(t,n).map(function(n){return EE(t,e,n)})})});return dc(i,r,kE).filter(function(t){return TE(t)&&SE(t)&&DE(t)})},ME=function(t,e,n){return n.collapsed?NE(t,e,n):lt.none()},AE=function(t){var e=oi(t);return zt(e,Wo).fold(function(){return e},function(t){return e.slice(0,t)})},jE=function(t){var e=AE(t);return At(e,Ei),e},PE=function(t,e){var n=py(e,t);return Lt(n.reverse(),function(t){return $s(t)}).each(Ei)},IE=function(t){return 0===It(ii(t),function(t){return!$s(t)}).length},OE=function(t,e,n,i){if($s(n))return uy(n),rp(n.dom);IE(i)&&$s(e)&&wi(i,En.fromTag("br"));var r=ip(n.dom,Yc.before(i.dom));return At(jE(e),function(t){wi(i,t)}),PE(t,e),r},RE=function(t,e,n){if($s(n))return Ei(n),$s(e)&&uy(e),rp(e.dom);var i=op(n.dom);return At(jE(e),function(t){ki(n,t)}),PE(t,e),i},BE=function(t,e){var n=py(e,t);return lt.from(n[n.length-1])},LE=function(t,e){return zn(e,t)?BE(e,t):lt.none()},zE=function(t,e){ep(t,e.dom).map(function(t){return t.getNode()}).map(En.fromDom).filter($o).each(Ei)},FE=function(t,n,i){return zE(!0,n),zE(!1,i),LE(n,i).fold(e(RE,t,n,i),e(OE,t,n,i))},HE=function(t,e,n,i){return e?FE(t,i,n):FE(t,n,i)},WE=function(t,e){var n=En.fromDom(t.getBody()),i=ME(n.dom,e,t.selection.getRng()).bind(function(t){return HE(n,e,t.from.block,t.to.block)});return i.each(function(e){t.selection.setRng(e.toRange())}),i.isSome()},UE=function(t,e){var n=e.getRng();return dc(bE(t,En.fromDom(n.startContainer)),bE(t,En.fromDom(n.endContainer)),function(i,r){return!1===Rn(i,r)&&(n.deleteContents(),HE(t,!0,i,r).each(function(t){e.setRng(t.toRange())}),!0)}).getOr(!1)},VE=function(t,n){var i=En.fromDom(n),r=e(Rn,t);return vo(i,Go,r).isSome()},$E=function(t,e){return VE(t,e.startContainer)||VE(t,e.endContainer)},qE=function(t,e){var n=ip(t.dom,Yc.fromRangeStart(e)).isNone(),i=np(t.dom,Yc.fromRangeEnd(e)).isNone();return!$E(t,e)&&n&&i},XE=function(t){return t.setContent(""),t.selection.setCursorLocation(),!0},YE=function(t){var e=En.fromDom(t.getBody()),n=t.selection.getRng();return qE(e,n)?XE(t):UE(e,t.selection)},KE=function(t,e){return!t.selection.isCollapsed()&&YE(t)},GE=sr,JE=ar,QE=function(t,e,n,i,r){return lt.from(e._selectionOverrides.showCaret(t,n,i,r))},ZE=function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e},tN=function(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?lt.none():lt.some(ZE(e))},eN=function(t,e,n){var i=Th(1,t.getBody(),e),r=Yc.fromRangeStart(i),o=r.getNode();if(rh(o))return QE(1,t,o,!r.isAtEnd(),!1);var s=r.getNode(!0);if(rh(s))return QE(1,t,s,!1,!1);var a=t.dom.getParent(r.getNode(),function(t){return JE(t)||GE(t)});return rh(a)?QE(1,t,a,!1,n):lt.none()},nN=function(t,e,n){return e.collapsed?eN(t,e,n).getOr(e):e},iN=function(t){return oy(t)||ey(t)},rN=function(t){return sy(t)||ny(t)},oN=function(t,e){tr(e)&&0===e.data.length&&t.remove(e)},sN=function(t,e,n,i,r,o){return QE(i,t,o.getNode(!r),r,!0).each(function(n){if(e.collapsed){var i=e.cloneRange();r?i.setEnd(n.startContainer,n.startOffset):i.setStart(n.endContainer,n.endOffset),i.deleteContents()}else e.deleteContents();t.selection.setRng(n)}),oN(t.dom,n),!0},aN=function(t,n){var i=t.selection.getRng();if(!tr(i.commonAncestorContainer))return!1;var r=n?Xc.Forwards:Xc.Backwards,o=Vh(t.getBody()),s=e(Mh,n?o.next:o.prev),a=n?iN:rN,l=Dh(r,t.getBody(),i),u=pE(n,s(l));if(!u||!Ah(l,u))return!1;if(a(u))return sN(t,i,l.getNode(),r,n,u);var c=s(u);return!!(c&&a(c)&&Ah(u,c))&&sN(t,i,l.getNode(),r,n,c)},lN=function(t,e){return aN(t,e)},uN=function(t){return Go(En.fromDom(t))||Yo(En.fromDom(t))},cN=mo.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),dN=function(t,e){var n=e.getNode(!1===t),i=t?"after":"before";return $i(n)&&n.getAttribute("data-mce-caret")===i},fN=function(t,e,n,i){var r=function(e){return Vo(En.fromDom(e))&&!bh(n,i,t)};return Sh(!e,n).fold(function(){return Sh(e,i).fold(nt,r)},r)},hN=function(t,e,n,i){var r=i.getNode(!1===e);return bE(En.fromDom(t),En.fromDom(n.getNode())).map(function(t){return $s(t)?cN.remove(t.dom):cN.moveToElement(r)}).orThunk(function(){return lt.some(cN.moveToElement(r))})},pN=function(t,e,n){return Qh(e,t,n).bind(function(i){return uN(i.getNode())?lt.none():fN(t,e,n,i)?lt.none():e&&ar(i.getNode())?hN(t,e,n,i):!1===e&&ar(i.getNode(!0))?hN(t,e,n,i):e&&sy(n)?lt.some(cN.moveToPosition(i)):!1===e&&oy(n)?lt.some(cN.moveToPosition(i)):lt.none()})},mN=function(t,e){return t&&ar(e.nextSibling)?lt.some(cN.moveToElement(e.nextSibling)):!1===t&&ar(e.previousSibling)?lt.some(cN.moveToElement(e.previousSibling)):lt.none()},gN=function(t,e,n){return n.fold(function(t){return lt.some(cN.remove(t))},function(t){return lt.some(cN.moveToElement(t))},function(n){return bh(e,n,t)?lt.none():lt.some(cN.moveToPosition(n))})},vN=function(t,e,n){return dN(e,n)?mN(e,n.getNode(!1===e)).fold(function(){return pN(t,e,n)},lt.some):pN(t,e,n).bind(function(e){return gN(t,n,e)})},bN=function(t,e,n){var i=Th(e?1:-1,t,n),r=Yc.fromRangeStart(i),o=En.fromDom(t);return!1===e&&sy(r)?lt.some(cN.remove(r.getNode(!0))):e&&oy(r)?lt.some(cN.remove(r.getNode())):!1===e&&oy(r)&&Sy(o,r)?Dy(o,r).map(function(t){return cN.remove(t.getNode())}):e&&sy(r)&&Ty(o,r)?Ey(o,r).map(function(t){return cN.remove(t.getNode())}):vN(t,e,r)},yN=function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),ww(t,e,En.fromDom(n)),!0}},wN=function(t,e){return function(n){var i=e?Yc.before(n):Yc.after(n);return t.selection.setRng(i.toRange()),!0}},xN=function(t){return function(e){return t.selection.setRng(e.toRange()),!0}},_N=function(t,e){return lt.from(Bm(t.getBody(),e))},kN=function(t,e){var n=t.selection.getNode();return _N(t,n).filter(ar).fold(function(){return bN(t.getBody(),e,t.selection.getRng()).exists(function(n){return n.fold(yN(t,e),wN(t,e),xN(t))})},it)},CN=function(t){At(Wu(t,".mce-offscreen-selection"),Ei)},TN=function(t,e){var n=t.selection.getNode();if(ar(n)){return _N(t,n.parentNode).filter(ar).fold(function(){return CN(En.fromDom(t.getBody())),ww(t,e,En.fromDom(t.selection.getNode())),wE(t),!0},function(){return!0})}return!1},SN=function(t){var e=t.dom,n=t.selection,i=Bm(t.getBody(),n.getNode());if(sr(i)&&e.isBlock(i)&&e.isEmpty(i)){var r=e.create("br",{"data-mce-bogus":"1"});e.setHTML(i,""),i.appendChild(r),n.setRng(Yc.before(r).toRange())}return!0},DN=function(t,e){return t.selection.isCollapsed()?kN(t,e):TN(t,e)},EN=function(t,e){var n=Yc.fromRangeStart(t.selection.getRng());return Qh(e,t.getBody(),n).filter(function(t){return e?Zb(t):ty(t)}).bind(function(t){return lt.from(yh(e?0:-1,t))}).exists(function(e){return t.selection.select(e),!0})},NN=function(t,e){return!!t.selection.isCollapsed()&&EN(t,e)},MN=tr,AN=function(t){return MN(t)&&t.data[0]===es},jN=function(t){return MN(t)&&t.data[t.data.length-1]===es},PN=function(t){return t.ownerDocument.createTextNode(es)},IN=function(t){if(MN(t.previousSibling))return jN(t.previousSibling)?t.previousSibling:(t.previousSibling.appendData(es),t.previousSibling);if(MN(t))return AN(t)?t:(t.insertData(0,es),t);var e=PN(t);return t.parentNode.insertBefore(e,t),e},ON=function(t){if(MN(t.nextSibling))return AN(t.nextSibling)?t.nextSibling:(t.nextSibling.insertData(0,es),t.nextSibling);if(MN(t))return jN(t)?t:(t.appendData(es),t);var e=PN(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e},RN=function(t,e){return t?IN(e):ON(e)},BN=e(RN,!0),LN=e(RN,!1),zN=function(t,e){return tr(t.container())?RN(e,t.container()):RN(e,t.getNode())},FN=function(t,e){var n=e.get();return n&&t.container()===n&&as(n)},HN=function(t,e){return e.fold(function(e){Kf(t.get());var n=BN(e);return t.set(n),lt.some(Yc(n,n.length-1))},function(e){return rp(e).map(function(e){if(FN(e,t))return Yc(t.get(),1);Kf(t.get());var n=zN(e,!0);return t.set(n),Yc(n,1)})},function(e){return op(e).map(function(e){if(FN(e,t))return Yc(t.get(),t.get().length-1);Kf(t.get());var n=zN(e,!1);return t.set(n),Yc(n,n.length-1)})},function(e){Kf(t.get());var n=LN(e);return t.set(n),lt.some(Yc(n,1))})},WN=function(t,e){for(var n=0;n<t.length;n++){var i=t[n].apply(null,e);if(i.isSome())return i}return lt.none()},UN=mo.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),VN=function(t,e){var n=vh(e,t);return n||t},$N=function(t,n,i){var r=mE(i),o=VN(n,r.container());return dE(t,o,r).fold(function(){return np(o,r).bind(e(dE,t,o)).map(function(t){return UN.before(t)})},lt.none)},qN=function(t,e){return null===ap(t,e)},XN=function(t,n,i){return dE(t,n,i).filter(e(qN,n))},YN=function(t,e,n){var i=gE(n);return XN(t,e,i).bind(function(t){return ip(t,i).isNone()?lt.some(UN.start(t)):lt.none()})},KN=function(t,e,n){var i=mE(n);return XN(t,e,i).bind(function(t){return np(t,i).isNone()?lt.some(UN.end(t)):lt.none()})},GN=function(t,n,i){var r=gE(i),o=VN(n,r.container());return dE(t,o,r).fold(function(){return ip(o,r).bind(e(dE,t,o)).map(function(t){return UN.after(t)})},lt.none)},JN=function(t){return!1===uE(ZN(t))},QN=function(t,e,n){return WN([$N,YN,KN,GN],[t,e,n]).filter(JN)},ZN=function(t){return t.fold(Z,Z,Z,Z)},tM=function(t){return t.fold(Q("before"),Q("start"),Q("end"),Q("after"))},eM=function(t){return t.fold(UN.before,UN.before,UN.after,UN.after)},nM=function(t){return t.fold(UN.start,UN.start,UN.end,UN.end)},iM=function(t,e){return tM(t)===tM(e)&&ZN(t)===ZN(e)},rM=function(t,e,n,i,r,o){return dc(dE(e,n,i),dE(e,n,r),function(e,i){return e!==i&&fE(n,e,i)?UN.after(t?e:i):o}).getOr(o)},oM=function(t,e){return t.fold(it,function(t){return!iM(t,e)})},sM=function(t,n,i,r,o){var s=pE(t,o);return Qh(t,i,s).map(e(pE,t)).fold(function(){return r.map(eM)},function(o){return QN(n,i,o).map(e(rM,t,n,i,s,o)).filter(e(oM,r))}).filter(JN)},aM=function(t,e){return t?e.fold(G(lt.some,UN.start),lt.none,G(lt.some,UN.after),lt.none):e.fold(lt.none,G(lt.some,UN.before),lt.none,G(lt.some,UN.end))},lM=function(t,n,i,r){var o=pE(t,r),s=QN(n,i,o);return QN(n,i,o).bind(e(aM,t)).orThunk(function(){return sM(t,n,i,s,r)})},uM=(e(lM,!1),e(lM,!0),function(t){return xt(t.selection.getSel().modify)}),cM=function(t,e,n){var i=t?1:-1;return e.setRng(Yc(n.container(),n.offset()+i).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},dM=function(t,e){var n=e.selection.getRng(),i=t?Yc.fromRangeEnd(n):Yc.fromRangeStart(n);return!!uM(e)&&(t&&ds(i)?cM(!0,e.selection,i):!(t||!fs(i))&&cM(!1,e.selection,i))},fM=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},hM=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},pM=function(t,e,n){return HN(e,n).map(function(e){return fM(t,e),n})},mM=function(t,n,i){var r=t.getBody(),o=Yc.fromRangeStart(t.selection.getRng()),s=e(lE,t);return lM(i,s,r,o).bind(function(e){return pM(t,n,e)})},gM=function(t,n,i){var r=Mt(Wu(En.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(t){return t.dom}),o=It(r,t),s=It(i,t);At(Vt(o,s),e(hM,!1)),At(Vt(s,o),e(hM,!0))},vM=function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=Yc.fromRangeStart(t.selection.getRng());Yc.isTextPosition(n)&&!1===hE(n)&&(fM(t,Yf(e.get(),n)),e.set(null))}},bM=function(t,e,n,i){if(e.selection.isCollapsed()){var r=It(i,t);At(r,function(i){var r=Yc.fromRangeStart(e.selection.getRng());QN(t,e.getBody(),r).bind(function(t){return pM(e,n,t)})})}},yM=function(t,e,n){return!!yf(t)&&mM(t,e,n).isSome()},wM=function(t,e,n){return!!yf(e)&&dM(t,e)},xM=function(t){var n=hu(null),i=e(lE,t);return t.on("NodeChange",function(e){!yf(t)||un.browser.isIE()&&e.initial||(gM(i,t.dom,e.parents),vM(t,n),bM(i,t,n,e.parents))}),n},_M=e(wM,!0),kM=e(wM,!1),CM=function(t,e){var n=document.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n},TM=function(t){return dc(rp(t),op(t),function(e,n){var i=pE(!0,e),r=pE(!1,n);return np(t,i).forall(function(t){return t.isEqual(r)})}).getOr(!0)},SM=function(t,e){return function(n){return HN(e,n).exists(function(e){return fM(t,e),!0})}},DM=function(t,n,i,r){var o=t.getBody(),s=e(lE,t);t.undoManager.ignore(function(){t.selection.setRng(CM(i,r)),t.execCommand("Delete"),QN(s,o,Yc.fromRangeStart(t.selection.getRng())).map(nM).map(SM(t,n))}),t.nodeChanged()},EM=function(t,e){var n=vh(e,t);return n||t},NM=function(t,n,i,r){var o=EM(t.getBody(),r.container()),s=e(lE,t),a=QN(s,o,r);return a.bind(function(t){return i?t.fold(Q(lt.some(nM(t))),lt.none,Q(lt.some(eM(t))),lt.none):t.fold(lt.none,Q(lt.some(eM(t))),lt.none,Q(lt.some(nM(t))))}).map(SM(t,n)).getOrThunk(function(){var e=Zh(i,o,r),l=e.bind(function(t){return QN(s,o,t)});return dc(a,l,function(){return dE(s,o,r).exists(function(e){return!!TM(e)&&(ww(t,i,En.fromDom(e)),!0)})}).orThunk(function(){return l.bind(function(o){return e.map(function(e){return i?DM(t,n,r,e):DM(t,n,e,r),!0})})}).getOr(!1)})},MM=function(t,e,n){if(t.selection.isCollapsed()&&yf(t)){var i=Yc.fromRangeStart(t.selection.getRng());return NM(t,e,n,i)}return!1},AM=function(t,e){var n=py(e,t);return zt(n,Wo).fold(Q(n),function(t){return n.slice(0,t)})},jM=function(t){return 1===oi(t).length},PM=function(t,n,i,r){var o=e(N_,n),s=Mt(It(r,o),function(t){return t.dom});if(0===s.length)ww(n,t,i);else{var a=E_(i.dom,s);n.selection.setRng(a.toRange())}},IM=function(t,e){var n=En.fromDom(t.getBody()),i=En.fromDom(t.selection.getStart()),r=It(AM(n,i),jM);return Yt(r).exists(function(n){var i=Yc.fromRangeStart(t.selection.getRng());return!(!xE(e,i,n.dom)||M_(n))&&(PM(e,t,n,r),!0)})},OM=function(t,e){return!!t.selection.isCollapsed()&&IM(t,e)},RM=function(t,e,n){return t._selectionOverrides.hideFakeCaret(),ww(t,e,En.fromDom(n)),!0},BM=function(t,e){var n=e?ey:ny,i=e?Xc.Forwards:Xc.Backwards,r=Dh(i,t.getBody(),t.selection.getRng());return n(r)?RM(t,e,r.getNode(!e)):lt.from(pE(e,r)).filter(function(t){return n(t)&&Ah(r,t)}).exists(function(n){return RM(t,e,n.getNode(!e))})},LM=function(t,e){var n=t.selection.getNode();return!!ur(n)&&RM(t,e,n)},zM=function(t,e){return t.selection.isCollapsed()?BM(t,e):LM(t,e)},FM=function(t){return bo(t,function(t){return sr(t.dom)||ar(t.dom)}).exists(function(t){return sr(t.dom)})},HM=function(t){var e=parseInt(t,10);return isNaN(e)?0:e},WM=function(t,e){return(t||Uo(e)?"margin":"padding")+("rtl"===xr(e,"direction")?"-right":"-left")},UM=function(t,e,n,i,r,o){var s=WM(n,En.fromDom(o));if("outdent"===e){var a=Math.max(0,HM(o.style[s])-i);t.setStyle(o,s,a?a+r:"")}else{var a=HM(o.style[s])+i+r;t.setStyle(o,s,a)}},VM=function(t,e){return Wt(e,function(e){var n=WM(af(t),e),i=kr(e,n).map(HM).getOr(0);return"false"!==t.dom.getContentEditable(e.dom)&&i>0})},$M=function(t){var e=YM(t);return!t.mode.isReadOnly()&&(e.length>1||VM(t,e))},qM=function(t){return Xo(t)||Yo(t)},XM=function(t){return Qn(t).map(qM).getOr(!1)},YM=function(t){return It(Mt(t.selection.getSelectedBlocks(),En.fromDom),function(t){return!qM(t)&&!XM(t)&&FM(t)})},KM=function(t,e){var n=t.dom,i=t.selection,r=t.formatter,o=lf(t),s=/[a-z%]+$/i.exec(o)[0],a=parseInt(o,10),l=af(t),u=Ld(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==u||n.getParent(i.getNode(),n.isBlock)||r.apply("div"),At(YM(t),function(t){UM(n,e,l,a,s,t.dom)})},GM=function(t,e){if(t.selection.isCollapsed()&&$M(t)){var n=t.dom,i=t.selection.getRng(),r=Yc.fromRangeStart(i),o=n.getParent(i.startContainer,n.isBlock);if(null!==o&&yy(En.fromDom(o),r))return KM(t,"outdent"),!0}return!1},JM=function(t,e){t.getDoc().execCommand(e,!1,null)},QM=function(t,e){GM(t)||DN(t,!1)||lN(t,!1)||MM(t,e,!1)||WE(t,!1)||ux(t)||NN(t,!1)||zM(t,!1)||KE(t)||OM(t,!1)||(JM(t,"Delete"),wE(t))},ZM=function(t,e){DN(t,!0)||lN(t,!0)||MM(t,e,!0)||WE(t,!0)||ux(t)||NN(t,!0)||zM(t,!0)||KE(t)||OM(t,!0)||JM(t,"ForwardDelete")},tA=function(t,e){t.addCommand("delete",function(){QM(t,e)}),t.addCommand("forwardDelete",function(){ZM(t,e)})},eA=function(t){return void 0===t.touches||1!==t.touches.length?lt.none():lt.some(t.touches[0])},nA=function(t,e){var n=Math.abs(t.clientX-e.x),i=Math.abs(t.clientY-e.y);return n>5||i>5},iA=function(t){var e=hu(lt.none()),n=hu(!1),i=Nu(function(e){t.fire("longpress",ye(ye({},e),{type:"longpress"})),n.set(!0)},400);t.on("touchstart",function(t){eA(t).each(function(r){i.cancel();var o={x:r.clientX,y:r.clientY,target:t.target};i.throttle(t),n.set(!1),e.set(lt.some(o))})},!0),t.on("touchmove",function(r){i.cancel(),eA(r).each(function(i){e.get().each(function(r){nA(i,r)&&(e.set(lt.none()),n.set(!1),t.fire("longpresscancel"))})})},!0),t.on("touchend touchcancel",function(r){i.cancel(),"touchcancel"!==r.type&&e.get().filter(function(t){return t.target.isEqualNode(r.target)}).each(function(){n.get()?r.preventDefault():t.fire("tap",ye(ye({},r),{type:"tap"}))})},!0)},rA=function(t,e){return t.hasOwnProperty(e.nodeName)},oA=function(t,e){return!!tr(e)||!!$i(e)&&(!rA(t,e)&&!Ep(e))},sA=function(t,e,n){return Nt(hy(En.fromDom(n),En.fromDom(e)),function(e){return rA(t,e.dom)})},aA=function(t,e){if(tr(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||rA(t,e.nextSibling)))return!0}return!1},lA=function(t){var e,n,i,r=t.dom,o=t.selection,s=t.schema,a=s.getBlockElements(),l=o.getStart(),u=t.getBody(),c=Ld(t);if(l&&$i(l)&&c){var d=u.nodeName.toLowerCase();if(s.isValidChild(d,c.toLowerCase())&&!sA(a,u,l)){var f=o.getRng(),h=f.startContainer,p=f.startOffset,m=f.endContainer,g=f.endOffset,v=ab(t);for(l=u.firstChild;l;)if(oA(a,l)){if(aA(a,l)){n=l,l=l.nextSibling,r.remove(n);continue}e||(e=r.create(c,zd(t)),l.parentNode.insertBefore(e,l),i=!0),n=l,l=l.nextSibling,e.appendChild(n)}else e=null,l=l.nextSibling;i&&v&&(f.setStart(h,p),f.setEnd(m,g),o.setRng(f),t.nodeChanged())}}},uA=function(t){Ld(t)&&t.on("NodeChange",e(lA,t))},cA=function(t){return wo(En.fromDom(t.getBody()),"*[data-mce-caret]").fold(Q(null),function(t){return t.dom})},dA=function(t){t.selection.setRng(t.selection.getRng())},fA=function(t,e){e.hasAttribute("data-mce-caret")&&(bs(e),dA(t),t.selection.scrollIntoView(e))},hA=function(t,e){var n=cA(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void fA(t,n)):void(us(n)&&(fA(t,n),t.undoManager.add()))},pA=function(t){t.on("keyup compositionstart",e(hA,t))};!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(O_||(O_={}));var mA,gA=function(t,e){return t===Xc.Backwards?Ut(e):e},vA=function(t,e,n){return t===Xc.Forwards?e.next(n):e.prev(n)},bA=function(t,e,n,i){return rr(i.getNode(e===Xc.Forwards))?O_.Br:!1===bh(n,i)?O_.Block:O_.Wrap},yA=function(t,e,n,i){for(var r,o=Vh(n),s=i,a=[];s&&(r=vA(e,o,s));){if(rr(r.getNode(!1)))return e===Xc.Forwards?{positions:gA(e,a).concat([r]),breakType:O_.Br,breakAt:lt.some(r)}:{positions:gA(e,a),breakType:O_.Br,breakAt:lt.some(r)};if(r.isVisible()){if(t(s,r)){var l=bA(0,e,s,r);return{positions:gA(e,a),breakType:l,breakAt:lt.some(r)}}a.push(r),s=r}else s=r}return{positions:gA(e,a),breakType:O_.Eol,breakAt:lt.none()}},wA=function(t,e,n,i){return e(n,i).breakAt.map(function(i){var r=e(n,i).positions;return t===Xc.Backwards?r.concat(i):[i].concat(r)}).getOr([])},xA=function(t,e){return Rt(t,function(t,n){return t.fold(function(){return lt.some(n)},function(i){return dc(Xt(i.getClientRects()),Xt(n.getClientRects()),function(t,r){var o=Math.abs(e-t.left);return Math.abs(e-r.left)<=o?n:i}).or(t)})},lt.none())},_A=function(t,e){return Xt(e.getClientRects()).bind(function(e){return xA(t,e.left)})},kA=e(yA,S.isAbove,-1),CA=e(yA,S.isBelow,1),TA=function(t,e){return kA(t,e).breakAt.isNone()},SA=function(t,e){return CA(t,e).breakAt.isNone()},DA=e(wA,-1,kA),EA=e(wA,1,CA),NA=function(t){return rp(t).map(function(e){return[e].concat(CA(t,e).positions)}).getOr([])},MA=function(t){return op(t).map(function(e){return kA(t,e).positions.concat(e)}).getOr([])},AA=function(t){var e=function(e){return Mt(e,function(e){return e=mc(e),e.node=t,e})};if($i(t))return e(t.getClientRects());if(tr(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}},jA=function(t){return Ht(t,AA)};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(mA||(mA={}));var PA,IA,OA=function(t,e,n,i){for(;i=gh(i,t,Is,e);)if(n(i))return},RA=function(t,e,n,i,r,o){var s=0,a=[],l=function(i){var o,l,c;for(c=jA([i]),-1===t&&(c=c.reverse()),o=0;o<c.length;o++)if(l=c[o],!n(l,u)){if(a.length>0&&e(l,be(a))&&s++,l.line=s,r(l))return!0;a.push(l)}},u=be(o.getClientRects());if(!u)return a;var c=o.getNode();return l(c),OA(t,i,l,c),a},BA=function(t,e){return e.line>t},LA=function(t,e){return e.line===t},zA=e(RA,mA.Up,yc,wc),FA=e(RA,mA.Down,wc,yc),HA=function(t,e,n,i){var r,o,s,a,l,u=Vh(e),c=[],d=0,f=function(e){return be(1===t?e.getClientRects():e.getClientRects())};1===t?(r=u.next,o=wc,s=yc,a=Yc.after(i)):(r=u.prev,o=yc,s=wc,a=Yc.before(i));var h=f(a);do{if(a.isVisible()&&(l=f(a),!s(l,h))){if(c.length>0&&o(l,be(c))&&d++,l=mc(l),l.position=a,l.line=d,n(l))return c;c.push(l)}}while(a=r(a));return c},WA=function(t){return function(e){return BA(t,e)}},UA=function(t){return function(e){return LA(t,e)}},VA=ar,$A=gh,qA=function(t,e){return Math.abs(t.left-e)},XA=function(t,e){return Math.abs(t.right-e)},YA=function(t,e){return t>=e.left&&t<=e.right},KA=function(t,e){return t>=e.top&&t<=e.bottom},GA=function(t,e){return ge(t,function(t,n){var i=Math.min(qA(t,e),XA(t,e)),r=Math.min(qA(n,e),XA(n,e));return YA(e,n)?n:YA(e,t)?t:r===i&&VA(n.node)?n:r<i?n:t})},JA=function(t,e,n,i,r){var o=$A(i,t,Is,e,!r);do{if(!o||n(o))return}while(o=$A(o,t,Is,e))},QA=function(t,n,i){void 0===i&&(i=!0);var r=[],o=function(t,e){var i=It(jA([e]),function(e){return!t(e,n)});return r=r.concat(i),0===i.length};return r.push(n),JA(mA.Up,t,e(o,yc),n.node,i),JA(mA.Down,t,e(o,wc),n.node,i),r},ZA=function(t){return It(Kt(t.getElementsByTagName("*")),oh)},tj=function(t,e){return{node:t.node,before:qA(t,e)<XA(t,e)}},ej=function(t,n,i){var r=jA(ZA(t)),o=It(r,e(KA,i)),s=GA(o,n);if(s){var a=!Ji(s.node)&&!ur(s.node);if((s=GA(QA(t,s,a),n))&&oh(s.node))return tj(s,n)}return null},nj=function(t,e){t.selection.setRng(e),Jg(t,t.selection.getRng())},ij=function(t,e,n){return lt.some(nN(t,e,n))},rj=function(t,n,i,r,o,s){var a=n===Xc.Forwards,l=Vh(t.getBody()),u=e(Mh,a?l.next:l.prev),c=a?r:o;if(!i.collapsed){var d=_c(i);if(s(d))return QE(n,t,d,n===Xc.Backwards,!1)}var f=Dh(n,t.getBody(),i);if(c(f))return tN(t,f.getNode(!a));var h=pE(a,u(f)),p=ys(i);if(!h)return p?lt.some(i):lt.none();if(c(h))return QE(n,t,h.getNode(!a),a,!1);var m=u(h);return m&&c(m)&&Ah(h,m)?QE(n,t,m.getNode(!a),a,!1):p?ij(t,h.toRange(),!1):lt.none()},oj=function(t,e,n,i,r,o){var s=Dh(e,t.getBody(),n),a=be(s.getClientRects()),l=e===mA.Down;if(!a)return lt.none();var u=l?FA:zA,c=u(t.getBody(),WA(1),s),d=It(c,UA(1)),f=a.left,h=GA(d,f);if(h&&o(h.node)){var p=Math.abs(f-h.left),m=Math.abs(f-h.right);return QE(e,t,h.node,p<m,!1)}var g;if(g=i(s)?s.getNode():r(s)?s.getNode(!0):_c(n)){var v=HA(e,t.getBody(),WA(1),g),b=GA(It(v,UA(1)),f);if(b)return ij(t,b.position.toRange(),!1);if(b=be(It(v,UA(0))))return ij(t,b.position.toRange(),!1)}return 0===d.length?sj(t,l).filter(l?r:i).map(function(e){return nN(t,e.toRange(),!1)}):lt.none()},sj=function(t,e){var n=t.selection.getRng(),i=t.getBody();if(e){var r=Yc.fromRangeEnd(n),o=CA(i,r);return Yt(o.positions)}var r=Yc.fromRangeStart(n),o=kA(i,r);return Xt(o.positions)},aj=function(t,e,n){return sj(t,e).filter(n).exists(function(e){return t.selection.setRng(e.toRange()),!0})},lj=ar,uj=function(t,e,n){return rj(e,t,n,oy,sy,lj)},cj=function(t,e,n){return oj(e,t,n,function(t){return oy(t)||iy(t)},function(t){return sy(t)||ry(t)},lj)},dj=function(t){var e=t.dom.create(Ld(t));return(!un.ie||un.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e},fj=function(t,n,i){var r=Vh(t.getBody()),o=e(Mh,1===n?r.next:r.prev);if(i.collapsed&&Mf(t)){var s=t.dom.getParent(i.startContainer,"PRE");if(!s)return;if(!o(Yc.fromRangeStart(i))){var a=dj(t);1===n?t.$(s).after(a):t.$(s).before(a),t.selection.select(a,!0),t.selection.collapse()}}},hj=function(t,e){var n=e?Xc.Forwards:Xc.Backwards,i=t.selection.getRng();return uj(n,t,i).orThunk(function(){return fj(t,n,i),lt.none()})},pj=function(t,e){var n=e?1:-1,i=t.selection.getRng();return cj(n,t,i).orThunk(function(){return fj(t,n,i),lt.none()})},mj=function(t,e){return hj(t,e).exists(function(e){return nj(t,e),!0})},gj=function(t,e){return pj(t,e).exists(function(e){return nj(t,e),!0})},vj=function(t,e){return aj(t,e,e?sy:oy)},bj=function(t){return Et(["figcaption"],Fn(t))},yj=function(t){var e=document.createRange();return e.setStartBefore(t.dom),e.setEndBefore(t.dom),e},wj=function(t,e,n){n?ki(t,e):_i(t,e)},xj=function(t,e){var n=En.fromTag("br");return wj(t,n,e),yj(n)},_j=function(t,e,n,i){var r=En.fromTag(n),o=En.fromTag("br");return hr(r,i),ki(r,o),wj(t,r,e),yj(o)},kj=function(t,e,n,i){return""===e?xj(t,i):_j(t,i,e,n)},Cj=function(t,n){var i=e(Rn,n);return bo(En.fromDom(t.container()),Wo,i).filter(bj)},Tj=function(t,e,n){return e?SA(t.dom,n):TA(t.dom,n)},Sj=function(t,e){var n=En.fromDom(t.getBody()),i=Yc.fromRangeStart(t.selection.getRng()),r=Ld(t),o=zd(t);return Cj(i,n).exists(function(){if(Tj(n,e,i)){var s=kj(n,r,o,e);return t.selection.setRng(s),!0}return!1})},Dj=function(t,e){return!!t.selection.isCollapsed()&&Sj(t,e)},Ej=function(t){return Mt(t,function(t){return ye({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:K},t)})},Nj=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},Mj=function(t,e){return Ht(Ej(t),function(t){return Nj(t,e)?[t]:[]})},Aj=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(null,e)}},jj=function(t,e){return Lt(Mj(t,e),function(t){return t.action()})},Pj=function(t,e){var n=e?Xc.Forwards:Xc.Backwards,i=t.selection.getRng();return rj(t,n,i,ey,ny,ur).exists(function(e){return nj(t,e),!0})},Ij=function(t,e){var n=e?1:-1,i=t.selection.getRng();return oj(t,n,i,ey,ny,ur).exists(function(e){return nj(t,e),!0})},Oj=function(t,e){return aj(t,e,e?ny:ey)},Rj=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}},Bj=function(t,e){return Ht(e,function(e){var n=Rj(mc(e.getBoundingClientRect()),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]})},Lj=function(t,e,n){return Rt(t,function(t,i){return t.fold(function(){return lt.some(i)},function(t){var r=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),o=Math.sqrt(Math.abs(i.x-e)+Math.abs(i.y-n));return lt.some(o<r?i:t)})},lt.none())},zj=function(t,e,n,i,r){var o=Wu(En.fromDom(n),"td,th,caption").map(function(t){return t.dom}),s=It(Bj(t,o),function(t){return e(t,r)});return Lj(s,i,r).map(function(t){return t.cell})},Fj=function(t){return t.bottom},Hj=function(t){return t.top},Wj=function(t,e){return t.y<e},Uj=function(t,e){return t.y>e},Vj=e(zj,Fj,Wj),$j=e(zj,Hj,Uj),qj=function(t,e){return Xt(e.getClientRects()).bind(function(e){return Vj(t,e.left,e.top)}).bind(function(t){return _A(MA(t),e)})},Xj=function(t,e){return Yt(e.getClientRects()).bind(function(e){return $j(t,e.left,e.top)}).bind(function(t){return _A(NA(t),e)})},Yj=function(t,e,n){return n.breakAt.exists(function(n){return t(e,n).breakAt.isSome()})},Kj=function(t){return t.breakType===O_.Wrap&&0===t.positions.length},Gj=function(t){return t.breakType===O_.Br&&1===t.positions.length},Jj=function(t,e,n){var i=t(e,n);return Kj(i)||!rr(n.getNode())&&Gj(i)?!Yj(t,e,i):i.breakAt.isNone()},Qj=e(Jj,kA),Zj=e(Jj,CA),tP=function(t,e,n){var i=Yc.fromRangeStart(e);return ep(!t,n).exists(function(t){return t.isEqual(i)})},eP=function(t,e,n,i){var r=t.selection.getRng(),o=e?1:-1;return!(!ih()||!tP(e,r,n))&&(QE(o,t,n,!e,!1).each(function(e){nj(t,e)}),!0)},nP=function(t,e,n){return qj(e,n).orThunk(function(){return Xt(n.getClientRects()).bind(function(n){return xA(DA(t,Yc.before(e)),n.left)})}).getOr(Yc.before(e))},iP=function(t,e,n){return Xj(e,n).orThunk(function(){return Xt(n.getClientRects()).bind(function(n){return xA(EA(t,Yc.after(e)),n.left)})}).getOr(Yc.after(e))},rP=function(t,e){var n=e.getNode(t);return $i(n)&&"TABLE"===n.nodeName?lt.some(n):lt.none()},oP=function(t,e,n,i){var r=Ld(e);r?e.undoManager.transact(function(){var i=En.fromTag(r);hr(i,zd(e)),ki(i,En.fromTag("br")),t?xi(En.fromDom(n),i):wi(En.fromDom(n),i);var o=e.dom.createRng();o.setStart(i.dom,0),o.setEnd(i.dom,0),nj(e,o)}):nj(e,i.toRange())},sP=function(t,e,n){var i=!1===e;(e?rP(!0,n):rP(!1,n)).fold(function(){return nj(t,n.toRange())},function(r){return ep(i,t.getBody()).filter(function(t){return t.isEqual(n)}).fold(function(){return nj(t,n.toRange())},function(i){return oP(e,t,r,n)})})},aP=function(t,e,n,i){var r=t.selection.getRng(),o=Yc.fromRangeStart(r),s=t.getBody();if(!e&&Qj(i,o)){var a=nP(s,n,o);return sP(t,e,a),!0}if(e&&Zj(i,o)){var a=iP(s,n,o);return sP(t,e,a),!0}return!1},lP=function(t,e,n){return lt.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(i){return lt.from(t.dom.getParent(i,"table")).map(function(r){return n(t,e,r,i)})}).getOr(!1)},uP=function(t,e){return lP(t,e,eP)},cP=function(t,e){return lP(t,e,aP)},dP=function(t,e,n){var i=Ze().os;jj([{keyCode:Jm.RIGHT,action:Aj(mj,t,!0)},{keyCode:Jm.LEFT,action:Aj(mj,t,!1)},{keyCode:Jm.UP,action:Aj(gj,t,!1)},{keyCode:Jm.DOWN,action:Aj(gj,t,!0)},{keyCode:Jm.RIGHT,action:Aj(uP,t,!0)},{keyCode:Jm.LEFT,action:Aj(uP,t,!1)},{keyCode:Jm.UP,action:Aj(cP,t,!1)},{keyCode:Jm.DOWN,action:Aj(cP,t,!0)},{keyCode:Jm.RIGHT,action:Aj(Pj,t,!0)},{keyCode:Jm.LEFT,action:Aj(Pj,t,!1)},{keyCode:Jm.UP,action:Aj(Ij,t,!1)},{keyCode:Jm.DOWN,action:Aj(Ij,t,!0)},{keyCode:Jm.RIGHT,action:Aj(yM,t,e,!0)},{keyCode:Jm.LEFT,action:Aj(yM,t,e,!1)},{keyCode:Jm.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Aj(_M,t,e)},{keyCode:Jm.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Aj(kM,t,e)},{keyCode:Jm.UP,action:Aj(Dj,t,!1)},{keyCode:Jm.DOWN,action:Aj(Dj,t,!0)}],n).each(function(t){n.preventDefault()})},fP=function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&dP(t,e,n)})},hP=function(t,e,n){jj([{keyCode:Jm.BACKSPACE,action:Aj(GM,t,!1)},{keyCode:Jm.BACKSPACE,action:Aj(DN,t,!1)},{keyCode:Jm.DELETE,action:Aj(DN,t,!0)},{keyCode:Jm.BACKSPACE,action:Aj(lN,t,!1)},{keyCode:Jm.DELETE,action:Aj(lN,t,!0)},{keyCode:Jm.BACKSPACE,action:Aj(MM,t,e,!1)},{keyCode:Jm.DELETE,action:Aj(MM,t,e,!0)},{keyCode:Jm.BACKSPACE,action:Aj(ux,t,!1)},{keyCode:Jm.DELETE,action:Aj(ux,t,!0)},{keyCode:Jm.BACKSPACE,action:Aj(NN,t,!1)},{keyCode:Jm.DELETE,action:Aj(NN,t,!0)},{keyCode:Jm.BACKSPACE,action:Aj(zM,t,!1)},{keyCode:Jm.DELETE,action:Aj(zM,t,!0)},{keyCode:Jm.BACKSPACE,action:Aj(KE,t,!1)},{keyCode:Jm.DELETE,action:Aj(KE,t,!0)},{keyCode:Jm.BACKSPACE,action:Aj(WE,t,!1)},{keyCode:Jm.DELETE,action:Aj(WE,t,!0)},{keyCode:Jm.BACKSPACE,action:Aj(OM,t,!1)},{keyCode:Jm.DELETE,action:Aj(OM,t,!0)}],n).each(function(t){n.preventDefault()})},pP=function(t,e){jj([{keyCode:Jm.BACKSPACE,action:Aj(SN,t)},{keyCode:Jm.DELETE,action:Aj(SN,t)}],e)},mP=function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&hP(t,e,n)}),t.on("keyup",function(e){!1===e.isDefaultPrevented()&&pP(t,e)})},gP=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}},vP=function(t,e){var n,i=e,r=t.dom,o=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var s=gP(e.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&e.insertBefore(r.doc.createTextNode(" "),e.firstChild)}var a=r.createRng();if(e.normalize(),e.hasChildNodes()){for(var l=new Ao(e,e);n=l.current();){if(tr(n)){a.setStart(n,0),a.setEnd(n,0);break}if(o[n.nodeName.toLowerCase()]){a.setStartBefore(n),a.setEndBefore(n);break}i=n,n=l.next()}n||(a.setStart(i,0),a.setEnd(i,0))}else rr(e)?e.nextSibling&&r.isBlock(e.nextSibling)?(a.setStartBefore(e),a.setEndBefore(e)):(a.setStartAfter(e),a.setEndAfter(e)):(a.setStart(e,0),a.setEnd(e,0));t.selection.setRng(a),Jg(t,a)}},bP=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},yP=function(t){return lt.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},wP=function(t){return yP(t).fold(Q(""),function(t){return t.nodeName.toUpperCase()})},xP=function(t){return yP(t).filter(function(t){return Yo(En.fromDom(t))}).isSome()},_P=function(t,e){return t.firstChild&&t.firstChild.nodeName===e},kP=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},CP=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},TP=function(t){return CP(t)&&CP(t.parentNode)},SP=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},DP=function(t,e,n){for(var i=t[n?"firstChild":"lastChild"];i&&!$i(i);)i=i[n?"nextSibling":"previousSibling"];return i===e},EP=function(t,e,n,i,r){var o=t.dom,s=t.selection.getRng();if(n!==t.getBody()){TP(n)&&(r="LI");var a=r?e(r):o.create("BR");if(DP(n,i,!0)&&DP(n,i,!1))kP(n,"LI")?o.insertAfter(a,SP(n)):o.replace(a,n);else if(DP(n,i,!0))kP(n,"LI")?(o.insertAfter(a,SP(n)),a.appendChild(o.doc.createTextNode(" ")),a.appendChild(n)):n.parentNode.insertBefore(a,n);else if(DP(n,i,!1))o.insertAfter(a,SP(n));else{n=SP(n);var l=s.cloneRange();l.setStartAfter(i),l.setEndAfter(n);var u=l.extractContents();"LI"===r&&_P(u,"LI")?(a=u.firstChild,o.insertAfter(u,n)):(o.insertAfter(u,n),o.insertAfter(a,n))}o.remove(i),vP(t,a)}},NP=function(t){At(Hu(En.fromDom(t),$n),function(t){var e=t.dom;e.nodeValue=is(e.nodeValue)})},MP=function(t,e){return e&&"A"===e.nodeName&&t.isEmpty(e)},AP=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},jP=function(t){t.innerHTML='<br data-mce-bogus="1">'},PP=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},IP=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},OP=function(t,e,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(t.isBlock(r))return;$i(r)&&!e[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)r=o[i],!r.hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?t.remove(r):MP(t,r)&&t.remove(r)}},RP=function(t,e,n){return!1===tr(e)?n:t?1===n&&e.data.charAt(n-1)===es?0:n:n===e.data.length-1&&e.data.charAt(n)===es?e.data.length:n},BP=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,RP(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,RP(!1,t.endContainer,t.endOffset)),e},LP=function(t){do{tr(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)},zP=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},FP=function(t,e,n){var i=t.dom;lt.from(n.style).map(i.parseStyle).each(function(t){var n=Cr(En.fromDom(e)),r=ye(ye({},n),t);i.setStyles(e,r)});var o=lt.from(n.class).map(function(t){return t.split(/\s+/)}),s=lt.from(e.className).map(function(t){return It(t.split(/\s+/),function(t){return""!==t})});dc(o,s,function(t,n){var o=It(n,function(e){return!Et(t,e)}),s=r(t,o);i.setAttrib(e,"class",s.join(" "))});var a=["style","class"],l=re(n,function(t,e){return!Et(a,e)});i.setAttribs(e,l)},HP=function(t,e){var n=Ld(t);if(n&&n.toLowerCase()===e.tagName.toLowerCase()){var i=zd(t);FP(t,e,i)}},WP=function(t,e,n,i,r){var o,s,a,l,u,c,d=e||"P",f=t.dom,h=zP(f,i);if(!(s=f.getParent(i,f.isBlock))||!IP(f,s)){if(s=s||h,c=s===t.getBody()||AP(s)?s.nodeName.toLowerCase():s.parentNode.nodeName.toLowerCase(),!s.hasChildNodes())return o=f.create(d),HP(t,o),s.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!==s;)l=l.parentNode;for(;l&&!f.isBlock(l);)a=l,l=l.previousSibling;if(a&&t.schema.isValidChild(c,d.toLowerCase())){for(o=f.create(d),HP(t,o),a.parentNode.insertBefore(o,a),l=a;l&&!f.isBlock(l);)u=l.nextSibling,o.appendChild(l),l=u;n.setStart(i,r),n.setEnd(i,r)}}return i},UP=function(t,e){e.normalize();var n=e.lastChild;n&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")},VP=function(t,e){var n,i,r,o,s,a,l,u,c,d,f=t.dom,h=t.schema,p=h.getNonEmptyElements(),m=t.selection.getRng(),g=function(e){var n,r,s,a=i,l=h.getTextInlineElements();if(n=e||"TABLE"===u||"HR"===u?f.create(e||c):o.cloneNode(!1),s=n,!1===Wd(t))f.setAttrib(n,"style",null),f.setAttrib(n,"class",null);else do{if(l[a.nodeName]){if(sp(a)||Ep(a))continue;r=a.cloneNode(!1),f.setAttrib(r,"id",""),n.hasChildNodes()?(r.appendChild(n.firstChild),n.appendChild(r)):(s=r,n.appendChild(r))}}while((a=a.parentNode)&&a!==x);return HP(t,n),jP(s),n},v=function(t){var e,n,s=RP(t,i,r);if(tr(i)&&(t?s>0:s<i.nodeValue.length))return!1;if(i.parentNode===o&&d&&!t)return!0;if(t&&$i(i)&&i===o.firstChild)return!0;if(PP(i,"TABLE")||PP(i,"HR"))return d&&!t||!d&&t;var a=new Ao(i,o);for(tr(i)&&(t&&0===s?a.prev():t||s!==i.nodeValue.length||a.next());e=a.current();){if($i(e)){if(!e.getAttribute("data-mce-bogus")&&(n=e.nodeName.toLowerCase(),p[n]&&"br"!==n))return!1}else if(tr(e)&&!Rs(e.nodeValue))return!1;t?a.prev():a.next()}return!0},b=function(){s=/^(H[1-6]|PRE|FIGURE)$/.test(u)&&"HGROUP"!==_?g(c):g(),Ud(t)&&IP(f,l)&&f.isEmpty(o)?s=f.split(l,o):f.insertAfter(s,o),vP(t,s)};vg(f,m).each(function(t){m.setStart(t.startContainer,t.startOffset),m.setEnd(t.endContainer,t.endOffset)}),i=m.startContainer,r=m.startOffset,c=Ld(t);var y=!(!e||!e.shiftKey),w=!(!e||!e.ctrlKey);$i(i)&&i.hasChildNodes()&&(d=r>i.childNodes.length-1,i=i.childNodes[Math.min(r,i.childNodes.length-1)]||i,r=d&&tr(i)?i.nodeValue.length:0);var x=zP(f,i);if(x){(c&&!y||!c&&y)&&(i=WP(t,c,m,i,r)),o=f.getParent(i,f.isBlock),l=o?f.getParent(o.parentNode,f.isBlock):null,u=o?o.nodeName.toUpperCase():"";var _=l?l.nodeName.toUpperCase():"";if("LI"!==_||w||(o=l,l=l.parentNode,u=_),/^(LI|DT|DD)$/.test(u)&&f.isEmpty(o))return void EP(t,g,l,o,c);c&&o===t.getBody()||(c=c||"P",ss(o)?(s=bs(o),f.isEmpty(o)&&jP(o),HP(t,s),vP(t,s)):v()?b():v(!0)?(s=o.parentNode.insertBefore(g(),o),vP(t,PP(o,"HR")?s:o)):(n=BP(m).cloneRange(),n.setEndAfter(o),a=n.extractContents(),NP(a),LP(a),s=a.firstChild,f.insertAfter(a,o),OP(f,p,s),UP(f,o),f.isEmpty(o)&&jP(o),s.normalize(),f.isEmpty(s)?(f.remove(s),b()):(HP(t,s),vP(t,s))),f.setAttrib(s,"id",""),t.fire("NewBlock",{newBlock:s}))}},$P=function(t,e,n){for(var i,r=new Ao(e,n),o=t.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||i.length>0)return!0},qP=function(t,e,n){var i=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),e.scrollIntoView(i),t.remove(i)},XP=function(t,e,n,i){var r=t.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.setRng(r)},YP=function(t,e){var n,i,r=t.selection,o=t.dom,s=r.getRng();vg(o,s).each(function(t){s.setStart(t.startContainer,t.startOffset),s.setEnd(t.endContainer,t.endOffset)});var a=s.startOffset,l=s.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=u&&3===l.nodeType?l.nodeValue.length:0}var c=o.getParent(l,o.isBlock),d=c?o.getParent(c.parentNode,o.isBlock):null,f=d?d.nodeName.toUpperCase():"",h=!(!e||!e.ctrlKey);"LI"!==f||h||(c=d),l&&3===l.nodeType&&a>=l.nodeValue.length&&($P(t.schema,l,c)||(n=o.create("br"),s.insertNode(n),s.setStartAfter(n),s.setEndAfter(n),i=!0)),n=o.create("br"),Qc(o,s,n),qP(o,r,n),XP(o,r,n,i),t.undoManager.add()},KP=function(t,e){var n=En.fromTag("br");wi(En.fromDom(e),n),t.undoManager.add()},GP=function(t,e){QP(t.getBody(),e)||xi(En.fromDom(e),En.fromTag("br"));var n=En.fromTag("br");xi(En.fromDom(e),n),qP(t.dom,t.selection,n.dom),XP(t.dom,t.selection,n.dom,!1),t.undoManager.add()},JP=function(t){return rr(t.getNode())},QP=function(t,e){return!!JP(Yc.after(e))||np(t,Yc.after(e)).map(function(t){return rr(t.getNode())}).getOr(!1)},ZP=function(t){return t&&"A"===t.nodeName&&"href"in t},tI=function(t){return t.fold(nt,ZP,ZP,nt)},eI=function(t){var n=e(lE,t),i=Yc.fromRangeStart(t.selection.getRng());return QN(n,t.getBody(),i).filter(tI)},nI=function(t,n){n.fold(K,e(KP,t),e(GP,t),K)},iI=function(t,n){var i=eI(t);i.isSome()?i.each(e(nI,t)):YP(t,n)},rI=function(t,e){return yP(t).filter(function(t){return e.length>0&&jn(En.fromDom(t),e)}).isSome()},oI=function(t){return rI(t,Fd(t))},sI=function(t){return rI(t,Hd(t))},aI=mo.generate([{br:[]},{block:[]},{none:[]}]),lI=function(t,e){return sI(t)},uI=function(t){return function(e,n){return""===Ld(e)===t}},cI=function(t){return function(e,n){return xP(e)===t}},dI=function(t,e){return function(n,i){return wP(n)===t.toUpperCase()===e}},fI=function(t){return dI("pre",t)},hI=function(){return dI("summary",!0)},pI=function(t){return function(e,n){return Bd(e)===t}},mI=function(t,e){return oI(t)},gI=function(t,e){return e},vI=function(t){var e=Ld(t),n=bP(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},bI=function(t,e){return function(n,i){return Rt(t,function(t,e){return t&&e(n,i)},!0)?lt.some(e):lt.none()}},yI=function(t,e){return WN([bI([lI],aI.none()),bI([hI()],aI.br()),bI([fI(!0),pI(!1),gI],aI.br()),bI([fI(!0),pI(!1)],aI.block()),bI([fI(!0),pI(!0),gI],aI.block()),bI([fI(!0),pI(!0)],aI.br()),bI([cI(!0),gI],aI.br()),bI([cI(!0)],aI.block()),bI([uI(!0),gI,vI],aI.block()),bI([uI(!0)],aI.br()),bI([mI],aI.br()),bI([uI(!1),gI],aI.br()),bI([vI],aI.block())],[t,!(!e||!e.shiftKey)]).getOr(aI.none())},wI=function(t,e){yI(t,e).fold(function(){iI(t,e)},function(){VP(t,e)},K)},xI=function(t,e){e.isDefaultPrevented()||(e.preventDefault(),TC(t.undoManager),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),wI(t,e)}))},_I=function(t){t.on("keydown",function(e){e.keyCode===Jm.ENTER&&xI(t,e)})},kI=function(t,e){jj([{keyCode:Jm.END,action:Aj(vj,t,!0)},{keyCode:Jm.HOME,action:Aj(vj,t,!1)},{keyCode:Jm.END,action:Aj(Oj,t,!0)},{keyCode:Jm.HOME,action:Aj(Oj,t,!1)}],e).each(function(t){e.preventDefault()})},CI=function(t){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&kI(t,e)})},TI=Ze().browser,SI=function(t){var e=Eu(function(){t.composing||Gy(t)},0);TI.isIE()&&(t.on("keypress",function(t){e.throttle()}),t.on("remove",function(t){e.cancel()}))},DI=function(t){SI(t),t.on("input",function(e){!1===e.isComposing&&Gy(t)})},EI=function(t,e){var n=e.container(),i=e.offset();return tr(n)?(n.insertData(i,t),lt.some(S(n,i+t.length))):Eh(e).map(function(n){var i=En.fromText(t);return e.isAtEnd()?xi(n,i):wi(n,i),S(i.dom,t.length)})},NI=e(EI," "),MI=e(EI," "),AI=function(t){return function(e){return e.fold(function(e){return ip(t.dom,Yc.before(e))},function(t){return rp(t)},function(t){return op(t)},function(e){return np(t.dom,Yc.after(e))})}},jI=function(t,e){return function(n){return Ly(t,n)?NI(e):MI(e)}},PI=function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}},II=function(t){var n=Yc.fromRangeStart(t.selection.getRng()),i=En.fromDom(t.getBody());if(t.selection.isCollapsed()){var r=e(lE,t),o=Yc.fromRangeStart(t.selection.getRng());return QN(r,t.getBody(),o).bind(AI(i)).bind(jI(i,n)).exists(PI(t))}return!1},OI=function(t,e){jj([{keyCode:Jm.SPACEBAR,action:Aj(II,t)}],e).each(function(t){e.preventDefault()})},RI=function(t){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&OI(t,e)})},BI=function(t){var e=xM(t);return pA(t),fP(t,e),mP(t,e),_I(t),RI(t),DI(t),CI(t),e},LI=function(t){return UC(t)?hu(null):BI(t)},zI=function(){function t(t){this.lastPath=[],this.editor=t;var e,n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(n){var i=t.selection.getRng(),r={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};"nodechange"!==n.type&&og(r,e)||t.fire("SelectionChange"),e=r}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var e=t.selection.getStart(!0);!e||!un.range&&t.selection.isCollapsed()||Cm(t)&&!n.isSameElementPath(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(e){!e.isDefaultPrevented()&&Cm(t)&&("IMG"===t.selection.getNode().nodeName?No.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}return t.prototype.nodeChanged=function(t){var e,n,i,r=this.editor.selection;this.editor.initialized&&r&&!jf(this.editor)&&!this.editor.mode.isReadOnly()&&(i=this.editor.getBody(),e=r.getStart(!0)||i,e.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,i)||(e=i),n=[],this.editor.dom.getParent(e,function(t){if(t===i)return!0;n.push(t)}),t=t||{},t.element=e,t.parents=n,this.editor.fire("NodeChange",t))},t.prototype.isSameElementPath=function(t){var e,n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(n.length===this.lastPath.length){for(e=n.length;e>=0&&n[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},t}(),FI=function(t){t.on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})},HI=function(t){t.parser.addNodeFilter("details",function(t){At(t,function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")})}),t.serializer.addNodeFilter("details",function(t){At(t,function(t){var e=t.attr("data-mce-open");t.attr("open",ht(e)?e:null),t.attr("data-mce-open",null)})})},WI=function(t){FI(t),HI(t)},UI=function(t){return $i(t)&&qo(En.fromDom(t))},VI=function(t){var e=t.selection.getRng(),n=S.fromRangeStart(e),i=S.fromRangeEnd(e);if(S.isElementPosition(n)){var r=n.container();UI(r)&&rp(r).each(function(t){return e.setStart(t.container(),t.offset())})}if(S.isElementPosition(i)){var r=n.container();UI(r)&&op(r).each(function(t){return e.setEnd(t.container(),t.offset())})}t.selection.setRng(fx(e))},$I=function(t){t.on("click",function(e){e.detail>=3&&VI(t)})},qI=function(){var t=hu(lt.none());return{clear:function(){return t.set(lt.none())},set:function(e){return t.set(lt.some(e))},isSet:function(){return t.get().isSome()},on:function(e){return t.get().each(e)}}},XI=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.documentElement,r=n.defaultView;return{top:e.top+r.pageYOffset-i.clientTop,left:e.left+r.pageXOffset-i.clientLeft}},YI=function(t){return t.inline?XI(t.getBody()):{left:0,top:0}},KI=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},GI=function(t){var e=t.getBody(),n=t.getDoc().documentElement,i={left:e.scrollLeft,top:e.scrollTop},r={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?i:r},JI=function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=XI(t.getContentAreaContainer()),i=GI(t);return{left:e.pageX-n.left+i.left,top:e.pageY-n.top+i.top}}return{left:e.pageX,top:e.pageY}},QI=function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}},ZI=function(t,e){return QI(YI(t),KI(t),JI(t,e))},tO=ar,eO=sr,nO=function(t,e){return tO(e)&&e!==t},iO=function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!tO(e)},rO=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},oO=function(t,e,n,i){var r=t.dom,o=e.cloneNode(!0);r.setStyles(o,{width:n,height:i}),r.setAttrib(o,"data-mce-selected",null);var s=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return r.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),r.setStyles(o,{margin:0,boxSizing:"border-box"}),s.appendChild(o),s},sO=function(t,e){t.parentNode!==e&&e.appendChild(t)},aO=function(t,e,n,i,r,o){var s=0,a=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>r&&(s=e.pageX+n-r),e.pageY+i>o&&(a=e.pageY+i-o),t.style.width=n-s+"px",t.style.height=i-a+"px"},lO=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},uO=function(t){return 0===t.button},cO=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},dO=function(t,e){return function(n){if(uO(n)){var i=Lt(e.dom.getParents(n.target),Sc(tO,eO)).getOr(null);if(nO(e.getBody(),i)){var r=e.dom.getPos(i),o=e.getBody(),s=e.getDoc().documentElement;t.set({element:i,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(e.inline?o.scrollWidth:s.offsetWidth)-2,maxY:(e.inline?o.scrollHeight:s.offsetHeight)-2,relX:n.pageX-r.x,relY:n.pageY-r.y,width:i.offsetWidth,height:i.offsetHeight,ghost:oO(e,i,i.offsetWidth,i.offsetHeight)})}}}},fO=function(t,e){var n=No.throttle(function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)},0);return function(i){return t.on(function(t){var r=Math.max(Math.abs(i.screenX-t.screenX),Math.abs(i.screenY-t.screenY));if(!t.dragging&&r>10){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var o=cO(t,ZI(e,i));sO(t.ghost,e.getBody()),aO(t.ghost,o,t.width,t.height,t.maxX,t.maxY),n(i.clientX,i.clientY)}})}},hO=function(t){var e=t.getSel().getRangeAt(0),n=e.startContainer;return 3===n.nodeType?n.parentNode:n},pO=function(t,e){return function(n){t.on(function(t){if(t.dragging&&iO(e,hO(e.selection),t.element)){var i=rO(t.element);e.fire("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||e.undoManager.transact(function(){lO(t.element),e.insertContent(e.dom.getOuterHTML(i)),e._selectionOverrides.hideFakeCaret()})}}),gO(t)}},mO=function(t,e){return function(){t.on(function(t){t.dragging&&e.fire("dragend")}),gO(t)}},gO=function(t){t.on(function(t){lO(t.ghost)}),t.clear()},vO=function(t){var e=qI(),n=lu.DOM,i=document,r=dO(e,t),o=fO(e,t),s=pO(e,t),a=mO(e,t);t.on("mousedown",r),t.on("mousemove",o),t.on("mouseup",s),n.bind(i,"mousemove",o),n.bind(i,"mouseup",a),t.on("remove",function(){n.unbind(i,"mousemove",o),n.unbind(i,"mouseup",a)})},bO=function(t){t.on("drop",function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(tO(n)||"false"===t.dom.getContentEditableParent(n))&&e.preventDefault()})},yO=function(t){var e=function(e){if(!e.defaultPrevented){var n=e.dataTransfer;n&&(Et(n.types,"Files")||n.files.length>0)&&(e.preventDefault(),"drop"===e.type&&bD(t,"Dropped file type is not supported"))}},n=function(n){Xv(t,n.target)&&e(n)},i=function(){var i=lu.DOM,r=t.dom,o=document,s=t.inline?t.getBody():t.getDoc(),a=["drop","dragover"];At(a,function(t){i.bind(o,t,n),r.bind(s,t,e)}),t.on("remove",function(){At(a,function(t){i.unbind(o,t,n),r.unbind(s,t,e)})})};t.on("init",function(){No.setEditorTimeout(t,i,0)})},wO=function(t){vO(t),bO(t),Bf(t)&&yO(t)},xO=function(t){var e=Eu(function(){if(!t.removed&&t.getBody().contains(document.activeElement)){var e=t.selection.getRng();if(e.collapsed){var n=nN(t,e,!1);t.selection.setRng(n)}}},0);t.on("focus",function(){e.throttle()}),t.on("blur",function(){e.cancel()})},_O=function(t){t.on("init",function(){t.on("focusin",function(e){var n=e.target;if(ur(n)){var i=Bm(t.getBody(),n),r=ar(i)?i:n;t.selection.getNode()!==r&&tN(t,r).each(function(e){return t.selection.setRng(e)})}})})},kO=sr,CO=ar,TO=function(t,e){return Bm(t.getBody(),e)},SO=function(t){var e,n=t.selection,i=t.dom,r=i.isBlock,o=t.getBody(),s=nh(t,o,r,function(){return ab(t)}),a="sel-"+i.uniqueId(),l=function(t){return i.hasClass(t,"mce-offscreen-selection")},u=function(t){return CO(t)||ur(t)},c=function(t){return oy(t)||sy(t)||ey(t)||ny(t)},d=function(){var t=i.get(a);return t?t.getElementsByTagName("*")[0]:t},f=function(t){t&&n.setRng(t)},h=n.getRng,p=function(e,i,r,o){return void 0===o&&(o=!0),t.fire("ShowCaret",{target:i,direction:e,before:r}).isDefaultPrevented()?null:(o&&n.scrollIntoView(i,-1===e),s.show(r,i))},m=function(t){t.hasAttribute("data-mce-caret")&&(bs(t),f(h()),n.scrollIntoView(t))},g=function(t){return ls(t)||ms(t)||gs(t)},v=function(t){return g(t.startContainer)||g(t.endContainer)},b=function(e){var n=t.schema.getShortEndedElements(),r=i.createRng(),o=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset;return le(n,o.nodeName.toLowerCase())?0===s?r.setStartBefore(o):r.setStartAfter(o):r.setStart(o,s),le(n,a.nodeName.toLowerCase())?0===l?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,l),r},y=function(e,r,o){var s=t.$,l=wo(En.fromDom(t.getBody()),"#"+a).fold(function(){return s([])},function(t){return s([t.dom])});0===l.length&&(l=s('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",a),l.appendTo(t.getBody()));var u=i.createRng();r===o&&un.ie?(l.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(r),u.setStartAfter(l[0].firstChild.firstChild),u.setEndAfter(r)):(l.empty().append(" ").append(r).append(" "),u.setStart(l[0].firstChild,1),u.setEnd(l[0].lastChild,0)),l.css({top:i.getPos(e,t.getBody()).y}),l[0].focus();var c=n.getSel();return c.removeAllRanges(),c.addRange(u),u},w=function(n){var r=n.cloneNode(!0),o=t.fire("ObjectSelected",{target:n,targetClone:r});if(o.isDefaultPrevented())return null;var s=y(n,o.targetClone,r),a=En.fromDom(n);return At(Wu(En.fromDom(t.getBody()),"*[data-mce-selected]"),function(t){Rn(a,t)||vr(t,"data-mce-selected")}),i.getAttrib(n,"data-mce-selected")||n.setAttribute("data-mce-selected","1"),e=n,C(),s},x=function(t,e){if(!t)return null;if(t.collapsed){if(!v(t)){var n=e?1:-1,r=Dh(n,o,t),s=r.getNode(!e);if(oh(s))return p(n,s,!!e&&!r.isAtEnd(),!1);var a=r.getNode(e);if(oh(a))return p(n,a,!e&&!r.isAtEnd(),!1)}return null}var l=t.startContainer,c=t.startOffset,d=t.endOffset;if(3===l.nodeType&&0===c&&CO(l.parentNode)&&(l=l.parentNode,c=i.nodeIndex(l),l=l.parentNode),1!==l.nodeType)return null;if(d===c+1&&l===t.endContainer){var f=l.childNodes[c];if(u(f))return w(f)}return null},_=function(){e&&e.removeAttribute("data-mce-selected"),wo(En.fromDom(t.getBody()),"#"+a).each(Ei),e=null},k=function(){s.destroy(),e=null},C=function(){s.hide()};return un.ceFalse&&function(){t.on("mouseup",function(e){var n=h();n.collapsed&&dD(t,e.clientX,e.clientY)&&eN(t,n,!1).each(f)}),t.on("click",function(e){var r=TO(t,e.target);r&&(CO(r)&&(e.preventDefault(),t.focus()),kO(r)&&i.isChildOf(r,n.getNode())&&_())}),t.on("blur NewBlock",_),t.on("ResizeWindow FullscreenStateChanged",s.reposition);var a=function(t){var e=Vh(t);if(!t.firstChild)return!1;var n=Yc.before(t.firstChild),i=e.next(n);return i&&!c(i)},m=function(t,e){return i.getParent(t,r)===i.getParent(e,r)},g=function(e,n){var o=i.getParent(e,r),s=i.getParent(n,r);return!(!o||e===s||!i.isChildOf(o,s)||!1!==CO(TO(t,o)))||o&&!m(o,s)&&a(o)};t.on("tap",function(e){var n=e.target,i=TO(t,n);CO(i)?(e.preventDefault(),tN(t,i).each(x)):u(n)&&tN(t,n).each(x)},!0),t.on("mousedown",function(e){var r=e.target;if((r===o||"HTML"===r.nodeName||i.isChildOf(r,o))&&!1!==dD(t,e.clientX,e.clientY)){var s=TO(t,r);if(s)CO(s)?(e.preventDefault(),tN(t,s).each(x)):(_(),kO(s)&&e.shiftKey||Lm(e.clientX,e.clientY,n.getRng())||(C(),n.placeCaretAt(e.clientX,e.clientY)));else if(u(r))tN(t,r).each(x);else if(!1===oh(r)){_(),C();var a=ej(o,e.clientX,e.clientY);if(a&&!g(r,a.node)){e.preventDefault();var l=p(1,a.node,a.before,!1);t.getBody().focus(),f(l)}}}}),t.on("keypress",function(t){Jm.modifierPressed(t)||CO(n.getNode())&&t.preventDefault()}),t.on("GetSelectionRange",function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);n=n.cloneRange(),n.selectNode(e),t.range=n}}),t.on("SetSelectionRange",function(t){t.range=b(t.range);var e=x(t.range,t.forward);e&&(t.range=e)});var y=function(t){return"mcepastebin"===t.id};t.on("AfterSetSelectionRange",function(t){var e=t.range,n=e.startContainer.parentNode;v(e)||y(n)||C(),l(n)||_()}),t.on("copy",function(t){var e=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!un.ie){var n=d();n&&(t.preventDefault(),e.clearData(),e.setData("text/html",n.outerHTML),e.setData("text/plain",n.outerText||n.innerText))}}),wO(t),xO(t),_O(t)}(),{showCaret:p,showBlockCaretContainer:m,hideFakeCaret:C,destroy:k}},DO=function(t){var e=_n.each,n=Jm.BACKSPACE,i=Jm.DELETE,r=t.dom,o=t.selection,s=t.parser,a=un.gecko,l=un.ie,u=un.webkit,c=l?"Text":"URL",d=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(t){}},f=function(t){return t.isDefaultPrevented()},h=function(e){var n,i;e.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===e.target.tagName&&o.select(e.target),n=t.selection.getContent(),n.length>0&&(i="data:text/mce-internal,"+escape(t.id)+","+escape(n),e.dataTransfer.setData(c,i)))},p=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(c))&&e.indexOf("data:text/mce-internal,")>=0?(e=e.substr("data:text/mce-internal,".length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null},m=function(e,n){t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:e,internal:n}):t.execCommand("mceInsertContent",!1,e)},g=function(){t.shortcuts.add("meta+a",null,"SelectAll")},v=function(){t.on("keydown",function(t){if(!f(t)&&t.keyCode===n&&o.isCollapsed()&&0===o.getRng().startOffset){var e=o.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})},b=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(e){var n;if("HTML"===e.target.nodeName){if(un.ie>11)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}}))},y=function(){},w=function(){if(!a||t.removed)return!1;var e=t.selection.getSel();return!e||!e.rangeCount||0===e.rangeCount};return function(){t.on("keydown",function(e){var n,i;if(!f(e)&&e.keyCode===Jm.BACKSPACE){n=o.getRng();var s=n.startContainer,a=n.startOffset,l=r.getRoot();if(i=s,n.collapsed&&0===a){for(;i&&i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==l;)i=i.parentNode;"BLOCKQUOTE"===i.tagName&&(t.formatter.toggle("blockquote",null,i),n=r.createRng(),n.setStart(s,0),n.setEnd(s,0),o.setRng(n))}}})}(),function(){var e=function(t){var e=r.create("body"),n=t.cloneContents();return e.appendChild(n),o.serializer.serialize(e,{format:"html"})},s=function(n){var i=e(n),o=r.createRng();return o.selectNode(t.getBody()),i===e(o)};t.on("keydown",function(e){var o,a,l=e.keyCode;if(!f(e)&&(l===i||l===n)){if(o=t.selection.isCollapsed(),a=t.getBody(),o&&!r.isEmpty(a))return;if(!o&&!s(t.selection.getRng()))return;e.preventDefault(),t.setContent(""),a.firstChild&&r.isBlock(a.firstChild)?t.selection.setCursorLocation(a.firstChild,0):t.selection.setCursorLocation(a,0),t.nodeChanged()}})}(),un.windowsPhone||function(){t.on("keyup focusin mouseup",function(t){Jm.modifierPressed(t)||o.normalize()},!0)}(),u&&(function(){t.inline||r.bind(t.getDoc(),"mousedown mouseup",function(e){var n;if(e.target===t.getDoc().documentElement)if(n=o.getRng(),t.getBody().focus(),"mousedown"===e.type){if(ls(n.startContainer))return;o.placeCaretAt(e.clientX,e.clientY)}else o.setRng(n)})}(),function(){t.on("click",function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==r.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&r.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),o.select(n))})}(),function(){Ld(t)&&t.on("init",function(){d("DefaultParagraphSeparator",Ld(t))})}(),function(){t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(t){t.preventDefault()})})}(),v(),function(){s.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})}(),un.iOS?(function(){t.inline||t.on("keydown",function(){document.activeElement===document.body&&t.getWin().focus()})}(),b(),function(){t.on("click",function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):g()),un.ie>=11&&(b(),v()),un.ie&&(g(),function(){d("AutoUrlDetect",!1)}(),function(){t.on("dragstart",function(t){h(t)}),t.on("drop",function(e){if(!f(e)){var n=p(e);if(n&&n.id!==t.id){e.preventDefault();var i=rg(e.x,e.y,t.getDoc());o.setRng(i),m(n.html,!0)}}})}()),a&&(!function(){t.on("keydown",function(e){if(!f(e)&&e.keyCode===n){if(!t.getBody().getElementsByTagName("hr").length)return;if(o.isCollapsed()&&0===o.getRng().startOffset){var i=o.getNode(),s=i.previousSibling;if("HR"===i.nodeName)return r.remove(i),void e.preventDefault();s&&s.nodeName&&"hr"===s.nodeName.toLowerCase()&&(r.remove(s),e.preventDefault())}}})}(),function(){Range.prototype.getClientRects||t.on("mousedown",function(e){if(!f(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),No.setEditorTimeout(t,function(){n.focus()})}})}(),function(){var n=function(){var n=r.getAttribs(o.getStart().cloneNode(!1));return function(){var i=o.getStart();i!==t.getBody()&&(r.setAttrib(i,"style",null),e(n,function(t){i.setAttributeNode(t.cloneNode(!0))}))}},i=function(){return!o.isCollapsed()&&r.getParent(o.getStart(),r.isBlock)!==r.getParent(o.getEnd(),r.isBlock)};t.on("keypress",function(e){var r;if(!f(e)&&(8===e.keyCode||46===e.keyCode)&&i())return r=n(),t.getDoc().execCommand("delete",!1,null),r(),e.preventDefault(),!1}),r.bind(t.getDoc(),"cut",function(e){var r;!f(e)&&i()&&(r=n(),No.setEditorTimeout(t,function(){r()}))})}(),function(){var e=function(){d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),ff(t)||d("enableObjectResizing",!1)};Pf(t)||t.on("BeforeExecCommand mousedown",e)}(),function(){var n=function(){e(r.select("a"),function(t){var e=t.parentNode,n=r.getRoot();if(e.lastChild===t){for(;e&&!r.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}r.add(e,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||n()})}(),function(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function(){un.mac&&t.on("keydown",function(e){if(Jm.metaKeyPressed(e)&&!e.shiftKey&&(37===e.keyCode||39===e.keyCode)){e.preventDefault();t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary")}})}(),v()),{refreshContentEditable:y,isHidden:w}},EO=lu.DOM,NO=function(t,e){var n=En.fromDom(t.getBody()),i=mi(pi(n)),r=En.fromTag("style");fr(r,"type","text/css"),ki(r,En.fromText(e)),ki(i,r),t.on("remove",function(){Ei(r)})},MO=function(t){return t.inline?t.getElement().nodeName.toLowerCase():void 0},AO=function(t){return re(t,function(t){return!1===bt(t)})},jO=function(t){var e=t.settings,n=t.editorUpload.blobCache;return AO({allow_conditional_comments:e.allow_conditional_comments,allow_html_data_urls:e.allow_html_data_urls,allow_html_in_named_anchor:e.allow_html_in_named_anchor,allow_script_urls:e.allow_script_urls,allow_unsafe_link_target:e.allow_unsafe_link_target,convert_fonts_to_spans:e.convert_fonts_to_spans,fix_list_elements:e.fix_list_elements,font_size_legacy_values:e.font_size_legacy_values,forced_root_block:e.forced_root_block,forced_root_block_attrs:e.forced_root_block_attrs,padd_empty_with_br:e.padd_empty_with_br,preserve_cdata:e.preserve_cdata,remove_trailing_brs:e.remove_trailing_brs,inline_styles:e.inline_styles,root_name:MO(t),validate:!0,blob_cache:n,images_dataimg_filter:e.images_dataimg_filter})},PO=function(t){var e=t.settings;return ye(ye({},jO(t)),AO({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope,element_format:e.element_format,entities:e.entities,entity_encoding:e.entity_encoding,indent:e.indent,indent_after:e.indent_after,indent_before:e.indent_before,block_elements:e.block_elements,boolean_attributes:e.boolean_attributes,custom_elements:e.custom_elements,extended_valid_elements:e.extended_valid_elements,invalid_elements:e.invalid_elements,invalid_styles:e.invalid_styles,move_caret_before_on_enter_elements:e.move_caret_before_on_enter_elements,non_empty_elements:e.non_empty_elements,schema:e.schema,self_closing_elements:e.self_closing_elements,short_ended_elements:e.short_ended_elements,special:e.special,text_block_elements:e.text_block_elements,text_inline_elements:e.text_inline_elements,valid_children:e.valid_children,valid_classes:e.valid_classes,valid_elements:e.valid_elements,valid_styles:e.valid_styles,verify_html:e.verify_html,whitespace_elements:e.whitespace_elements}))},IO=function(t){var e=nS(jO(t),t.schema);return e.addAttributeFilter("src,href,style,tabindex",function(e,n){for(var i,r,o=e.length,s=t.dom,a="data-mce-"+n;o--;)if(i=e[o],(r=i.attr(n))&&!i.attr(a)){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?(r=s.serializeStyle(s.parseStyle(r),i.name),r.length||(r=null),i.attr(a,r),i.attr(n,r)):"tabindex"===n?(i.attr(a,r),i.attr(n,null)):i.attr(a,t.convertURL(r,n,i.name))}}),e.addNodeFilter("script",function(t){for(var e=t.length;e--;){var n=t[e],i=n.attr("type")||"no/type";0!==i.indexOf("mce-")&&n.attr("type","mce-"+i)}}),t.settings.preserve_cdata&&e.addNodeFilter("#cdata",function(e){for(var n=e.length;n--;){var i=e[n];i.type=8,i.name="#comment",i.value="[CDATA["+t.dom.encode(i.value)+"]]"}}),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var n=e.length,i=t.schema.getNonEmptyElements();n--;){var r=e[n];r.isEmpty(i)&&0===r.getAll("br").length&&(r.append(new Cb("br",1)).shortEnded=!0)}}),e},OO=function(t){t.settings.auto_focus&&No.setEditorTimeout(t,function(){var e;e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus),e.destroyed||e.focus()},100)},RO=function(t){var e=t.dom.getRoot();t.inline||Cm(t)&&t.selection.getStart(!0)!==e||rp(e).each(function(e){var n=e.getNode(),i=Ji(n)?rp(n).getOr(e):e;un.browser.isIE()?Pv(t,i.toRange()):t.selection.setRng(i.toRange())})},BO=function(t){t.bindPendingEventDelegates(),t.initialized=!0,Ym(t),t.focus(!0),RO(t),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),OO(t)},LO=function(t){return t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader},zO=function(t,e){var n=LO(t),i=function(){t.on("remove",function(){return n.unloadAll(e)}),BO(t)};n.loadAll(e,i,i)},FO=function(t,e){var n=t.settings,i=t.getDoc(),r=t.getBody();n.browser_spellcheck||n.gecko_spellcheck||(i.body.spellcheck=!1,EO.setAttrib(r,"spellcheck","false")),t.quirks=DO(t),Xm(t);var o=cf(t);if(void 0!==o&&(r.dir=o),n.protect&&t.on("BeforeSetContent",function(t){_n.each(n.protect,function(e){t.content=t.content.replace(e,function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),!1===e&&t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),t.contentStyles.length>0){var s="";_n.each(t.contentStyles,function(t){s+=t+"\r\n"}),t.dom.addStyle(s)}zO(t,t.contentCSS),n.content_style&&NO(t,n.content_style)},HO=function(t,e){var n=t.settings,i=t.getElement(),r=t.getDoc();n.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(r.open(),r.write(t.iframeHTML),r.close()),t.inline&&(EO.addClass(i,"mce-content-body"),t.contentDocument=r=document,t.contentWindow=window,t.bodyElement=i,t.contentAreaContainer=i);var o=t.getBody();o.disabled=!0,t.readonly=!!n.readonly,t.readonly||(t.inline&&"static"===EO.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable=t.getParam("content_editable_state",!0)),o.disabled=!1,t.editorUpload=ID(t),t.schema=a(n),t.dom=lu(r,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:nf(t),referrerPolicy:rf(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=IO(t),t.serializer=mS(PO(t),t),t.selection=TT(t.dom,t.getWin(),t.serializer,t),t.annotator=Om(t),t.formatter=KD(t),t.undoManager=QD(t),t._nodeChangeDispatcher=new zI(t),t._selectionOverrides=SO(t),iA(t),WI(t),UC(t)||$I(t);var s=LI(t);tA(t,s),uA(t),oE(t),qm(t),VC(t).fold(function(){FO(t,!1)},function(e){t.setProgressState(!0),e.then(function(e){t.setProgressState(!1),FO(t,e)})})},WO=lu.DOM,UO=function(t,e){if(document.domain!==window.location.hostname&&un.browser.isIE()){var n=jD("mce");t[n]=function(){HO(t)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return WO.setAttrib(e,"src",i),!0}return!1},VO=function(t,e,n,i){var r=En.fromTag("iframe");return hr(r,i),hr(r,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),Bu(r,"tox-edit-area__iframe"),r},$O=function(t){var e=jd(t)+"<html><head>";Pd(t)!==t.documentBaseUrl&&(e+='<base href="'+t.documentBaseURI.getURI()+'" />'),e+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=Id(t),i=Od(t);return Rd(t)&&(e+='<meta http-equiv="Content-Security-Policy" content="'+Rd(t)+'" />'),e+='</head><body id="'+n+'" class="mce-content-body '+i+'" data-id="'+t.id+'"><br></body></html>'},qO=function(t,e){var n=t.editorManager.translate("Rich Text Area. Press ALT-0 for help."),i=VO(t.id,n,e.height,Ad(t)).dom;i.onload=function(){i.onload=null,t.fire("load")};var r=UO(t,i);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=i,t.iframeHTML=$O(t),WO.add(e.iframeContainer,i),r},XO=function(t,e){var n=qO(t,e);e.editorContainer&&(WO.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=WO.isHidden(e.editorContainer)),t.getElement().style.display="none",WO.setAttrib(t.id,"aria-hidden","true"),n||HO(t)},YO=lu.DOM,KO=function t(e,n,i){var r=pD.get(i),o=pD.urls[i]||e.documentBaseUrl.replace(/\/$/,"");if(i=_n.trim(i),r&&-1===_n.inArray(n,i)){if(_n.each(pD.dependencies(i),function(i){t(e,n,i)}),e.plugins[i])return;try{var s=new r(e,o,e.$);e.plugins[i]=s,s.init&&(s.init(e,o),n.push(i))}catch(t){TD(e,i,t)}}},GO=function(t){return t.replace(/^\-/,"")},JO=function(t){var e=[];_n.each(Of(t).split(/[ ,]/),function(n){KO(t,e,GO(n))})},QO=function(t){var e=_n.trim(Gd(t)),n=t.ui.registry.getAll().icons,i=ye(ye({},eD.get("default").icons),eD.get(e).icons);Qt(i,function(e,i){le(n,i)||t.ui.registry.addIcon(i,e)})},ZO=function(t){var e=vf(t);if(ht(e)){t.settings.theme=GO(e);var n=mD.get(e);t.theme=new n(t,mD.urls[e]),t.theme.init&&t.theme.init(t,mD.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}},tR=function(t){return t.theme.renderUI()},eR=function(t){var e=t.getElement(),n=vf(t),i=n(t,e);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||t.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||t.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:e.offsetHeight,i},nR=function(t){return{editorContainer:t,iframeContainer:t,api:{}}},iR=function(t){var e=YO.create("div");return YO.insertAfter(e,t),nR(e)},rR=function(t){var e=t.getElement();return t.inline?nR(null):iR(e)},oR=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,ht(vf(t))?tR(t):xt(vf(t))?eR(t):rR(t)},sR=function(t){t.fire("ScriptsLoaded"),QO(t),ZO(t),JO(t);var e=oR(t);t.ui=ye(ye({},t.ui),e.api);var n={editorContainer:e.editorContainer,iframeContainer:e.iframeContainer};return t.editorContainer=n.editorContainer?n.editorContainer:null,ND(t),t.inline?HO(t):XO(t,n)},aR=lu.DOM,lR=function(t){return"-"===t.charAt(0)},uR=function(t,e){var n=of(e),i=sf(e);if(!1===Su.hasCode(n)&&"en"!==n){var r=""!==i?i:e.editorManager.baseURL+"/langs/"+n+".js";t.add(r,K,void 0,function(){CD(e,r,n)})}},cR=function(t,e,n,i){var r=vf(e);if(ht(r)){if(!lR(r)&&!mD.urls.hasOwnProperty(r)){var o=kf(e);o?mD.load(r,e.documentBaseURI.toAbsolute(o)):mD.load(r,"themes/"+r+"/theme"+n+".js")}t.loadQueue(function(){mD.waitFor(r,i)})}else i()},dR=function(t){return lt.from(Jd(t)).filter(function(t){return t.length>0}).map(function(t){return{url:t,name:lt.none()}})},fR=function(t,e,n){return lt.from(e).filter(function(t){return t.length>0&&!eD.has(t)}).map(function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons"+n+".js",name:lt.some(e)}})},hR=function(t,e,n){var i=fR(e,"default",n),r=dR(e).orThunk(function(){return fR(e,Gd(e),"")});At(cc([i,r]),function(n){t.add(n.url,K,void 0,function(){kD(e,n.url,n.name.getOrUndefined())})})},pR=function(t,e){_n.each(Rf(t),function(e,n){pD.load(n,e,K,void 0,function(){_D(t,e,n)}),t.settings.plugins+=" "+n}),_n.each(Of(t).split(/[ ,]/),function(n){if((n=_n.trim(n))&&!pD.urls[n])if(lR(n)){n=n.substr(1,n.length);var i=pD.dependencies(n);_n.each(i,function(n){var i={prefix:"plugins/",resource:n,suffix:"/plugin"+e+".js"},r=pD.createUrl(i,n);pD.load(r.resource,r,K,void 0,function(){_D(t,r.prefix+r.resource+r.suffix,r.resource)})})}else{var r={prefix:"plugins/",resource:n,suffix:"/plugin"+e+".js"};pD.load(n,r,K,void 0,function(){_D(t,r.prefix+r.resource+r.suffix,n)})}})},mR=function(t,e){var n=fu.ScriptLoader;cR(n,t,e,function(){uR(n,t),hR(n,t,e),pR(t,e),n.loadQueue(function(){t.removed||sR(t)},t,function(){t.removed||sR(t)})})},gR=function(t,e){return Mo.forElement(t,{contentCssCors:If(e),referrerPolicy:rf(e)})},vR=function(t){var e=t.id;Su.setCode(of(t));var n=function e(){aR.unbind(window,"ready",e),t.render()};if(!Ha.Event.domLoaded)return void aR.bind(window,"ready",n);if(t.getElement()&&un.contentEditable){var i=En.fromDom(t.getElement()),r=br(i);t.on("remove",function(){jt(i.dom.attributes,function(t){return vr(i,t.name)}),hr(i,r)}),t.ui.styleSheetLoader=gR(i,t),Cf(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var o=t.getElement().form||aR.getParent(e,"form");o&&(t.formElement=o,Tf(t)&&!Zi(t.getElement())&&(aR.insertAfter(aR.create("input",{type:"hidden",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},aR.bind(o,"submit reset",t.formEventDelegate),t.on("reset",function(){t.resetContent()}),!Sf(t)||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),o._mceOldSubmit(o)})),t.windowManager=gD(t),t.notificationManager=P(t),Df(t)&&t.on("GetContent",function(t){t.save&&(t.content=aR.encode(t.content))}),Ef(t)&&t.on("submit",function(){t.initialized&&t.save()}),Nf(t)&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),mR(t,t.suffix)}},bR=function(t){return xt(t)?t:nt},yR=function(t,e,n){for(var i=t.dom,r=bR(n);i.parentNode;){i=i.parentNode;var o=En.fromDom(i),s=e(o);if(s.isSome())return s;if(r(o))break}return lt.none()},wR=function(t,e,n){var i=e(t),r=bR(n);return i.orThunk(function(){return r(t)?lt.none():yR(t,e,r)})},xR={"font-size":"size","font-family":"face"},_R=function(t,e,n){var i=function(e){return kr(e,t).orThunk(function(){return"font"===Fn(e)?ae(xR,t).bind(function(t){return mr(e,t)}):lt.none()})},r=function(t){return Rn(En.fromDom(e),t)};return wR(En.fromDom(n),function(t){return i(t)},r)},kR=function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},CR=function(t,e){return lt.from(lu.DOM.getStyle(e,t,!0))},TR=function(t){return function(e,n){return lt.from(n).map(En.fromDom).filter(Vn).bind(function(n){return _R(t,e,n.dom).or(CR(t,n.dom))}).getOr("")}},SR=TR("font-size"),DR=G(kR,TR("font-family")),ER=function(t){return rp(t.getBody()).map(function(t){var e=t.container();return tr(e)?e.parentNode:e})},NR=function(t){return lt.from(t.selection.getRng()).bind(function(e){var n=t.getBody();return e.startContainer===n&&0===e.startOffset?lt.none():lt.from(t.selection.getStart(!0))})},MR=function(t,n){return NR(t).orThunk(e(ER,t)).map(En.fromDom).filter(Vn).map(n)},AR=function(t,e){if(/^[0-9.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var i=Vd(t),r=$d(t);return r?r[n-1]||e:i[n-1]||e}return e}return e},jR=function(t){var e=t.split(/\s*,\s*/);return Mt(e,function(t){return-1===t.indexOf(" ")||Pe(t,'"')||Pe(t,"'")?t:"'"+t+"'"}).join(",")},PR=function(t,e){var n=AR(t,e);t.formatter.toggle("fontname",{value:jR(n)}),t.nodeChanged()},IR=function(t){return MR(t,function(e){return DR(t.getBody(),e.dom)}).getOr("")},OR=function(t,e){t.formatter.toggle("fontsize",{value:AR(t,e)}),t.nodeChanged()},RR=function(t){return MR(t,function(e){return SR(t.getBody(),e.dom)}).getOr("")},BR=function(t){return MR(t,function(n){var i=En.fromDom(t.getBody()),r=wR(n,function(t){return kr(t,"line-height")},e(Rn,i)),o=function(){var t=parseFloat(xr(n,"line-height")),e=parseFloat(xr(n,"font-size"));return String(t/e)};return r.getOrThunk(o)}).getOr("")},LR=function(t,e){t.undoManager.transact(function(){t.formatter.toggle("lineheight",{value:String(e)}),t.nodeChanged()})},zR=function(t){var e;return"string"!=typeof t?(e=_n.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}},FR=function(t,e){var n=zR(e);uT(t,n.content,n.details)},HR=_n.each,WR=_n.map,UR=_n.inArray,VR=function(){function t(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return t.prototype.execCommand=function(t,e,n,i){var r,o=!1,s=this;if(!s.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||i&&i.skip_focus?Ov(s.editor):s.editor.focus(),i=s.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n}),i.isDefaultPrevented())return!1;var a=t.toLowerCase();if(r=s.commands.exec[a])return r(a,e,n),s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(HR(this.editor.plugins,function(i){if(i.execCommand&&i.execCommand(t,e,n))return s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),o=!0,!1}),o)return o;if(s.editor.theme&&s.editor.theme.execCommand&&s.editor.theme.execCommand(t,e,n))return s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{o=s.editor.getDoc().execCommand(t,e,n)}catch(t){}return!!o&&(s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},t.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(t){}return!1}},t.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(t){}}},t.prototype.addCommands=function(t,e){void 0===e&&(e="exec");var n=this;HR(t,function(t,i){HR(i.toLowerCase().split(","),function(i){n.commands[e][i]=t})})},t.prototype.addCommand=function(t,e,n){var i=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,r,o,s){return e.call(n||i.editor,r,o,s)}},t.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(t){}return!1},t.prototype.addQueryStateHandler=function(t,e,n){var i=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||i.editor)}},t.prototype.addQueryValueHandler=function(t,e,n){var i=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||i.editor)}},t.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},t.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},t.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},t.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e?{value:e}:void 0),this.editor.nodeChanged()},t.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(t){var e=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(n){var i,r=t.getDoc();try{e.execNativeCommand(n)}catch(t){i=!0}if("paste"!==n||r.queryCommandEnabled(n)||(i=!0),i||!r.queryCommandSupported(n)){var o=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");un.mac&&(o=o.replace(/Ctrl\+/g,"⌘+")),t.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");return void(e&&t.dom.remove(e,!0))}t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var i=n.substring(7);"full"===i&&(i="justify"),HR("left,center,right,justify".split(","),function(e){i!==e&&t.formatter.remove("align"+e)}),"none"!==i&&e.toggleFormat("align"+i)},"InsertUnorderedList,InsertOrderedList":function(n){var i;e.execNativeCommand(n);var r=t.dom.getParent(t.selection.getNode(),"ol,ul");r&&(i=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(e.storeSelection(),t.dom.split(i,r),e.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e.toggleFormat(t)},"ForeColor,HiliteColor":function(t,n,i){e.toggleFormat(t,i)},FontName:function(e,n,i){PR(t,i)},FontSize:function(e,n,i){OR(t,i)},LineHeight:function(e,n,i){LR(t,i)},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(t,n,i){return e.toggleFormat(i||"p")},mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},mceRemoveNode:function(n,i,r){var o=r||t.selection.getNode();o!==t.getBody()&&(e.storeSelection(),t.dom.remove(o,!0),e.restoreSelection())},mceSelectNodeDepth:function(e,n,i){var r=0;t.dom.getParent(t.selection.getNode(),function(e){if(1===e.nodeType&&r++===i)return t.selection.select(e),!1},t.getBody())},mceSelectNode:function(e,n,i){t.selection.select(i)},mceInsertContent:function(e,n,i){FR(t,i)},mceInsertRawHTML:function(e,n,i){t.selection.setContent("tiny_mce_marker");var r=t.getContent();t.setContent(r.replace(/tiny_mce_marker/g,function(){return i}))},mceInsertNewLine:function(e,n,i){wI(t,i)},mceToggleFormat:function(t,n,i){e.toggleFormat(i)},mceSetContent:function(e,n,i){t.setContent(i)},"Indent,Outdent":function(e){KM(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,n,i){t.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(e,n,i){"string"==typeof i&&(i={href:i});var r=t.dom.getParent(t.selection.getNode(),"a");i.href=i.href.replace(/ /g,"%20"),r&&i.href||t.formatter.remove("link"),i.href&&t.formatter.apply("link",i,r)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),sr);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,i){return iI(t,i),!0}});var n=function(e){return function(){var n=t.selection,i=n.isCollapsed()?[t.dom.getParent(n.getNode(),t.dom.isBlock)]:n.getSelectedBlocks(),r=WR(i,function(n){return!!t.formatter.matchNode(n,e)});return-1!==UR(r,!0)}};e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e.isFormatMatch(t)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return $M(t)},"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",function(){return IR(t)},this),e.addQueryValueHandler("FontSize",function(){return RR(t)},this),e.addQueryValueHandler("LineHeight",function(){return BR(t)},this)},t}(),$R=function(t,e,n){Fu(t,e)&&!1===n?zu(t,e):n&&Bu(t,e)},qR=function(t,e,n){try{t.getDoc().execCommand(e,!1,String(n))}catch(t){}},XR=function(t,e){t.dom.contentEditable=e?"true":"false"},YR=function(t){At(Wu(t,'*[contenteditable="true"]'),function(t){fr(t,"data-mce-contenteditable","true"),XR(t,!1)})},KR=function(t){At(Wu(t,'*[data-mce-contenteditable="true"]'),function(t){vr(t,"data-mce-contenteditable"),XR(t,!0)})},GR=function(t){lt.from(t.selection.getNode()).each(function(t){t.removeAttribute("data-mce-selected")})},JR=function(t){t.selection.setRng(t.selection.getRng())},QR=function(t,e){var n=En.fromDom(t.getBody());$R(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),GR(t),t.readonly=!0,XR(n,!1),YR(n)):(t.readonly=!1,XR(n,!0),KR(n),qR(t,"StyleWithCSS",!1),qR(t,"enableInlineTableEditing",!1),qR(t,"enableObjectResizing",!1),lb(t)&&t.focus(),JR(t),t.nodeChanged())},ZR=function(t){return t.readonly},tB=function(t){t.parser.addAttributeFilter("contenteditable",function(e){ZR(t)&&At(e,function(t){t.attr("data-mce-contenteditable",t.attr("contenteditable")),t.attr("contenteditable","false")})}),t.serializer.addAttributeFilter("data-mce-contenteditable",function(e){ZR(t)&&At(e,function(t){t.attr("contenteditable",t.attr("data-mce-contenteditable"))})}),t.serializer.addTempAttr("data-mce-contenteditable")},eB=function(t){t.serializer?tB(t):t.on("PreInit",function(){tB(t)})},nB=function(t){return"click"===t.type},iB=function(t,e){return null!==t.dom.getParent(e,"a")},rB=function(t,e){var n=e.target;nB(e)&&!Jm.metaKeyPressed(e)&&iB(t,n)&&e.preventDefault()},oB=function(t){t.on("ShowCaret",function(e){ZR(t)&&e.preventDefault()}),t.on("ObjectSelected",function(e){ZR(t)&&e.preventDefault()})},sB=_n.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),aB=function(){function t(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||nt}return t.isNative=function(t){return!!sB[t.toLowerCase()]},t.prototype.fire=function(t,e){var n=t.toLowerCase(),i=e||{};i.type=n,i.target||(i.target=this.scope),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=it},i.stopPropagation=function(){i.isPropagationStopped=it},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=it},i.isDefaultPrevented=nt,i.isPropagationStopped=nt,i.isImmediatePropagationStopped=nt),this.settings.beforeFire&&this.settings.beforeFire(i);var r=this.bindings[n];if(r)for(var o=0,s=r.length;o<s;o++){var a=r[o];if(a.once&&this.off(n,a.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===a.func.call(this.scope,i))return i.preventDefault(),i}return i},t.prototype.on=function(t,e,n,i){if(!1===e&&(e=nt),e){var r={func:e};i&&_n.extend(r,i);for(var o=t.toLowerCase().split(" "),s=o.length;s--;){var a=o[s],l=this.bindings[a];l||(l=this.bindings[a]=[],this.toggleEvent(a,!0)),n?l.unshift(r):l.push(r)}}return this},t.prototype.off=function(t,e){var n=this;if(t)for(var i=t.toLowerCase().split(" "),r=i.length;r--;){var o=i[r],s=this.bindings[o];if(!o)return Qt(this.bindings,function(t,e){n.toggleEvent(e,!1),delete n.bindings[e]}),this;if(s){if(e)for(var a=s.length;a--;)s[a].func===e&&(s=s.slice(0,a).concat(s.slice(a+1)),this.bindings[o]=s);else s.length=0;s.length||(this.toggleEvent(t,!1),delete this.bindings[o])}}else Qt(this.bindings,function(t,e){n.toggleEvent(e,!1)}),this.bindings={};return this},t.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},t.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},t}(),lB=function(t){return t._eventDispatcher||(t._eventDispatcher=new aB({scope:t,toggleEvent:function(e,n){aB.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},uB={fire:function(t,e,n){var i=this;if(i.removed&&"remove"!==t&&"detach"!==t)return e;var r=lB(i).fire(t,e);if(!1!==n&&i.parent)for(var o=i.parent();o&&!r.isPropagationStopped();)o.fire(t,r,!1),o=o.parent();return r},on:function(t,e,n){return lB(this).on(t,e,n)},off:function(t,e){return lB(this).off(t,e)},once:function(t,e){return lB(this).once(t,e)},hasEventListeners:function(t){return lB(this).has(t)}},cB=lu.DOM,dB=function(t,e){if("selectionchange"===e)return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e))return t.getDoc().documentElement;var n=mf(t);return n?(t.eventRoot||(t.eventRoot=cB.select(n)[0]),t.eventRoot):t.getBody()},fB=function(t){return!t.hidden&&!ZR(t)},hB=function(t,e,n){fB(t)?t.fire(e,n):ZR(t)&&rB(t,n)},pB=function(t,e){var n;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed){var i=dB(t,e);if(mf(t)){if(PA||(PA={},t.editorManager.on("removeEditor",function(){t.editorManager.activeEditor||PA&&(Qt(PA,function(e,n){t.dom.unbind(dB(t,n))}),PA=null)})),PA[e])return;n=function(n){for(var i=n.target,r=t.editorManager.get(),o=r.length;o--;){var s=r[o].getBody();(s===i||cB.isChildOf(i,s))&&hB(r[o],e,n)}},PA[e]=n,cB.bind(i,e,n)}else n=function(n){hB(t,e,n)},cB.bind(i,e,n),t.delegates[e]=n}},mB=ye(ye({},uB),{bindPendingEventDelegates:function(){var t=this;_n.each(t._pendingNativeEvents,function(e){pB(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(e?n.initialized?pB(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(dB(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t=this,e=t.getBody(),n=t.dom;t.delegates&&(Qt(t.delegates,function(e,n){t.dom.unbind(dB(t,n),n,e)}),delete t.delegates),!t.inline&&e&&n&&(e.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(e),n.unbind(t.getContainer()))}}),gB=["design","readonly"],vB=function(t,e,n,i){var r=n[e.get()],o=n[i];try{o.activate()}catch(t){return void console.error("problem while activating editor mode "+i+":",t)}r.deactivate(),r.editorReadOnly!==o.editorReadOnly&&QR(t,o.editorReadOnly),e.set(i),Um(t,i)},bB=function(t,e,n,i){if(i!==n.get()){if(!le(e,i))throw new Error("Editor mode '"+i+"' is invalid");t.initialized?vB(t,n,e,i):t.on("init",function(){return vB(t,n,e,i)})}},yB=function(t,e,n){var i;if(Et(gB,e))throw new Error("Cannot override default mode "+e);return ye(ye({},t),(i={},i[e]=ye(ye({},n),{deactivate:function(){try{n.deactivate()}catch(t){console.error("problem while deactivating editor mode "+e+":",t)}}}),i))},wB=function(t){var e=hu("design"),n=hu({design:{activate:K,deactivate:K,editorReadOnly:!1},readonly:{activate:K,deactivate:K,editorReadOnly:!0}});return eB(t),oB(t),{isReadOnly:function(){return ZR(t)},set:function(i){return bB(t,n.get(),e,i)},get:function(){return e.get()},register:function(t,e){n.set(yB(n.get(),t,e))}}},xB=_n.each,_B=_n.explode,kB={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},CB=_n.makeMap("alt,ctrl,shift,meta,access"),TB=function(){function t(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",function(t){!e.hasModifier(t)&&!e.isFunctionKey(t)||t.isDefaultPrevented()||(xB(e.shortcuts,function(n){if(e.matchShortcut(t,n))return e.pendingPatterns=n.subpatterns.slice(0),"keydown"===t.type&&e.executeShortcutAction(n),!0}),e.matchShortcut(t,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===t.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))})}return t.prototype.add=function(t,e,n,i){var r=this,o=r.normalizeCommandFunc(n);return xB(_B(_n.trim(t)),function(t){var n=r.createShortcut(t,e,o,i);r.shortcuts[n.id]=n}),!0},t.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},t.prototype.normalizeCommandFunc=function(t){var e=this,n=t;return"string"==typeof n?function(){e.editor.execCommand(n,!1,null)}:_n.isArray(n)?function(){e.editor.execCommand(n[0],n[1],n[2])}:n},t.prototype.parseShortcut=function(t){var e,n={};xB(_B(t.toLowerCase(),"+"),function(t){t in CB?n[t]=!0:/^[0-9]{2,}$/.test(t)?n.keyCode=parseInt(t,10):(n.charCode=t.charCodeAt(0),n.keyCode=kB[t]||t.toUpperCase().charCodeAt(0))});var i=[n.keyCode];for(e in CB)n[e]?i.push(e):n[e]=!1;return n.id=i.join(","),n.access&&(n.alt=!0,un.mac?n.ctrl=!0:n.shift=!0),n.meta&&(un.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},t.prototype.createShortcut=function(t,e,n,i){var r=_n.map(_B(t,">"),this.parseShortcut);return r[r.length-1]=_n.extend(r[r.length-1],{func:n,scope:i||this.editor}),_n.extend(r[0],{desc:this.editor.translate(e),subpatterns:r.slice(1)})},t.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},t.prototype.isFunctionKey=function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123},t.prototype.matchShortcut=function(t,e){return!!e&&(e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&(e.alt===t.altKey&&e.shift===t.shiftKey&&(!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0))))},t.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},t}(),SB=function(){var t={},e={},n={},i={},r={},o={},s={},a=function(t,e){return function(n,i){return t[n.toLowerCase()]=ye(ye({},i),{type:e})}},l=function(t,e){return i[t.toLowerCase()]=e};return{addButton:a(t,"button"),addGroupToolbarButton:a(t,"grouptoolbarbutton"),addToggleButton:a(t,"togglebutton"),addMenuButton:a(t,"menubutton"),addSplitButton:a(t,"splitbutton"),addMenuItem:a(e,"menuitem"),addNestedMenuItem:a(e,"nestedmenuitem"),addToggleMenuItem:a(e,"togglemenuitem"),addAutocompleter:a(n,"autocompleter"),addContextMenu:a(r,"contextmenu"),addContextToolbar:a(o,"contexttoolbar"),addContextForm:a(o,"contextform"),addSidebar:a(s,"sidebar"),addIcon:l,getAll:function(){return{buttons:t,menuItems:e,icons:i,popups:n,contextMenus:r,contextToolbars:o,sidebars:s}}}},DB=function(){var t=SB();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},EB=_n.each,NB=_n.trim,MB="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),AB={ftp:21,http:80,https:443,mailto:25},jB=function(){function t(e,n){e=NB(e),this.settings=n||{};var i=this.settings.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(r.source=e);var o=0===e.indexOf("//");if(0!==e.indexOf("/")||o||(e=(i?i.protocol||"http":"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var s=this.settings.base_uri?this.settings.base_uri.path:new t(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)e="//mce_host"+r.toAbsPath(s,e);else{var a=/([^#?]*)([#?]?.*)/.exec(e);e=(i&&i.protocol||"http")+"://mce_host"+r.toAbsPath(s,a[1])+a[2]}}e=e.replace(/@@/g,"(mce_at)");var l=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);EB(MB,function(t,e){var n=l[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),r[t]=n}),i&&(r.protocol||(r.protocol=i.protocol),r.userInfo||(r.userInfo=i.userInfo),r.port||"mce_host"!==r.host||(r.port=i.port),r.host&&"mce_host"!==r.host||(r.host=i.host),r.source=""),o&&(r.protocol="")}return t.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),i=/data:([^;]+)/.exec(n[0]);return i&&(e=i[1]),{type:e,data:n[1]}},t.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},t.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},t.prototype.toRelative=function(e){var n;if("./"===e)return e;var i=new t(e,{base_uri:this});if("mce_host"!==i.host&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&""!==i.protocol)return i.getURI();var r=this.getURI(),o=i.getURI();return r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o?r:(n=this.toRelPath(this.path,i.path),i.query&&(n+="?"+i.query),i.anchor&&(n+="#"+i.anchor),n)},t.prototype.toAbsolute=function(e,n){var i=new t(e,{base_uri:this});return i.getURI(n&&this.isSameOrigin(i))},t.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=AB[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},t.prototype.toRelPath=function(t,e){var n,i,r=0,o="",s=t.substring(0,t.lastIndexOf("/")).split("/"),a=e.split("/");if(s.length>=a.length)for(n=0,i=s.length;n<i;n++)if(n>=a.length||s[n]!==a[n]){r=n+1;break}if(s.length<a.length)for(n=0,i=a.length;n<i;n++)if(n>=s.length||s[n]!==a[n]){r=n+1;break}if(1===r)return e;for(n=0,i=s.length-(r-1);n<i;n++)o+="../";for(n=r-1,i=a.length;n<i;n++)o+=n!==r-1?"/"+a[n]:a[n];return o},t.prototype.toAbsPath=function(t,e){var n,i,r=0,o=[],s=/\/$/.test(e)?"/":"",a=t.split("/"),l=e.split("/");for(EB(a,function(t){t&&o.push(t)}),a=o,n=l.length-1,o=[];n>=0;n--)0!==l[n].length&&"."!==l[n]&&(".."!==l[n]?r>0?r--:o.push(l[n]):r++);return n=a.length-r,i=n<=0?Ut(o).join("/"):a.slice(0,n).join("/")+"/"+Ut(o).join("/"),0!==i.indexOf("/")&&(i="/"+i),s&&i.lastIndexOf("/")!==i.length-1&&(i+=s),i},t.prototype.getURI=function(t){void 0===t&&(t=!1);var e;return this.source&&!t||(e="",t||(this.protocol?e+=this.protocol+"://":e+="//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},t}(),PB=lu.DOM,IB=_n.extend,OB=_n.each,RB=_n.resolve,BB=un.ie,LB=function(){function t(t,e,n){var i=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,IB(this,mB),this.settings=GS(this,t,this.documentBaseUrl,n.defaultSettings,e),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(fu.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),lu.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Du.languageLoad=this.settings.language_load,Du.baseURL=n.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new jB(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new TB(this),this.editorCommands=new VR(this),this.settings.cache_suffix&&(un.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:DB(),styleSheetLoader:void 0,show:K,hide:K};var r=this,o=wB(r);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=tu.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})}return t.prototype.render=function(){vR(this)},t.prototype.focus=function(t){db(this,t)},t.prototype.hasFocus=function(){return ab(this)},t.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,r=this,o=r.settings[t];if(o)return r.callbackLookup&&(i=r.callbackLookup[t])&&(o=i.func,i=i.scope),"string"==typeof o&&(i=o.replace(/\.\w+$/,""),i=i?RB(i):0,o=RB(o),r.callbackLookup=r.callbackLookup||{},r.callbackLookup[t]={func:o,scope:i}),o.apply(i||r,e)},t.prototype.translate=function(t){return Su.translate(t)},t.prototype.getParam=function(t,e,n){return tD(this,t,e,n)},t.prototype.hasPlugin=function(t,e){return!(!Et(Of(this).split(/[ ,]/),t)||e&&void 0===pD.get(t))},t.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},t.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},t.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},t.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},t.prototype.addShortcut=function(t,e,n,i){this.shortcuts.add(t,e,n,i)},t.prototype.execCommand=function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},t.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},t.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},t.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},t.prototype.show=function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(PB.show(t.getContainer()),PB.hide(t.id)),t.load(),t.fire("show"))},t.prototype.hide=function(){var t=this,e=t.getDoc();t.hidden||(BB&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(PB.hide(t.getContainer()),PB.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},t.prototype.load=function(t){var e,n=this,i=n.getElement();if(n.removed)return"";if(i){t=t||{},t.load=!0;var r=Zi(i)?i.value:i.innerHTML;return e=n.setContent(r,t),t.element=i,t.no_events||n.fire("LoadContent",t),t.element=i=null,e}},t.prototype.save=function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return t=t||{},t.save=!0,t.element=r,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"===t.format&&i.fire("RawSaveContent",t),e=t.content,Zi(r)?r.value=e:(!t.is_removing&&i.inline||(r.innerHTML=e),(n=PB.getParent(i.id,"form"))&&OB(n.elements,function(t){if(t.name===i.id)return t.value=e,!1})),t.element=r=null,!1!==t.set_dirty&&i.setDirty(!1),e},t.prototype.setContent=function(t,e){return vS(this,t,e)},t.prototype.getContent=function(t){return gS(this,t)},t.prototype.insertContent=function(t,e){e&&(t=IB({content:t},e)),this.execCommand("mceInsertContent",!1,t)},t.prototype.resetContent=function(t){void 0===t?vS(this,this.startContent,{format:"raw"}):vS(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},t.prototype.getContainer=function(){var t=this;return t.container||(t.container=PB.get(t.editorContainer||t.id+"_parent")),t.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=PB.get(this.id)),this.targetElm},t.prototype.getWin=function(){var t,e=this;return e.contentWindow||(t=e.iframeElement)&&(e.contentWindow=t.contentWindow),e.contentWindow},t.prototype.getDoc=function(){var t,e=this;return e.contentDocument||(t=e.getWin())&&(e.contentDocument=t.document),e.contentDocument},t.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},t.prototype.convertURL=function(t,e,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,r.remove_script_host)},t.prototype.addVisual=function(t){var e,n=this,i=n.settings,r=n.dom;t=t||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),OB(r.select("table,a",t),function(t){var o;switch(t.nodeName){case"TABLE":return e=i.visual_table_class||"mce-item-table",o=r.getAttrib(t,"border"),void(o&&"0"!==o||!n.hasVisual?r.removeClass(t,e):r.addClass(t,e));case"A":return void(r.getAttrib(t,"href")||(o=r.getAttrib(t,"name")||t.id,e=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(t,e):r.removeClass(t,e)))}}),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},t.prototype.remove=function(){kS(this)},t.prototype.destroy=function(t){CS(this,t)},t.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t}(),zB=lu.DOM,FB=_n.explode,HB=_n.each,WB=_n.extend,UB=0,VB=!1,$B=[],qB=[],XB=function(t){return"length"!==t},YB=function(t){var e=t.type;HB(ZB.get(),function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t)}})},KB=function(t){t!==VB&&(t?tu(window).on("resize scroll",YB):tu(window).off("resize scroll",YB),VB=t)},GB=function(t){var e=qB;delete $B[t.id];for(var n=0;n<$B.length;n++)if($B[n]===t){$B.splice(n,1);break}return qB=It(qB,function(e){return t!==e}),ZB.activeEditor===t&&(ZB.activeEditor=qB.length>0?qB[0]:null),ZB.focusedEditor===t&&(ZB.focusedEditor=null),e.length!==qB.length},JB=function(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(GB(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t},QB="CSS1Compat"!==document.compatMode,ZB=ye(ye({},uB),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:tu,majorVersion:"5",minorVersion:"5.1",releaseDate:"2020-10-01",editors:$B,i18n:Su,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t,e,n=this,i="";e=jB.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/"));var r=window.tinymce||window.tinyMCEPreInit;if(r)t=r.base||r.baseURL,i=r.suffix;else{for(var o=document.getElementsByTagName("script"),s=0;s<o.length;s++){var a=o[s].src||"";if(""!==a){var l=a.substring(a.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){-1!==l.indexOf(".min")&&(i=".min"),t=a.substring(0,a.lastIndexOf("/"));break}}}if(!t&&document.currentScript){var a=document.currentScript.src;-1!==a.indexOf(".min")&&(i=".min"),t=a.substring(0,a.lastIndexOf("/"))}}n.baseURL=new jB(e).toAbsolute(t),n.documentBaseURL=e,n.baseURI=new jB(n.baseURL),n.suffix=i,Jv(n)},overrideDefaults:function(t){var e=t.base_url;e&&this._setBaseUrl(e);var n=t.suffix;t.suffix&&(this.suffix=n),this.defaultSettings=t;var i=t.plugin_base_urls;void 0!==i&&Qt(i,function(t,e){Du.PluginManager.urls[e]=t})},init:function(t){var e,n=this,i=_n.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),r=function(t,e){return t.inline&&e.tagName.toLowerCase()in i},o=function(t){var e=t.id;return e||(e=ae(t,"name").filter(function(t){return!zB.get(t)}).getOrThunk(zB.uniqueId),t.setAttribute("id",e)),e},s=function(e){var i=t[e];if(i)return i.apply(n,Array.prototype.slice.call(arguments,2))},a=function(t,e){return e.constructor===RegExp?e.test(t.className):zB.hasClass(t,e)},l=function(t){var e=[];if(un.browser.isIE()&&un.browser.version.major<11)return SD("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(QB)return SD("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(t.types)return HB(t.types,function(t){e=e.concat(zB.select(t.selector))}),e;if(t.selector)return zB.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":var n=t.elements||"";n.length>0&&HB(FB(n),function(t){var n=zB.get(t);n?e.push(n):HB(document.forms,function(n){HB(n.elements,function(n){n.name===t&&(t="mce_editor_"+UB++,zB.setAttrib(n,"id",t),e.push(n))})})});break;case"textareas":case"specific_textareas":HB(zB.select("textarea"),function(n){t.editor_deselector&&a(n,t.editor_deselector)||t.editor_selector&&!a(n,t.editor_selector)||e.push(n)})}return e},u=function(t){e=t},c=function e(){var i,a=0,c=[],d=function(t,e,r){var o=new LB(t,e,n);c.push(o),o.on("init",function(){++a===i.length&&u(c)}),o.targetElm=o.targetElm||r,o.render()};if(zB.unbind(window,"ready",e),s("onpageload"),i=tu.unique(l(t)),t.types)return void HB(t.types,function(e){_n.each(i,function(n){return!zB.is(n,e.selector)||(d(o(n),WB({},t,e),n),!1)})});_n.each(i,function(t){JB(n.get(t.id))}),i=_n.grep(i,function(t){return!n.get(t.id)}),0===i.length?u([]):HB(i,function(e){r(t,e)?SD("Could not initialize inline editor on invalid inline target element",e):d(o(e),t,e)})};return n.settings=t,zB.bind(window,"ready",c),new _o(function(t){e?t(e):u=function(e){t(e)}})},get:function(t){return 0===arguments.length?qB.slice(0):ht(t)?Lt(qB,function(e){return e.id===t}).getOr(null):_t(t)&&qB[t]?qB[t]:null},add:function(t){var e=this;return $B[t.id]===t?t:(null===e.get(t.id)&&(XB(t.id)&&($B[t.id]=t),$B.push(t),qB.push(t)),KB(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),IA||(IA=function(t){var n=e.fire("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",IA)),t)},createEditor:function(t,e){return this.add(new LB(t,e,this))},remove:function(t){var e,n,i=this;if(t)return ht(t)?void HB(zB.select(t),function(t){(n=i.get(t.id))&&i.remove(n)}):(n=t,gt(i.get(n.id))?null:(GB(n)&&i.fire("RemoveEditor",{editor:n}),0===qB.length&&window.removeEventListener("beforeunload",IA),n.remove(),KB(qB.length>0),n));for(e=qB.length-1;e>=0;e--)i.remove(qB[e])},execCommand:function(t,e,n){var i=this,r=i.get(n);switch(t){case"mceAddEditor":return i.get(n)||new LB(n,i.settings,i).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(i.execCommand("mceAddEditor",0,n),!0)}return!!i.activeEditor&&i.activeEditor.execCommand(t,e,n)},triggerSave:function(){HB(qB,function(t){t.save()})},addI18n:function(t,e){Su.add(t,e)},translate:function(t){return Su.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new jB(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new jB(this.baseURL)}});ZB.setup();var tL,eL,nL=Math.min,iL=Math.max,rL=Math.round,oL=function(t,e,n){var i=e.x,r=e.y,o=t.w,s=t.h,a=e.w,l=e.h,u=(n||"").split("");return"b"===u[0]&&(r+=l),"r"===u[1]&&(i+=a),"c"===u[0]&&(r+=rL(l/2)),"c"===u[1]&&(i+=rL(a/2)),"b"===u[3]&&(r-=s),"r"===u[4]&&(i-=o),"c"===u[3]&&(r-=rL(s/2)),"c"===u[4]&&(i-=rL(o/2)),cL(i,r,o,s)},sL=function(t,e,n,i){var r,o;for(o=0;o<i.length;o++)if(r=oL(t,e,i[o]),r.x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},aL=function(t,e,n){return cL(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},lL=function(t,e){var n=iL(t.x,e.x),i=iL(t.y,e.y),r=nL(t.x+t.w,e.x+e.w),o=nL(t.y+t.h,e.y+e.h);return r-n<0||o-i<0?null:cL(n,i,r-n,o-i)},uL=function(t,e,n){var i=t.x,r=t.y,o=t.x+t.w,s=t.y+t.h,a=e.x+e.w,l=e.y+e.h,u=iL(0,e.x-i),c=iL(0,e.y-r),d=iL(0,o-a),f=iL(0,s-l);return i+=u,r+=c,n&&(o+=u,s+=c,i-=d,r-=f),o-=d,s-=f,cL(i,r,o-i,s-r)},cL=function(t,e,n,i){return{x:t,y:e,w:n,h:i}},dL=function(t){return cL(t.left,t.top,t.width,t.height)},fL={inflate:aL,relativePosition:oL,findBestRelativePosition:sL,intersect:lL,clamp:uL,create:cL,fromClientRect:dL},hL=function(t,e,n){void 0===n&&(n=1e3);var i=!1,r=null,o=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i||(i=!0,null!==r&&(clearTimeout(r),r=null),t.apply(null,e))}},s=o(t),a=o(e);return{start:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i||null!==r||(r=setTimeout(function(){return a.apply(null,t)},n))},resolve:s,reject:a}},pL=function(){var t={},e={};return{load:function(n,i){var r='Script at URL "'+i+'" failed to load',o='Script at URL "'+i+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(void 0!==t[n])return t[n];var s=new _o(function(t,s){var a=hL(t,s);e[n]=a.resolve,fu.ScriptLoader.loadScript(i,function(){return a.start(o)},function(){return a.reject(r)})});return t[n]=s,s},add:function(n,i){void 0!==e[n]&&(e[n](i),delete e[n]),t[n]=_o.resolve(i)}}}(),mL=_n.each,gL=_n.extend,vL=function(){};vL.extend=tL=function(t){var e=this,n=e.prototype,i=function(){var t,e,n,i=this;if(!eL&&(i.init&&i.init.apply(i,arguments),e=i.Mixins))for(t=e.length;t--;)n=e[t],n.init&&n.init.apply(i,arguments)},r=function(){return this},o=function(t,e){return function(){var i=this,r=i._super;i._super=n[t];var o=e.apply(i,arguments);return i._super=r,o}};eL=!0;var s=new e;return eL=!1,t.Mixins&&(mL(t.Mixins,function(e){for(var n in e)"init"!==n&&(t[n]=e[n])}),n.Mixins&&(t.Mixins=n.Mixins.concat(t.Mixins))),t.Methods&&mL(t.Methods.split(","),function(e){t[e]=r}),t.Properties&&mL(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){var e=this;return void 0!==t?(e[n]=t,e):e[n]}}),t.Statics&&mL(t.Statics,function(t,e){i[e]=t}),t.Defaults&&n.Defaults&&(t.Defaults=gL({},n.Defaults,t.Defaults)),Qt(t,function(t,e){"function"==typeof t&&n[e]?s[e]=o(e,t):s[e]=t}),i.prototype=s,i.constructor=i,i.extend=tL,i};var bL,yL=Math.min,wL=Math.max,xL=Math.round,_L=function(t){var e={},i=0,r=0,o=0,s=function(t,e,n){var i,r,o;i=0,r=0,o=0,t/=255,e/=255,n/=255;var s=yL(t,yL(e,n)),a=wL(t,wL(e,n));if(s===a)return o=s,{h:0,s:0,v:100*o};var l=t===s?e-n:n===s?t-e:n-t;return i=t===s?3:n===s?1:5,i=60*(i-l/(a-s)),r=(a-s)/a,o=a,{h:xL(i),s:xL(100*r),v:xL(100*o)}},a=function(t,e,n){if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,n=parseInt(n,10)/100,e=wL(0,yL(e,1)),n=wL(0,yL(n,1)),0===e)return void(i=r=o=xL(255*n));var s=t/60,a=n*e,l=a*(1-Math.abs(s%2-1)),u=n-a;switch(Math.floor(s)){case 0:i=a,r=l,o=0;break;case 1:i=l,r=a,o=0;break;case 2:i=0,r=a,o=l;break;case 3:i=0,r=l,o=a;break;case 4:i=l,r=0,o=a;break;case 5:i=a,r=0,o=l;break;default:i=r=o=0}i=xL(255*(i+u)),r=xL(255*(r+u)),o=xL(255*(o+u))},l=function(){var t=function(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t};return"#"+t(i)+t(r)+t(o)},u=function(){return{r:i,g:r,b:o}},c=function(){return s(i,r,o)},d=function(t){var s;return"object"===n(t)?"r"in t?(i=t.r,r=t.g,o=t.b):"v"in t&&a(t.h,t.s,t.v):(s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(i=parseInt(s[1],10),r=parseInt(s[2],10),o=parseInt(s[3],10)):(s=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(i=parseInt(s[1],16),r=parseInt(s[2],16),o=parseInt(s[3],16)):(s=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(i=parseInt(s[1]+s[1],16),r=parseInt(s[2]+s[2],16),o=parseInt(s[3]+s[3],16)),i=i<0?0:i>255?255:i,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,e};return t&&d(t),e.toRgb=u,e.toHsv=c,e.toHex=l,e.parse=d,e},kL=function(t){var e=JSON.stringify(t);return ht(e)?e.replace(/[\u0080-\uFFFF]/g,function(t){var e=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e}):e},CL={serialize:kL,parse:function(t){try{return JSON.parse(t)}catch(t){}}},TL={callbacks:{},count:0,send:function(t){var e=this,n=lu.DOM,i=void 0!==t.count?t.count:e.count,r="tinymce_jsonp_"+i;e.callbacks[i]=function(o){n.remove(r),delete e.callbacks[i],t.callback(o)},n.add(n.doc.body,"script",{id:r,src:t.url,type:"text/javascript"}),e.count++}},SL=ye(ye({},uB),{send:function(t){var e,n=0,i=function i(){!t.async||4===e.readyState||n++>1e4?(t.success&&n<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,n>1e4?"TIMED_OUT":"GENERAL",e,t),e=null):No.setTimeout(i,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",SL.fire("beforeInitialize",{settings:t}),e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&_n.each(t.requestheaders,function(t){e.setRequestHeader(t.key,t.value)}),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e=SL.fire("beforeSend",{xhr:e,settings:t}).xhr,e.send(t.data),!t.async)return i();No.setTimeout(i,10)}}),DL=_n.extend,EL=function(){function t(t){this.settings=DL({},t),this.count=0}return t.sendRPC=function(e){return(new t).send(e)},t.prototype.send=function(t){var e=t.error,n=t.success,i=DL(this.settings,t);i.success=function(t,r){t=CL.parse(t),void 0===t&&(t={error:"JSON Parse error."}),t.error?e.call(i.error_scope||i.scope,t.error,r):n.call(i.success_scope||i.scope,t.result)},i.error=function(t,n){e&&e.call(i.error_scope||i.scope,t,n)},i.data=CL.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),i.content_type="application/json",SL.send(i)},t}();try{var NL="__storage_test__";bL=window.localStorage,bL.setItem(NL,NL),bL.removeItem(NL)}catch(t){bL=function(){return function(){var t={},e=[],n={getItem:function(e){var n=t[e];return n||null},setItem:function(n,i){e.push(n),t[n]=String(i)},key:function(t){return e[t]},removeItem:function(n){e=e.filter(function(t){return t===n}),delete t[n]},clear:function(){e=[],t={}},length:0};return Object.defineProperty(n,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),n}()}()}var ML=bL,AL={geom:{Rect:fL},util:{Promise:_o,Delay:No,Tools:_n,VK:Jm,URI:jB,Class:vL,EventDispatcher:aB,Observable:uB,I18n:Su,XHR:SL,JSON:CL,JSONRequest:EL,JSONP:TL,LocalStorage:ML,Color:_L},dom:{EventUtils:Ha,Sizzle:Cl,DomQuery:tu,TreeWalker:Ao,TextSeeker:uc,DOMUtils:lu,ScriptLoader:fu,RangeUtils:xg,Serializer:mS,StyleSheetLoader:s,ControlSelection:Zm,BookmarkManager:Rm,Selection:TT,Event:Ha.Event},html:{Styles:Na,Entities:va,Node:Cb,Schema:a,SaxParser:Bb,DomParser:nS,Writer:Sb,Serializer:Db},Env:un,AddOnManager:Du,Annotator:Om,Formatter:KD,UndoManager:QD,EditorCommands:VR,WindowManager:gD,NotificationManager:P,EditorObservable:mB,Shortcuts:TB,Editor:LB,FocusManager:Bv,EditorManager:ZB,DOM:lu.DOM,ScriptLoader:fu.ScriptLoader,PluginManager:pD,ThemeManager:mD,IconManager:eD,Resource:pL,trim:_n.trim,isArray:_n.isArray,is:_n.is,toArray:_n.toArray,makeMap:_n.makeMap,each:_n.each,map:_n.map,grep:_n.grep,inArray:_n.inArray,extend:_n.extend,create:_n.create,walk:_n.walk,createNS:_n.createNS,resolve:_n.resolve,explode:_n.explode,_addCacheSuffix:_n._addCacheSuffix,isOpera:un.opera,isWebKit:un.webkit,isIE:un.ie,isGecko:un.gecko,isMac:un.mac},jL=_n.extend(ZB,AL);!function(t){window.tinymce=t,window.tinyMCE=t}(jL),function(e){if("object"===(void 0===t?"undefined":n(t)))try{t.exports=e}catch(t){}}(jL)}()}).call(window)},"./node_modules/edx-ui-toolkit/src/js/dropdown-menu/dropdown-menu-view.js":function(t,e,n){"use strict";var i,r;i=[n(2),n(0),n(1),n("./node_modules/edx-ui-toolkit/src/js/utils/constants.js"),n("./node_modules/edx-ui-toolkit/src/js/dropdown-menu/dropdown.underscore")],void 0!==(r=function(t,e,n,i,r){return t.View.extend({tpl:n.template(r),events:{"click .js-dropdown-button":"clickOpenDropdown","click a":"analyticsLinkClick",keydown:"viewKeypress"},dropdownButton:".js-dropdown-button",menu:".dropdown-menu",initialize:function(t){t.parent&&(this.$parent=e(t.parent)),this.menuId=t.menuId||"dropdown-menu-"+this.cid,this.keyBack=[i.keyCodes.up,i.keyCodes.left],this.keyForward=[i.keyCodes.down,i.keyCodes.right],this.keyClose=[i.keyCodes.esc,i.keyCodes.space]},className:function(){return this.options.className},render:function(){return this.model.set({menuId:this.menuId}),this.$el.html(this.tpl(this.model.toJSON())),this.$parent.replaceWith(this.$el),this.postRender(),this},postRender:function(){this.$menu=this.$(".dropdown-menu"),this.$page=e(document),this.$dropdownButton=this.$(this.dropdownButton),this.$lastItem=this.$menu.find("li:last-child a")},analyticsLinkClick:function(t){return t},clickCloseDropdown:function(t,n){var i,r=e(t.target)||e(document);r.hasClass(this.dropdownButton)||(i=r.closest(this.dropdownButton),i.length>0&&(r=i)),r.hasClass("button-more")||r.hasClass("has-dropdown")||n.closeDropdownMenu()},clickOpenDropdown:function(t){t.preventDefault(),this.openMenu(this.$dropdownButton)},closeDropdownMenu:function(){this.$(this.menu).removeClass("is-visible").addClass("is-hidden"),this.$dropdownButton.removeClass("is-active").attr("aria-expanded","false")},focusFirstItem:function(){this.$menu.find(".dropdown-item:first-child .action").focus()},focusLastItem:function(){this.$lastItem.focus()},handlerIsAction:function(t,e){n.contains(this.keyForward,t)?this.nextMenuItemLink(e):n.contains(this.keyBack,t)&&this.previousMenuItemLink(e)},handlerIsButton:function(t,e){n.contains(this.keyForward,t)?this.focusFirstItem():(n.contains(this.keyBack,t)||t===i.keyCodes.tab&&e.shiftKey)&&(e.preventDefault(),this.focusLastItem())},handlerIsMenu:function(t){n.contains(this.keyForward,t)?this.focusFirstItem():n.contains(this.keyBack,t)&&this.$dropdownButton.focus()},handlerPageClicks:function(t){this.$page.off("click.dropdown"),this.$page.on("click.dropdown",function(e){t.clickCloseDropdown(e,t)})},nextMenuItemLink:function(t){var e=this.$(".dropdown-menu").children(".dropdown-item").find(".action"),n=e.length-1,i=e.index(t),r=i+1;i===n?this.$dropdownButton.focus():e.eq(r).focus()},openMenu:function(t){var e=this.$menu;e.hasClass("is-visible")?this.closeDropdownMenu():(t.addClass("is-active").attr("aria-expanded","true"),e.removeClass("is-hidden").addClass("is-visible"),e.focus(),this.setOrientation(),this.handlerPageClicks(this))},previousMenuItemLink:function(t){var e=this.$(".dropdown-menu").children(".dropdown-item").find(".action"),n=e.index(t),i=n-1;0===n?this.$dropdownButton.focus():e.eq(i).focus()},setOrientation:function(){var t=e(window).width()/2,n=this.$dropdownButton.offset().left>t?"align-right":"align-left";this.$menu.removeClass("align-left align-right").addClass(n)},viewKeypress:function(t){var r=t.keyCode,o=e(t.target);(n.contains(this.keyForward,r)||n.contains(this.keyBack,r))&&t.preventDefault(),r!==i.keyCodes.tab||t.shiftKey||n.first(o)!==n.first(this.$lastItem)?n.contains(this.keyClose,r)?(this.closeDropdownMenu(),this.$dropdownButton.focus()):o.hasClass("action")?this.handlerIsAction(r,o):o.hasClass("dropdown-menu")?this.handlerIsMenu(r):o.hasClass("has-dropdown")&&this.handlerIsButton(r,t):(t.preventDefault(),this.$dropdownButton.focus())}})}.apply(e,i))&&(t.exports=r)},"./node_modules/edx-ui-toolkit/src/js/dropdown-menu/dropdown.underscore":function(t,e){t.exports='<a href="<%- main.url %>" class="menu-title">\n    <% if (main.screenreader_label) { %>\n        <span class="sr-only"><%- main.screenreader_label %> </span>\n    <% } %>\n    <% if (main.image) { %>\n        <img class="menu-image" src="<%- main.image %>" alt="">\n    <% } %>\n    <%- main.text %>\n</a>\n<button type="button" class="menu-button button-more has-dropdown js-dropdown-button <% if (!button.icon) { %>default-icon<% } %>" aria-haspopup="true" aria-expanded="false" aria-controls="<%- menuId %>">\n    <% if (button.icon) { %>\n        <span class="icon <%- button.icon %>" aria-hidden="true"></span>\n    <% } %>\n    <span class="sr-only"><%- button.label %></span>\n</button>\n<ul class="dropdown-menu list-divided is-hidden" id="<%- menuId %>" tabindex="-1">\n    <% _.each(items, function(item, index) { %>\n        <li class="dropdown-item item has-block-link">\n            <a href="<%- item.url %>" class="action"><%- item.text %></a>\n        </li>\n    <% }); %>\n</ul>\n'},"./node_modules/edx-ui-toolkit/src/js/utils/constants.js":function(t,e,n){var i,r;(function(n){"use strict";i=[],void 0!==(r=function(){return{keys:{tab:"Tab",enter:"Enter",esc:"Escape",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown"},keyCodes:{tab:9,enter:13,esc:27,space:32,left:37,up:38,right:39,down:40}}}.apply(e,i))&&(t.exports=r)}).call(this,n("./node_modules/webpack/buildin/amd-define.js"))},"./node_modules/scriptjs/dist/script.js":function(t,e,n){var i,r;/*!
  * $script.js JS loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz 2014 | License MIT
  */
!function(o,s){void 0!==t&&t.exports?t.exports=s():(i=s,void 0!==(r="function"==typeof i?i.call(e,n,e,t):i)&&(t.exports=r))}(0,function(){function t(t,e){for(var n=0,i=t.length;n<i;++n)if(!e(t[n]))return l;return 1}function e(e,n){t(e,function(t){return!n(t)})}function n(o,s,a){function l(t){return t.call?t():f[t]}function c(){if(!--b){f[v]=1,g&&g();for(var n in p)t(n.split("|"),l)&&!e(p[n],l)&&(p[n]=[])}}o=o[u]?o:[o];var d=s&&s.call,g=d?s:a,v=d?o.join(""):s,b=o.length;return setTimeout(function(){e(o,function t(e,n){return null===e?c():(n||/^https?:\/\//.test(e)||!r||(e=-1===e.indexOf(".js")?r+e+".js":r+e),m[e]?(v&&(h[v]=1),2==m[e]?c():setTimeout(function(){t(e,!0)},0)):(m[e]=1,v&&(h[v]=1),void i(e,c)))})},0),n}function i(t,e){var n,i=s.createElement("script");i.onload=i.onerror=i[d]=function(){i[c]&&!/^c|loade/.test(i[c])||n||(i.onload=i[d]=null,n=1,m[t]=2,e())},i.async=1,i.src=o?t+(-1===t.indexOf("?")?"?":"&")+o:t,a.insertBefore(i,a.lastChild)}var r,o,s=document,a=s.getElementsByTagName("head")[0],l=!1,u="push",c="readyState",d="onreadystatechange",f={},h={},p={},m={};return n.get=i,n.order=function(t,e,i){!function r(o){o=t.shift(),t.length?n(o,r):n(o,e,i)}()},n.path=function(t){r=t},n.urlArgs=function(t){o=t},n.ready=function(i,r,o){i=i[u]?i:[i];var s=[];return!e(i,function(t){f[t]||s[u](t)})&&t(i,function(t){return f[t]})?r():function(t){p[t]=p[t]||[],p[t][u](r),o&&o(s)}(i.join("|")),n},n.done=function(t){n([null],t)},n})},3:function(t,e){!function(){t.exports=window.gettext}()},6:function(t,e){!function(){t.exports=window.URI}()}},["./cms/static/js/factories/library.js"]));