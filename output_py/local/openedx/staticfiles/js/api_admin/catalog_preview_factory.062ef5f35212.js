RequireJS.define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),RequireJS.define("text!templates/api_admin/catalog-results.underscore",[],function(){return'<h2 class="api-subheading"><%- gettext("This catalog\'s courses:") %></h2>\n<ul class="preview-results-list">\n  <% _.each(courses, function (course) { %>\n    <li><a href="<%- catalogApiUrl + encodeURIComponent(course.key) %>"><%- course.title %></a></li>\n  <% }); %>\n</ul>\n'}),RequireJS.define("text!templates/api_admin/catalog-error.underscore",[],function(){return"<p class=\"api-copy-body\">\n  <%- gettext('There was an error retrieving preview results for this catalog. Please check that your query is correct and try again.') %>\n</p>\n"}),function(e){"use strict";RequireJS.define("js/api_admin/views/catalog_preview",["backbone","underscore","gettext","text!../../../templates/api_admin/catalog-results.underscore","text!../../../templates/api_admin/catalog-error.underscore","edx-ui-toolkit/js/utils/html-utils"],function(e,t,r,i,n,a){return e.View.extend({events:{"click .preview-query":"previewQuery"},initialize:function(e){this.previewUrl=e.previewUrl,this.catalogApiUrl=e.catalogApiUrl},render:function(){return this.$("#id_query").after(a.joinHtml(a.HTML('<button class="preview-query">'),r("Preview this query"),a.HTML("</button>")).toString()),this},getQuery:function(){return encodeURIComponent(this.$("#id_query").val())},previewQuery:function(e){e.preventDefault(),$.ajax(this.previewUrl+"?q="+this.getQuery(),{method:"GET",success:t.bind(this.renderCourses,this),error:t.bind(function(){a.setHtml(this.$(".preview-results"),a.template(n)({}))},this)})},renderCourses:function(e){a.setHtml(this.$(".preview-results"),a.template(i)({courses:e.results,catalogApiUrl:this.catalogApiUrl}))}})})}.call(this,define||RequireJS.define),function(e){"use strict";RequireJS.define("js/api_admin/catalog_preview_factory",["js/api_admin/views/catalog_preview"],function(e){return function(t){var r=new e({el:".catalog-body",previewUrl:t.previewUrl,catalogApiUrl:t.catalogApiUrl});return r.render()}})}.call(this,define||RequireJS.define);