!function(t,s){for(var n in s)t[n]=s[n]}(window,webpackJsonp([34],{"./common/static/xmodule/modules/js/001-3918b2d4f383c04fed8227cc9f523d6e.js":function(t,s,n){(function(t){(function(){(function(){"use strict";this.JavascriptLoader=function(){function s(){}return s.executeModuleScripts=function(s,n){var e,o,i,l,r;return n||(n=null),r=s.find(".script_placeholder"),0===r.length?(null!==n&&n(),[]):(o=function(){var t,s,n;for(n=[],t=1,s=r.length;s>=1?t<=s:t>=s;s>=1?++t:--t)n.push(!1);return n}(),e=!1,i=function(t){return function(){var s,i,l;for(s=!0,o[t]=!0,i=0,l=o.length;i<l;i++)if(!o[i]){s=!1;break}if(s&&!e&&(e=!0,null!==n))return n()}},l={},r.each(function(s,n){var e,o;return o=t(n).attr("data-src"),o in l?i(s)():(l[o]=!0,e=document.createElement("script"),e.setAttribute("src",o),e.setAttribute("type","text/javascript"),e.onload=i(s),t("head")[0].appendChild(e)),t(n).remove()}))},s}()}).call(this)}).call(window)}).call(s,n(0))},"./common/static/xmodule/modules/js/002-8b615179a51250c4dc203f1daa97be63.js":function(t,s,n){var e,o;(function(){e=[n("./xmodule/js/src/poll/poll_main.js")],void 0!==(o=function(t){"use strict";function s(s){return new t(s)}return window.Poll=s,s}.apply(s,e))&&(t.exports=o)}).call(window)},"./common/static/xmodule/modules/js/003-b0b94fcb795e61452b7175b797fb5fb2.js":function(t,s,n){(function(e,o){var i,l;(function(){i=[n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(l=function(t){function s(t,s){var n;if(this.runtime=s,this.questionEl=e(t).find(".poll_question"),1!==this.questionEl.length)return void console.log("ERROR: PollMain constructor requires one question DOM element.");if("true"===this.questionEl.attr("poll_main_processed"))return void console.log("ERROR: PolMain JS constructor was called on a DOM element that has already been processed once.");this.questionEl.attr("poll_main_processed","true"),n=this,this.wrapperSectionEl=null,function(t,s){for(;"body"!==t.tagName.toLowerCase();){if(t=e(t).parent()[0],s+=1,"div"===t.tagName.toLowerCase()&&"wrapper"===e(t).data("block-type")){n.wrapperSectionEl=t;break}if(s>50)break}}(e(t)[0],0);try{return this.jsonConfig=JSON.parse(this.questionEl.children(".poll_question_div").html()),void e.postWithPrefix(this.questionEl.data("ajax-url")+"/get_state",{},function(t){n.jsonConfig.poll_answer=t.poll_answer,n.jsonConfig.total=t.total,e.each(t.poll_answers,function(t,s){n.jsonConfig.poll_answers[t]=s}),n.questionEl.children(".poll_question_div").html(JSON.stringify(n.jsonConfig)),n.postInit()})}catch(t){return void console.log('ERROR: Invalid JSON config for poll ID "'+this.id+'".','Error messsage: "'+t.message+'".')}}return s.prototype={showAnswerGraph:function(s,n){var o,i;i=parseFloat(n),!1!==isFinite(i)&&(o=this,e.each(s,function(s,n){var e,l;e=parseFloat(n),!1!==isFinite(e)&&(l=e/i*100,o.answersObj[s].statsEl.show(),o.answersObj[s].numberEl.html(t.HTML(n+" ("+l.toFixed(1)+"%)").toString()),o.answersObj[s].percentEl.css({width:l.toFixed(1)+"%"}))}))},submitAnswer:function(t,s){var n;!0!==this.questionAnswered&&(this.questionAnswered=!0,n=this,console.log("submit answer"),s.buttonEl.addClass("answered"),e.postWithPrefix(n.ajax_url+"/"+t,{},function(t){console.log("success! response = "),console.log(t),n.showAnswerGraph(t.poll_answers,t.total),!0===n.canReset&&n.resetButton.show(),null!==n.wrapperSectionEl&&e(n.wrapperSectionEl).find(".xmodule_ConditionalModule").each(function(t,s){new window.Conditional(s,n.runtime,n.id.replace(/^poll_/,""))})}))},submitReset:function(){var t;t=this,console.log("submit reset"),e.postWithPrefix(this.ajax_url+"/reset_poll",{},function(s){console.log("success! response = "),console.log(s),!0===s.hasOwnProperty("status")&&"string"==typeof s.status&&"success"===s.status.toLowerCase()&&(t.questionAnswered=!1,t.questionEl.find(".button.answered").removeClass("answered"),t.questionEl.find(".stats").hide(),t.resetButton.hide(),null!==t.wrapperSectionEl&&e(t.wrapperSectionEl).find(".xmodule_ConditionalModule").each(function(s,n){new window.Conditional(n,t.runtime,t.id.replace(/^poll_/,""))}))})},postInit:function(){var s;if(s=this,this.jsonConfig.poll_answer.length>0&&!1===this.jsonConfig.answers.hasOwnProperty(this.jsonConfig.poll_answer))return void t.append(this.questionEl,t.joinHtml(t.HTML("<h3>Error!</h3>"),t.HTML("<p>XML data format changed. List of answers was modified, but poll data was not updated.</p>")));this.id=this.questionEl.attr("id"),this.ajax_url=this.questionEl.data("ajax-url"),this.questionHtmlMarkup=e("<div />").html(t.HTML(this.jsonConfig.question).toString()).text(),this.questionEl.append(t.HTML(this.questionHtmlMarkup).toString()),this.questionAnswered=!1,this.answersObj={},this.shortVersion=!0,e.each(this.jsonConfig.answers,function(t,n){n.length>=18&&(s.shortVersion=!1)}),e.each(this.jsonConfig.answers,function(n,i){var l;l={},s.answersObj[n]=l,l.el=e('<div class="poll_answer"></div>'),l.questionEl=e('<div class="question"></div>'),l.buttonEl=e('<div class="button"></div>'),l.textEl=e('<div class="text"></div>'),l.questionEl.append(t.HTML(l.buttonEl).toString()),l.questionEl.append(t.HTML(l.textEl).toString()),l.el.append(t.HTML(l.questionEl).toString()),l.statsEl=e('<div class="stats"></div>'),l.barEl=e('<div class="bar"></div>'),l.percentEl=e('<div class="percent"></div>'),l.barEl.append(t.HTML(l.percentEl).toString()),l.numberEl=e('<div class="number"></div>'),l.statsEl.append(t.HTML(l.barEl).toString()),l.statsEl.append(t.HTML(l.numberEl).toString()),l.statsEl.hide(),l.el.append(t.HTML(l.statsEl).toString()),l.textEl.html(t.HTML(i).toString()),!0===s.shortVersion&&e.each(l,function(t,s){s instanceof o&&s.addClass("short")}),l.el.appendTo(s.questionEl),l.textEl.on("click",function(){s.submitAnswer(n,l)}),l.buttonEl.on("click",function(){s.submitAnswer(n,l)}),n===s.jsonConfig.poll_answer&&(l.buttonEl.addClass("answered"),s.questionAnswered=!0)}),console.log(this.jsonConfig.reset),"string"==typeof this.jsonConfig.reset&&"true"===this.jsonConfig.reset.toLowerCase()?(this.canReset=!0,this.resetButton=e('<div class="button reset-button">Change your vote</div>'),!1===this.questionAnswered&&this.resetButton.hide(),t.append(this.questionEl,this.resetButton),this.resetButton.on("click",function(){s.submitReset()})):this.canReset=!1,!0===this.questionAnswered&&this.showAnswerGraph(this.jsonConfig.poll_answers,this.jsonConfig.total)}},s}.apply(s,i))&&(t.exports=l)}).call(window)}).call(s,n(0),n(0))},"./xmodule/js/src/poll/poll_main.js":function(t,s,n){(function(e,o){var i,l;i=[n("./node_modules/edx-ui-toolkit/src/js/utils/html-utils.js")],void 0!==(l=function(t){function s(t,s){var n;if(this.runtime=s,this.questionEl=e(t).find(".poll_question"),1!==this.questionEl.length)return void console.log("ERROR: PollMain constructor requires one question DOM element.");if("true"===this.questionEl.attr("poll_main_processed"))return void console.log("ERROR: PolMain JS constructor was called on a DOM element that has already been processed once.");this.questionEl.attr("poll_main_processed","true"),n=this,this.wrapperSectionEl=null,function(t,s){for(;"body"!==t.tagName.toLowerCase();){if(t=e(t).parent()[0],s+=1,"div"===t.tagName.toLowerCase()&&"wrapper"===e(t).data("block-type")){n.wrapperSectionEl=t;break}if(s>50)break}}(e(t)[0],0);try{return this.jsonConfig=JSON.parse(this.questionEl.children(".poll_question_div").html()),void e.postWithPrefix(this.questionEl.data("ajax-url")+"/get_state",{},function(t){n.jsonConfig.poll_answer=t.poll_answer,n.jsonConfig.total=t.total,e.each(t.poll_answers,function(t,s){n.jsonConfig.poll_answers[t]=s}),n.questionEl.children(".poll_question_div").html(JSON.stringify(n.jsonConfig)),n.postInit()})}catch(t){return void console.log('ERROR: Invalid JSON config for poll ID "'+this.id+'".','Error messsage: "'+t.message+'".')}}return s.prototype={showAnswerGraph:function(s,n){var o,i;i=parseFloat(n),!1!==isFinite(i)&&(o=this,e.each(s,function(s,n){var e,l;e=parseFloat(n),!1!==isFinite(e)&&(l=e/i*100,o.answersObj[s].statsEl.show(),o.answersObj[s].numberEl.html(t.HTML(n+" ("+l.toFixed(1)+"%)").toString()),o.answersObj[s].percentEl.css({width:l.toFixed(1)+"%"}))}))},submitAnswer:function(t,s){var n;!0!==this.questionAnswered&&(this.questionAnswered=!0,n=this,console.log("submit answer"),s.buttonEl.addClass("answered"),e.postWithPrefix(n.ajax_url+"/"+t,{},function(t){console.log("success! response = "),console.log(t),n.showAnswerGraph(t.poll_answers,t.total),!0===n.canReset&&n.resetButton.show(),null!==n.wrapperSectionEl&&e(n.wrapperSectionEl).find(".xmodule_ConditionalModule").each(function(t,s){new window.Conditional(s,n.runtime,n.id.replace(/^poll_/,""))})}))},submitReset:function(){var t;t=this,console.log("submit reset"),e.postWithPrefix(this.ajax_url+"/reset_poll",{},function(s){console.log("success! response = "),console.log(s),!0===s.hasOwnProperty("status")&&"string"==typeof s.status&&"success"===s.status.toLowerCase()&&(t.questionAnswered=!1,t.questionEl.find(".button.answered").removeClass("answered"),t.questionEl.find(".stats").hide(),t.resetButton.hide(),null!==t.wrapperSectionEl&&e(t.wrapperSectionEl).find(".xmodule_ConditionalModule").each(function(s,n){new window.Conditional(n,t.runtime,t.id.replace(/^poll_/,""))}))})},postInit:function(){var s;if(s=this,this.jsonConfig.poll_answer.length>0&&!1===this.jsonConfig.answers.hasOwnProperty(this.jsonConfig.poll_answer))return void t.append(this.questionEl,t.joinHtml(t.HTML("<h3>Error!</h3>"),t.HTML("<p>XML data format changed. List of answers was modified, but poll data was not updated.</p>")));this.id=this.questionEl.attr("id"),this.ajax_url=this.questionEl.data("ajax-url"),this.questionHtmlMarkup=e("<div />").html(t.HTML(this.jsonConfig.question).toString()).text(),this.questionEl.append(t.HTML(this.questionHtmlMarkup).toString()),this.questionAnswered=!1,this.answersObj={},this.shortVersion=!0,e.each(this.jsonConfig.answers,function(t,n){n.length>=18&&(s.shortVersion=!1)}),e.each(this.jsonConfig.answers,function(n,i){var l;l={},s.answersObj[n]=l,l.el=e('<div class="poll_answer"></div>'),l.questionEl=e('<div class="question"></div>'),l.buttonEl=e('<div class="button"></div>'),l.textEl=e('<div class="text"></div>'),l.questionEl.append(t.HTML(l.buttonEl).toString()),l.questionEl.append(t.HTML(l.textEl).toString()),l.el.append(t.HTML(l.questionEl).toString()),l.statsEl=e('<div class="stats"></div>'),l.barEl=e('<div class="bar"></div>'),l.percentEl=e('<div class="percent"></div>'),l.barEl.append(t.HTML(l.percentEl).toString()),l.numberEl=e('<div class="number"></div>'),l.statsEl.append(t.HTML(l.barEl).toString()),l.statsEl.append(t.HTML(l.numberEl).toString()),l.statsEl.hide(),l.el.append(t.HTML(l.statsEl).toString()),l.textEl.html(t.HTML(i).toString()),!0===s.shortVersion&&e.each(l,function(t,s){s instanceof o&&s.addClass("short")}),l.el.appendTo(s.questionEl),l.textEl.on("click",function(){s.submitAnswer(n,l)}),l.buttonEl.on("click",function(){s.submitAnswer(n,l)}),n===s.jsonConfig.poll_answer&&(l.buttonEl.addClass("answered"),s.questionAnswered=!0)}),console.log(this.jsonConfig.reset),"string"==typeof this.jsonConfig.reset&&"true"===this.jsonConfig.reset.toLowerCase()?(this.canReset=!0,this.resetButton=e('<div class="button reset-button">Change your vote</div>'),!1===this.questionAnswered&&this.resetButton.hide(),t.append(this.questionEl,this.resetButton),this.resetButton.on("click",function(){s.submitReset()})):this.canReset=!1,!0===this.questionAnswered&&this.showAnswerGraph(this.jsonConfig.poll_answers,this.jsonConfig.total)}},s}.apply(s,i))&&(t.exports=l)}).call(s,n(0),n(0))},15:function(t,s,n){n("./common/static/xmodule/modules/js/000-b82f6c436159f6bc7ca2513e29e82503.js"),n("./common/static/xmodule/modules/js/001-3918b2d4f383c04fed8227cc9f523d6e.js"),n("./common/static/xmodule/modules/js/002-8b615179a51250c4dc203f1daa97be63.js"),t.exports=n("./common/static/xmodule/modules/js/003-b0b94fcb795e61452b7175b797fb5fb2.js")}},[15]));